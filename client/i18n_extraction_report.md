# ğŸŒ Weltenwind i18n String Extraction Report

**Gesamt gefunden:** 2239 Strings
**Neue Strings:** 2239 (noch nicht in .arb)
**Bereits vorhanden:** 0

## ğŸ“Š Kategorien

- **auth**: 255 Strings
- **button**: 199 Strings
- **dialog**: 16 Strings
- **error**: 740 Strings
- **form**: 51 Strings
- **invite**: 104 Strings
- **navigation**: 231 Strings
- **ui**: 261 Strings
- **world**: 382 Strings

## ğŸ¯ Konfidenz-Verteilung

- **Hoch (â‰¥80%)**: 1068 Strings âœ…
- **Mittel (60-79%)**: 979 Strings âš ï¸
- **Niedrig (<60%)**: 192 Strings â“

## ğŸ“ Quote-Types

- **'-Quotes**: 2202 Strings
- **"-Quotes**: 37 Strings

## ğŸ” Neue Strings (PrioritÃ¤t: Hoch â†’ Niedrig)

### ğŸ·ï¸ AUTH

**authClassAuthserviceStatic** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:6:27`
- ğŸ“ Original: `';

class AuthService {
  static final AuthService _instance = AuthService._internal();
  factory AuthService() => _instance;
  AuthService._internal();

  final ApiService _apiService = ApiService();
  User? _currentUser;
  bool _refreshing = false; // Rate-Limiting fÃ¼r parallele Refreshes

  // Reaktiver Auth-Status fÃ¼r GoRouter
  final ValueNotifier<bool> isAuthenticated = ValueNotifier(false);

  // HINZUGEFÃœGT: Post-Auth-Redirect System fÃ¼r Invite-Flow
  String? _pendingInviteToken;
  String? _pendingRedirectRoute;
  Map<String, String>? _pendingRouteParams;

  User? get currentUser => _currentUser;

  // HINZUGEFÃœGT: Invite-Redirect Management
  void setPendingInviteRedirect(String inviteToken) {
    _pendingInviteToken = inviteToken;
    _pendingRedirectRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../models/user.dart';
import '../../config/logger.dart';
import 'api_service.dart';
import 'token_storage.dart';

class AuthService {
  static final AuthService _instance = AuthService._internal();
```

**authKeinAccesstokenGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:72:26`
- ğŸ“ Original: `'âŒ Kein Access-Token gefunden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
      
      if (accessToken == null || accessToken.isEmpty) {
        AppLogger.auth.i('âŒ Kein Access-Token gefunden');
        isAuthenticated.value = false;
        return false;
      }
```

**auth_currentuserrolesmaprRrolenametolistReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:201:17`
- ğŸ“ Original: `': _currentUser?.roles?.map((r) => r.role.name).toList(),
        });
        
        return _currentUser;
      } else if (response.statusCode == 401) {
        AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('login_success', username: username, metadata: {
          'userId': _currentUser?.id,
          'roles': _currentUser?.roles?.map((r) => r.role.name).toList(),
        });
        
        return _currentUser;
```

**authAuthregister** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:234:47`
- ğŸ“ Original: `'/auth/register'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
    
    try {
      final response = await _apiService.post('/auth/register', {
        'username': username,
        'email': email,
        'password': password,
```

**authPasswordIfResponsestatuscode** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:237:18`
- ğŸ“ Original: `': password,
      });

      if (response.statusCode == 201) {
        final data = jsonDecode(response.body);
        
        // Token aus der Response extrahieren
        final accessToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final response = await _apiService.post('/auth/register', {
        'username': username,
        'email': email,
        'password': password,
      });

      if (response.statusCode == 201) {
```

**auth_currentuserrolesmaprRrolenametolistReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:276:17`
- ğŸ“ Original: `': _currentUser?.roles?.map((r) => r.role.name).toList(),
        });
        
        return _currentUser;
      } else if (response.statusCode == 409) {
        AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('register_success', username: username, metadata: {
          'userId': _currentUser?.id,
          'email': email,
          'roles': _currentUser?.roles?.map((r) => r.role.name).toList(),
        });
        
        return _currentUser;
```

**authKeinAccesstokenGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:72:26`
- ğŸ“ Original: `'âŒ Kein Access-Token gefunden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
      
      if (accessToken == null || accessToken.isEmpty) {
        AppLogger.auth.i('âŒ Kein Access-Token gefunden');
        isAuthenticated.value = false;
        return false;
      }
```

**authTokenAbgelaufenVersuche** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:87:26`
- ğŸ“ Original: `'âš ï¸ Token abgelaufen - versuche Refresh'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('user_authenticated', username: _currentUser?.username);
        return true;
      } else if (response.statusCode == 401) {
        AppLogger.auth.w('âš ï¸ Token abgelaufen - versuche Refresh');
        // Token abgelaufen, versuche Refresh
        final refreshed = await refreshTokenIfNeeded();
        isAuthenticated.value = refreshed;
```

**authPasswordIfResponsestatuscode** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:179:18`
- ğŸ“ Original: `': password,
      });

      if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
        final accessToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final response = await _apiService.post('/auth/login', {
        'username': username,
        'password': password,
      });

      if (response.statusCode == 200) {
```

**authPasswordIfResponsestatuscode** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:237:18`
- ğŸ“ Original: `': password,
      });

      if (response.statusCode == 201) {
        final data = jsonDecode(response.body);
        
        // Token aus der Response extrahieren
        final accessToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final response = await _apiService.post('/auth/register', {
        'username': username,
        'email': email,
        'password': password,
      });

      if (response.statusCode == 201) {
```

**authUsernameUsernameTry** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:318:43`
- ğŸ“ Original: `', username: username);
    
    try {
      // Versuche Server-seitiges Logout
      final accessToken = await TokenStorage.getAccessToken();
      if (accessToken != null) {
        _apiService.setToken(accessToken);
        try {
          await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Erweitertes Logout mit Server-Call und vollstÃ¤ndigem Cleanup
  Future<void> logout() async {
    final username = _currentUser?.username ?? 'unknown';
    AppLogger.logAuthEvent('logout_attempt', username: username);
    
    try {
      // Versuche Server-seitiges Logout
```

**authUsernameUsernameCatch** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:327:56`
- ğŸ“ Original: `', username: username);
        } catch (e) {
          // Server-Logout fehlgeschlagen, trotzdem lokal ausloggen
          AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_apiService.setToken(accessToken);
        try {
          await _apiService.post('/auth/logout', {});
          AppLogger.logAuthEvent('server_logout_success', username: username);
        } catch (e) {
          // Server-Logout fehlgeschlagen, trotzdem lokal ausloggen
          AppLogger.logAuthEvent('server_logout_failed', username: username, metadata: {
```

**authIfResponsestatuscode200** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:380:61`
- ğŸ“ Original: `', {});
      
      if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
        final newAccessToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}

      _apiService.setToken(refreshToken);
      final response = await _apiService.post('/auth/refresh', {});
      
      if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
```

**authIfResponsestatuscode200** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:418:55`
- ğŸ“ Original: `');
      
      if (response.statusCode == 200) {
        final userData = jsonDecode(response.body);
        _currentUser = User.fromJson(userData);
        await TokenStorage.saveUserData(jsonEncode(userData));
        return _currentUser;
      } else if (response.statusCode == 401) {
        // Token invalid, clear auth
        await logout();
        return null;
      } else {
        throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Fetch current user data with roles from server
  Future<User?> fetchCurrentUser() async {
    try {
      final response = await _apiService.get('/auth/me');
      
      if (response.statusCode == 200) {
        final userData = jsonDecode(response.body);
```

**authExpiresattoiso8601stringStrukturierteFehlercodes** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:42:17`
- ğŸ“ Original: `': expiresAt?.toIso8601String(),
    };
  }
}

// Strukturierte Fehlercodes fÃ¼r bessere Wartbarkeit
enum InviteErrorCode {
  inviteAlreadySent,
  permissionDenied,
  worldNotFound,
  worldNotOpen,
  invalidEmail,
  networkError,
  unknown,
}

class InviteService {
  static final InviteService _instance = InviteService._internal();
  factory InviteService() => _instance;
  InviteService._internal();

  final ApiService _apiService = ApiService();

  // Strukturierte Fehlerbehandlung mit Error-Codes
  InviteErrorCode _parseErrorCode(Map<String, dynamic> errorData) {
    final errorCode = errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'email': email,
      'status': status,
      'createdAt': createdAt?.toIso8601String(),
      'expiresAt': expiresAt?.toIso8601String(),
    };
  }
}
```

**authDataIfResponsestatuscode** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:162:79`
- ğŸ“ Original: `', data);
      
      if (response.statusCode == 200) {
        return true;
      } else if (response.statusCode == 400) {
        // Konsistente Fehlerbehandlung wie createInvite
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'email': email,
      };

      final response = await _apiService.post('/worlds/$worldId/invites/public', data);
      
      if (response.statusCode == 200) {
        return true;
```

**authExpiresattoiso8601stringStrukturierteFehlercodes** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:42:17`
- ğŸ“ Original: `': expiresAt?.toIso8601String(),
    };
  }
}

// Strukturierte Fehlercodes fÃ¼r bessere Wartbarkeit
enum InviteErrorCode {
  inviteAlreadySent,
  permissionDenied,
  worldNotFound,
  worldNotOpen,
  invalidEmail,
  networkError,
  unknown,
}

class InviteService {
  static final InviteService _instance = InviteService._internal();
  factory InviteService() => _instance;
  InviteService._internal();

  final ApiService _apiService = ApiService();

  // Strukturierte Fehlerbehandlung mit Error-Codes
  InviteErrorCode _parseErrorCode(Map<String, dynamic> errorData) {
    final errorCode = errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'email': email,
      'status': status,
      'createdAt': createdAt?.toIso8601String(),
      'expiresAt': expiresAt?.toIso8601String(),
    };
  }
}
```

**authDataIfResponsestatuscode** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:162:79`
- ğŸ“ Original: `', data);
      
      if (response.statusCode == 200) {
        return true;
      } else if (response.statusCode == 400) {
        // Konsistente Fehlerbehandlung wie createInvite
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'email': email,
      };

      final response = await _apiService.post('/worlds/$worldId/invites/public', data);
      
      if (response.statusCode == 200) {
        return true;
```

**authPreregistrationstatusmodelFÃ¼rBessere** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:7:33`
- ğŸ“ Original: `';

// PreRegistrationStatus-Model fÃ¼r bessere Typisierung
class PreRegistrationStatus {
  final bool isPreRegistered;
  final DateTime? registeredAt;
  final String? status;
  final Map<String, dynamic>? config;

  PreRegistrationStatus({
    required this.isPreRegistered,
    this.registeredAt,
    this.status,
    this.config,
  });

  factory PreRegistrationStatus.fromJson(Map<String, dynamic> json) {
    return PreRegistrationStatus(
      isPreRegistered: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../models/world.dart';
import 'api_service.dart';
import 'auth_service.dart';
import '../../config/logger.dart';

// PreRegistrationStatus-Model fÃ¼r bessere Typisierung
class PreRegistrationStatus {
```

**authTrueRegisteredatJson** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:25:45`
- ğŸ“ Original: `'] == true,
      registeredAt: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
factory PreRegistrationStatus.fromJson(Map<String, dynamic> json) {
    return PreRegistrationStatus(
      isPreRegistered: json['isPreRegistered'] == true,
      registeredAt: json['registeredAt'] != null
          ? DateTime.parse(json['registeredAt'] as String)
          : null,
```

**authConfigStrukturierteFehlercodes** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:39:14`
- ğŸ“ Original: `': config,
    };
  }
}

// Strukturierte Fehlercodes fÃ¼r bessere Wartbarkeit
enum WorldErrorCode {
  worldNotFound,
  permissionDenied,
  worldArchived,
  alreadyRegistered,
  alreadyPreRegistered,
  preRegistrationClosed,
  notAuthenticated,
  networkError,
  unknown,
}

class WorldService {
  static final WorldService _instance = WorldService._internal();
  factory WorldService() => _instance;
  WorldService._internal();

  final ApiService _apiService = ApiService();
  final AuthService _authService = AuthService();

  // Strukturierte Fehlerbehandlung mit Error-Codes
  WorldErrorCode _parseErrorCode(Map<String, dynamic> errorData) {
    final errorCode = errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'isPreRegistered': isPreRegistered,
      'registeredAt': registeredAt?.toIso8601String(),
      'status': status,
      'config': config,
    };
  }
}
```

**authWorldsworldidpreregister** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:220:47`
- ğŸ“ Original: `'/worlds/$worldId/pre-register'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
data['config'] = config;
      }

      final response = await _apiService.post('/worlds/$worldId/pre-register', data);
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
```

**authWorldsworldidpreregister** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:260:47`
- ğŸ“ Original: `'/worlds/$worldId/pre-register'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
data['config'] = config;
      }

      final response = await _apiService.post('/worlds/$worldId/pre-register', data);
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
```

**authIfResponsestatuscode200** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:355:79`
- ğŸ“ Original: `');
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return PreRegistrationStatus.fromJson(responseData);
      }
      return PreRegistrationStatus(isPreRegistered: false);
    } catch (e) {
      // 404 means user is not pre-registered, which is normal
      // Don'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Neue typsichere Methode mit PreRegistrationStatus-Model
  Future<PreRegistrationStatus> getPreRegistrationStatus(int worldId) async {
    try {
      final response = await _apiService.get('/worlds/$worldId/pre-register/me');
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
```

**authConfigStrukturierteFehlercodes** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:39:14`
- ğŸ“ Original: `': config,
    };
  }
}

// Strukturierte Fehlercodes fÃ¼r bessere Wartbarkeit
enum WorldErrorCode {
  worldNotFound,
  permissionDenied,
  worldArchived,
  alreadyRegistered,
  alreadyPreRegistered,
  preRegistrationClosed,
  notAuthenticated,
  networkError,
  unknown,
}

class WorldService {
  static final WorldService _instance = WorldService._internal();
  factory WorldService() => _instance;
  WorldService._internal();

  final ApiService _apiService = ApiService();
  final AuthService _authService = AuthService();

  // Strukturierte Fehlerbehandlung mit Error-Codes
  WorldErrorCode _parseErrorCode(Map<String, dynamic> errorData) {
    final errorCode = errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'isPreRegistered': isPreRegistered,
      'registeredAt': registeredAt?.toIso8601String(),
      'status': status,
      'config': config,
    };
  }
}
```

**authBitteGibEine** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:230:44`
- ğŸ“ Original: `'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Bitte gib deine E-Mail-Adresse ein';
                                  }
                                  if (!_emailRegex.hasMatch(value.trim())) {
                                    return 'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein';
                                  }
                                  return null;
                                },
```

**authBitteGibEine** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:230:44`
- ğŸ“ Original: `'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Bitte gib deine E-Mail-Adresse ein';
                                  }
                                  if (!_emailRegex.hasMatch(value.trim())) {
                                    return 'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein';
                                  }
                                  return null;
                                },
```

**authReturnNullIf** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:230:86`
- ğŸ“ Original: `';
                                  }
                                  return null;
                                },
                              ),
                            
                            if (!_isSuccess) const SizedBox(height: 16),
                            
                            // Error message
                            if (_errorMessage != null && !_isSuccess)
                              Container(
                                width: double.infinity,
                                padding: const EdgeInsets.all(12),
                                margin: const EdgeInsets.only(bottom: 16),
                                decoration: BoxDecoration(
                                  color: Colors.red[900]!.withOpacity(0.3),
                                  borderRadius: BorderRadius.circular(8),
                                  border: Border.all(color: Colors.red[400]!.withOpacity(0.5)),
                                ),
                                child: Row(
                                  children: [
                                    Icon(Icons.error_outline, color: Colors.red[400], size: 20),
                                    const SizedBox(width: 8),
                                    Expanded(
                                      child: Text(
                                        _errorMessage!,
                                        style: TextStyle(color: Colors.red[200], fontSize: 14),
                                      ),
                                    ),
                                  ],
                                ),
                              ),
                            
                            // Submit button
                            if (!_isSuccess)
                              SizedBox(
                                width: double.infinity,
                                height: 56,
                                child: ElevatedButton(
                                  onPressed: _isLoading ? null : _requestPasswordReset,
                                  style: ElevatedButton.styleFrom(
                                    backgroundColor: AppTheme.primaryColor,
                                    foregroundColor: Colors.white,
                                    shape: RoundedRectangleBorder(
                                      borderRadius: BorderRadius.circular(12),
                                    ),
                                    elevation: 8,
                                    shadowColor: AppTheme.primaryColor.withOpacity(0.5),
                                  ),
                                  child: _isLoading
                                      ? const SizedBox(
                                          height: 20,
                                          width: 20,
                                          child: CircularProgressIndicator(
                                            strokeWidth: 2,
                                            valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                                          ),
                                        )
                                      : const Text(
                                          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Bitte gib deine E-Mail-Adresse ein';
                                  }
                                  if (!_emailRegex.hasMatch(value.trim())) {
                                    return 'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein';
                                  }
                                  return null;
                                },
```

**authThemebackground_widgetdart** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:6:8`
- ğŸ“ Original: `'../../theme/background_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';
```

**authClassLoginpageExtends** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:9:24`
- ğŸ“ Original: `';

class LoginPage extends StatefulWidget {
  const LoginPage({super.key});

  @override
  State<LoginPage> createState() => _LoginPageState();
}

class _LoginPageState extends State<LoginPage> with SingleTickerProviderStateMixin {
  final _formKey = GlobalKey<FormState>();
  final _usernameController = TextEditingController();
  final _passwordController = TextEditingController();
  
  late final AuthService _authService;
  late AnimationController _animationController;
  late Animation<double> _fadeAnimation;
  
  bool _isLoading = false;
  bool _obscurePassword = true;
  String? _loginError;
  bool _rememberMe = false;
  
  // Invite-Parameter
  String? _inviteToken;
  
  // FÃ¼r bessere Validierung
  bool _hasInteractedWithUsername = false;
  bool _hasInteractedWithPassword = false;

  @override
  void initState() {
    super.initState();
    _initializeServices();
    _loadQueryParameters();
    
    // Animation Setup
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 800),
      vsync: this,
    );
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeIn,
    ));
    
    _animationController.forward();
  }

  @override
  void dispose() {
    _animationController.dispose();
    _usernameController.dispose();
    _passwordController.dispose();
    super.dispose();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

class LoginPage extends StatefulWidget {
  const LoginPage({super.key});
```

**authPasswortMussMindestens** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:353:48`
- ğŸ“ Original: `'Passwort muss mindestens 6 Zeichen lang sein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Bitte gib dein Passwort ein';
                                      }
                                      if (_hasInteractedWithPassword && value.length < 6) {
                                        return 'Passwort muss mindestens 6 Zeichen lang sein';
                                      }
                                      return null;
                                    },
```

**authGithubLoginWird** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:536:61`
- ğŸ“ Original: `'GitHub Login wird bald verfÃ¼gbar sein'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
onPressed: () {
                                          ScaffoldMessenger.of(context).showSnackBar(
                                            const SnackBar(
                                              content: Text('GitHub Login wird bald verfÃ¼gbar sein'),
                                            ),
                                          );
                                        },
```

**authClassLoginpageExtends** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:9:24`
- ğŸ“ Original: `';

class LoginPage extends StatefulWidget {
  const LoginPage({super.key});

  @override
  State<LoginPage> createState() => _LoginPageState();
}

class _LoginPageState extends State<LoginPage> with SingleTickerProviderStateMixin {
  final _formKey = GlobalKey<FormState>();
  final _usernameController = TextEditingController();
  final _passwordController = TextEditingController();
  
  late final AuthService _authService;
  late AnimationController _animationController;
  late Animation<double> _fadeAnimation;
  
  bool _isLoading = false;
  bool _obscurePassword = true;
  String? _loginError;
  bool _rememberMe = false;
  
  // Invite-Parameter
  String? _inviteToken;
  
  // FÃ¼r bessere Validierung
  bool _hasInteractedWithUsername = false;
  bool _hasInteractedWithPassword = false;

  @override
  void initState() {
    super.initState();
    _initializeServices();
    _loadQueryParameters();
    
    // Animation Setup
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 800),
      vsync: this,
    );
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeIn,
    ));
    
    _animationController.forward();
  }

  @override
  void dispose() {
    _animationController.dispose();
    _usernameController.dispose();
    _passwordController.dispose();
    super.dispose();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

class LoginPage extends StatefulWidget {
  const LoginPage({super.key});
```

**authThemebackground_widgetdart** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:7:8`
- ğŸ“ Original: `'../../theme/background_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../core/services/auth_service.dart';
import '../../core/services/world_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';
```

**authClassRegisterpageExtends** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:10:24`
- ğŸ“ Original: `';

class RegisterPage extends StatefulWidget {
  const RegisterPage({super.key});

  @override
  State<RegisterPage> createState() => _RegisterPageState();
}

class _RegisterPageState extends State<RegisterPage> {
  final _formKey = GlobalKey<FormState>();
  final _usernameController = TextEditingController();
  final _emailController = TextEditingController();
  final _passwordController = TextEditingController();
  
  // DI-ready: ServiceLocator verwenden statt Singleton
  late final AuthService _authService;
  
  bool _isLoading = false;
  bool _obscurePassword = true;
  String? _registerError;
  
  // Invite-Parameter
  String? _inviteToken;
  String? _prefilledEmail;

  // E-Mail-Validierung Regex
  static final RegExp _emailRegex = RegExp(r'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

class RegisterPage extends StatefulWidget {
  const RegisterPage({super.key});
```

**authOverrideVoidInitstate** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:37:66`
- ğŸ“ Original: `');

  @override
  void initState() {
    super.initState();
    // DI-ready: ServiceLocator verwenden mit robuster Fehlerbehandlung
    _initializeServices();
    _loadQueryParameters();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
String? _prefilledEmail;

  // E-Mail-Validierung Regex
  static final RegExp _emailRegex = RegExp(r'^[^@]+@[^@]+\.[^@]+$');

  @override
  void initState() {
```

**authBitteGibEine** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:354:42`
- ğŸ“ Original: `'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'E-Mail ist erforderlich';
                                }
                                if (!_emailRegex.hasMatch(value)) {
                                  return 'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein';
                                }
                                return null;
                              },
```

**authClassRegisterpageExtends** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:10:24`
- ğŸ“ Original: `';

class RegisterPage extends StatefulWidget {
  const RegisterPage({super.key});

  @override
  State<RegisterPage> createState() => _RegisterPageState();
}

class _RegisterPageState extends State<RegisterPage> {
  final _formKey = GlobalKey<FormState>();
  final _usernameController = TextEditingController();
  final _emailController = TextEditingController();
  final _passwordController = TextEditingController();
  
  // DI-ready: ServiceLocator verwenden statt Singleton
  late final AuthService _authService;
  
  bool _isLoading = false;
  bool _obscurePassword = true;
  String? _registerError;
  
  // Invite-Parameter
  String? _inviteToken;
  String? _prefilledEmail;

  // E-Mail-Validierung Regex
  static final RegExp _emailRegex = RegExp(r'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

class RegisterPage extends StatefulWidget {
  const RegisterPage({super.key});
```

**authOverrideVoidInitstate** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:37:66`
- ğŸ“ Original: `');

  @override
  void initState() {
    super.initState();
    // DI-ready: ServiceLocator verwenden mit robuster Fehlerbehandlung
    _initializeServices();
    _loadQueryParameters();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
String? _prefilledEmail;

  // E-Mail-Validierung Regex
  static final RegExp _emailRegex = RegExp(r'^[^@]+@[^@]+\.[^@]+$');

  @override
  void initState() {
```

**authBitteGibEine** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:354:42`
- ğŸ“ Original: `'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'E-Mail ist erforderlich';
                                }
                                if (!_emailRegex.hasMatch(value)) {
                                  return 'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein';
                                }
                                return null;
                              },
```

**authWasauthenticated_isauthenticatedUi** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:122:17`
- ğŸ“ Original: `': wasAuthenticated != _isAuthenticated
      });
      
      // UI aktualisieren wenn sich Status geÃ¤ndert hat
      if (wasAuthenticated != _isAuthenticated && mounted) {
        setState(() {});
      }
    } catch (e) {
      AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'isAuthenticated': _isAuthenticated,
        'userId': currentUser?.id,
        'username': currentUser?.username,
        'changed': wasAuthenticated != _isAuthenticated
      });
      
      // UI aktualisieren wenn sich Status geÃ¤ndert hat
```

**authMailIstBekannt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:295:37`
- ğŸ“ Original: `') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
break;
        
      case 'user_exists_not_logged_in':
        if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
```

**authUserMitFalscher** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:305:73`
- ğŸ“ Original: `'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
case 'wrong_email':
        if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
```

**authWidgetinvitetokenUserAbmelden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:711:61`
- ğŸ“ Original: `': widget.inviteToken});
  }

  // User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('login', queryParameters: {'invite_token': widget.inviteToken});
  }

  // User abmelden und zur Registration weiterleiten
```

**authIfMountedSetstate** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:285:41`
- ğŸ“ Original: `')) {
            if (mounted) {
              setState(() {
                _preRegisteredWorlds[world.id] = false;
              });
            }
          } else {
            // Only log other errors
            AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        } catch (e) {
          // 404 means user is not pre-registered, which is normal
          if (e.toString().contains('404')) {
            if (mounted) {
              setState(() {
                _preRegisteredWorlds[world.id] = false;
```

### ğŸ·ï¸ BUTTON

**buttonIconConstIconiconsarrow_back** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:118:72`
- ğŸ“ Original: `'),
                                icon: const Icon(Icons.arrow_back),
                                color: Colors.grey[400],
                              ),
                            ),
                            
                            // Icon
                            Container(
                              width: 80,
                              height: 80,
                              decoration: BoxDecoration(
                                color: AppTheme.primaryColor.withOpacity(0.2),
                                borderRadius: BorderRadius.circular(20),
                                border: Border.all(
                                  color: AppTheme.primaryColor.withOpacity(0.5),
                                  width: 2,
                                ),
                              ),
                              child: const Icon(
                                Icons.lock_reset,
                                size: 40,
                                color: AppTheme.primaryColor,
                              ),
                            ),
                            const SizedBox(height: 20),
                            
                            Text(
                              '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
Align(
                              alignment: Alignment.centerLeft,
                              child: IconButton(
                                onPressed: () => context.goNamed('login'),
                                icon: const Icon(Icons.arrow_back),
                                color: Colors.grey[400],
                              ),
```

**buttonZurÃ¼ckZumLogin** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:304:46`
- ğŸ“ Original: `'ZurÃ¼ck zum Login'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                              onPressed: () => context.goNamed('login'),
                              child: Text(
                                _isSuccess ? 'ZurÃ¼ck zum Login' : 'Abbrechen',
                                style: const TextStyle(
                                  color: AppTheme.primaryColor,
                                  fontSize: 16,
```

**buttonZurÃ¼ckZumLogin** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:304:46`
- ğŸ“ Original: `'ZurÃ¼ck zum Login'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                              onPressed: () => context.goNamed('login'),
                              child: Text(
                                _isSuccess ? 'ZurÃ¼ck zum Login' : 'Abbrechen',
                                style: const TextStyle(
                                  color: AppTheme.primaryColor,
                                  fontSize: 16,
```

**buttonLabelstyleTextstylecolorColorsgrey400** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:311:59`
- ğŸ“ Original: `',
                                      labelStyle: TextStyle(color: Colors.grey[400]),
                                      prefixIcon: const Icon(Icons.lock, color: AppTheme.primaryColor),
                                      suffixIcon: IconButton(
                                        icon: Icon(
                                          _obscurePassword ? Icons.visibility : Icons.visibility_off,
                                          color: Colors.grey[400],
                                        ),
                                        onPressed: () {
                                          setState(() {
                                            _obscurePassword = !_obscurePassword;
                                          });
                                        },
                                      ),
                                      filled: true,
                                      fillColor: const Color(0xFF2D2D2D),
                                      border: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.grey[600]!),
                                      ),
                                      enabledBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.grey[600]!),
                                      ),
                                      focusedBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                      ),
                                      errorBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.red[400]!),
                                      ),
                                      focusedErrorBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                      ),
                                    ),
                                    validator: (value) {
                                      if (value == null || value.isEmpty) {
                                        return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
                                    },
                                    decoration: InputDecoration(
                                      labelText: 'Passwort',
                                      labelStyle: TextStyle(color: Colors.grey[400]),
                                      prefixIcon: const Icon(Icons.lock, color: AppTheme.primaryColor),
                                      suffixIcon: IconButton(
```

**buttonStyleTextstyleColor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:406:63`
- ğŸ“ Original: `',
                                          style: TextStyle(
                                            color: AppTheme.primaryColor,
                                            fontSize: 14,
                                          ),
                                        ),
                                      ),
                                    ],
                                  ),
                                  const SizedBox(height: 12),
                                  
                                  // Error message with animation
                                  AnimatedContainer(
                                    duration: const Duration(milliseconds: 300),
                                    height: _loginError != null ? null : 0,
                                    child: _loginError != null
                                      ? Container(
                                          width: double.infinity,
                                          padding: const EdgeInsets.all(12),
                                          margin: const EdgeInsets.only(bottom: 16),
                                          decoration: BoxDecoration(
                                            color: Colors.red[900]!.withOpacity(0.3),
                                            borderRadius: BorderRadius.circular(8),
                                            border: Border.all(color: Colors.red[400]!.withOpacity(0.5)),
                                          ),
                                          child: Row(
                                            children: [
                                              Icon(Icons.error_outline, color: Colors.red[400], size: 20),
                                              const SizedBox(width: 8),
                                              Expanded(
                                                child: Text(
                                                  _loginError!,
                                                  style: TextStyle(color: Colors.red[200], fontSize: 14),
                                                ),
                                              ),
                                            ],
                                          ),
                                        )
                                      : const SizedBox.shrink(),
                                  ),
                                  
                                  // Login button with hover effect
                                  SizedBox(
                                    width: double.infinity,
                                    height: 56,
                                    child: AnimatedContainer(
                                      duration: const Duration(milliseconds: 200),
                                      child: ElevatedButton(
                                        onPressed: _isLoading ? null : _login,
                                        style: ElevatedButton.styleFrom(
                                          backgroundColor: AppTheme.primaryColor,
                                          foregroundColor: Colors.white,
                                          shape: RoundedRectangleBorder(
                                            borderRadius: BorderRadius.circular(12),
                                          ),
                                          elevation: 8,
                                          shadowColor: AppTheme.primaryColor.withOpacity(0.5),
                                        ),
                                        child: _isLoading
                                            ? const SizedBox(
                                                height: 20,
                                                width: 20,
                                                child: CircularProgressIndicator(
                                                  strokeWidth: 2,
                                                  valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                                                ),
                                              )
                                            : const Text(
                                                '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                                        onPressed: () => context.goNamed('forgot-password'),
                                        child: const Text(
                                          'Passwort vergessen?',
                                          style: TextStyle(
                                            color: AppTheme.primaryColor,
                                            fontSize: 14,
```

**buttonStyleTextstyleColor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:406:63`
- ğŸ“ Original: `',
                                          style: TextStyle(
                                            color: AppTheme.primaryColor,
                                            fontSize: 14,
                                          ),
                                        ),
                                      ),
                                    ],
                                  ),
                                  const SizedBox(height: 12),
                                  
                                  // Error message with animation
                                  AnimatedContainer(
                                    duration: const Duration(milliseconds: 300),
                                    height: _loginError != null ? null : 0,
                                    child: _loginError != null
                                      ? Container(
                                          width: double.infinity,
                                          padding: const EdgeInsets.all(12),
                                          margin: const EdgeInsets.only(bottom: 16),
                                          decoration: BoxDecoration(
                                            color: Colors.red[900]!.withOpacity(0.3),
                                            borderRadius: BorderRadius.circular(8),
                                            border: Border.all(color: Colors.red[400]!.withOpacity(0.5)),
                                          ),
                                          child: Row(
                                            children: [
                                              Icon(Icons.error_outline, color: Colors.red[400], size: 20),
                                              const SizedBox(width: 8),
                                              Expanded(
                                                child: Text(
                                                  _loginError!,
                                                  style: TextStyle(color: Colors.red[200], fontSize: 14),
                                                ),
                                              ),
                                            ],
                                          ),
                                        )
                                      : const SizedBox.shrink(),
                                  ),
                                  
                                  // Login button with hover effect
                                  SizedBox(
                                    width: double.infinity,
                                    height: 56,
                                    child: AnimatedContainer(
                                      duration: const Duration(milliseconds: 200),
                                      child: ElevatedButton(
                                        onPressed: _isLoading ? null : _login,
                                        style: ElevatedButton.styleFrom(
                                          backgroundColor: AppTheme.primaryColor,
                                          foregroundColor: Colors.white,
                                          shape: RoundedRectangleBorder(
                                            borderRadius: BorderRadius.circular(12),
                                          ),
                                          elevation: 8,
                                          shadowColor: AppTheme.primaryColor.withOpacity(0.5),
                                        ),
                                        child: _isLoading
                                            ? const SizedBox(
                                                height: 20,
                                                width: 20,
                                                child: CircularProgressIndicator(
                                                  strokeWidth: 2,
                                                  valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                                                ),
                                              )
                                            : const Text(
                                                '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                                        onPressed: () => context.goNamed('forgot-password'),
                                        child: const Text(
                                          'Passwort vergessen?',
                                          style: TextStyle(
                                            color: AppTheme.primaryColor,
                                            fontSize: 14,
```

**buttonLabelstyleTextstylecolorColorsgrey400** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:369:53`
- ğŸ“ Original: `',
                                labelStyle: TextStyle(color: Colors.grey[400]),
                                prefixIcon: const Icon(Icons.lock, color: AppTheme.primaryColor),
                                suffixIcon: IconButton(
                                  icon: Icon(
                                    _obscurePassword ? Icons.visibility : Icons.visibility_off,
                                    color: Colors.grey[400],
                                  ),
                                  onPressed: () {
                                    setState(() {
                                      _obscurePassword = !_obscurePassword;
                                    });
                                  },
                                ),
                                filled: true,
                                fillColor: const Color(0xFF2D2D2D),
                                border: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.grey[600]!),
                                ),
                                enabledBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.grey[600]!),
                                ),
                                focusedBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                ),
                                errorBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.red[400]!),
                                ),
                                focusedErrorBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                ),
                              ),
                              validator: (value) {
                                if (value == null || value.isEmpty) {
                                  return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
obscureText: _obscurePassword,
                              style: const TextStyle(color: Colors.white),
                              decoration: InputDecoration(
                                labelText: 'Passwort',
                                labelStyle: TextStyle(color: Colors.grey[400]),
                                prefixIcon: const Icon(Icons.lock, color: AppTheme.primaryColor),
                                suffixIcon: IconButton(
```

**buttonBereitsEinKonto** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:477:35`
- ğŸ“ Original: `'Bereits ein Konto? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisAlignment: MainAxisAlignment.center,
                              children: [
                                Text(
                                  'Bereits ein Konto? ',
                                  style: TextStyle(color: Colors.grey[400]),
                                ),
                                TextButton(
```

**buttonLabelstyleTextstylecolorColorsgrey400** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:247:63`
- ğŸ“ Original: `',
                                    labelStyle: TextStyle(color: Colors.grey[400]),
                                    prefixIcon: const Icon(Icons.lock, color: AppTheme.primaryColor),
                                    suffixIcon: IconButton(
                                      icon: Icon(
                                        _obscurePassword ? Icons.visibility : Icons.visibility_off,
                                        color: Colors.grey[400],
                                      ),
                                      onPressed: () {
                                        setState(() {
                                          _obscurePassword = !_obscurePassword;
                                        });
                                      },
                                    ),
                                    filled: true,
                                    fillColor: const Color(0xFF2D2D2D),
                                    border: OutlineInputBorder(
                                      borderRadius: BorderRadius.circular(12),
                                      borderSide: BorderSide(color: Colors.grey[600]!),
                                    ),
                                    enabledBorder: OutlineInputBorder(
                                      borderRadius: BorderRadius.circular(12),
                                      borderSide: BorderSide(color: Colors.grey[600]!),
                                    ),
                                    focusedBorder: OutlineInputBorder(
                                      borderRadius: BorderRadius.circular(12),
                                      borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                    ),
                                    errorBorder: OutlineInputBorder(
                                      borderRadius: BorderRadius.circular(12),
                                      borderSide: BorderSide(color: Colors.red[400]!),
                                    ),
                                    focusedErrorBorder: OutlineInputBorder(
                                      borderRadius: BorderRadius.circular(12),
                                      borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                    ),
                                    helperText: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
                                  },
                                  decoration: InputDecoration(
                                    labelText: 'Neues Passwort',
                                    labelStyle: TextStyle(color: Colors.grey[400]),
                                    prefixIcon: const Icon(Icons.lock, color: AppTheme.primaryColor),
                                    suffixIcon: IconButton(
```

**buttonLabelstyleTextstylecolorColorsgrey400** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:316:68`
- ğŸ“ Original: `',
                                    labelStyle: TextStyle(color: Colors.grey[400]),
                                    prefixIcon: const Icon(Icons.lock_outline, color: AppTheme.primaryColor),
                                    suffixIcon: IconButton(
                                      icon: Icon(
                                        _obscureConfirmPassword ? Icons.visibility : Icons.visibility_off,
                                        color: Colors.grey[400],
                                      ),
                                      onPressed: () {
                                        setState(() {
                                          _obscureConfirmPassword = !_obscureConfirmPassword;
                                        });
                                      },
                                    ),
                                    filled: true,
                                    fillColor: const Color(0xFF2D2D2D),
                                    border: OutlineInputBorder(
                                      borderRadius: BorderRadius.circular(12),
                                      borderSide: BorderSide(color: Colors.grey[600]!),
                                    ),
                                    enabledBorder: OutlineInputBorder(
                                      borderRadius: BorderRadius.circular(12),
                                      borderSide: BorderSide(color: Colors.grey[600]!),
                                    ),
                                    focusedBorder: OutlineInputBorder(
                                      borderRadius: BorderRadius.circular(12),
                                      borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                    ),
                                    errorBorder: OutlineInputBorder(
                                      borderRadius: BorderRadius.circular(12),
                                      borderSide: BorderSide(color: Colors.red[400]!),
                                    ),
                                    focusedErrorBorder: OutlineInputBorder(
                                      borderRadius: BorderRadius.circular(12),
                                      borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                    ),
                                  ),
                                  validator: (value) {
                                    if (value == null || value.isEmpty) {
                                      return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
                                  },
                                  decoration: InputDecoration(
                                    labelText: 'Passwort bestÃ¤tigen',
                                    labelStyle: TextStyle(color: Colors.grey[400]),
                                    prefixIcon: const Icon(Icons.lock_outline, color: AppTheme.primaryColor),
                                    suffixIcon: IconButton(
```

**buttonZurÃ¼ckZurAnmeldung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:466:37`
- ğŸ“ Original: `'ZurÃ¼ck zur Anmeldung'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                                  onPressed: () => context.goNamed('login'),
                                  child: const Text(
                                    'ZurÃ¼ck zur Anmeldung',
                                    style: TextStyle(
                                      color: AppTheme.primaryColor,
                                      fontSize: 16,
```

**buttonZurÃ¼ckZurAnmeldung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:466:37`
- ğŸ“ Original: `'ZurÃ¼ck zur Anmeldung'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                                  onPressed: () => context.goNamed('login'),
                                  child: const Text(
                                    'ZurÃ¼ck zur Anmeldung',
                                    style: TextStyle(
                                      color: AppTheme.primaryColor,
                                      fontSize: 16,
```

**buttonColorColorsred600Else** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:397:35`
- ğŸ“ Original: `',
              color: Colors.red[600],
            ));
          }
        } else {
          if (onPreRegister != null) {
            buttons.add(_buildButton(
              onPressed: onPreRegister,
              icon: Icons.how_to_reg,
              label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
buttons.add(_buildButton(
              onPressed: onCancelPreRegistration,
              icon: Icons.cancel,
              label: 'ZurÃ¼ckziehen',
              color: Colors.red[600],
            ));
          }
```

**buttonColorColorsorange600Break** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:406:38`
- ğŸ“ Original: `',
              color: Colors.orange[600],
            ));
          }
        }
        break;
        
      case WorldStatus.open:
      case WorldStatus.running:
        // Beitreten oder Verlassen
        if (isJoined) {
          // Spielen Button immer zuerst anzeigen wenn verfÃ¼gbar
          if (onPlay != null) {
            buttons.add(_buildButton(
              onPressed: onPlay,
              icon: Icons.play_circle_filled,
              label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
buttons.add(_buildButton(
              onPressed: onPreRegister,
              icon: Icons.how_to_reg,
              label: 'Vorregistrieren',
              color: Colors.orange[600],
            ));
          }
```

**buttonColorAppthemeprimarycolorBreak** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:440:32`
- ğŸ“ Original: `',
              color: AppTheme.primaryColor,
            ));
          }
        }
        break;
        
      case WorldStatus.closed:
      case WorldStatus.archived:
        // Keine Aktions-Buttons bei geschlossenen/archivierten Welten
        return _buildStatusBadge();
    }
    
    // Invite Button fÃ¼r upcoming, open und running
    if ([WorldStatus.upcoming, WorldStatus.open, WorldStatus.running].contains(world.status) && 
        onInvite != null) {
      buttons.add(_buildButton(
        onPressed: onInvite,
        icon: Icons.person_add,
        label: null,
        color: Colors.purple[600],
        iconOnly: true,
        tooltip: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
buttons.add(_buildButton(
              onPressed: onJoin,
              icon: Icons.play_arrow,
              label: 'Beitreten',
              color: AppTheme.primaryColor,
            ));
          }
```

**buttonColorColorsorange600Break** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:406:38`
- ğŸ“ Original: `',
              color: Colors.orange[600],
            ));
          }
        }
        break;
        
      case WorldStatus.open:
      case WorldStatus.running:
        // Beitreten oder Verlassen
        if (isJoined) {
          // Spielen Button immer zuerst anzeigen wenn verfÃ¼gbar
          if (onPlay != null) {
            buttons.add(_buildButton(
              onPressed: onPlay,
              icon: Icons.play_circle_filled,
              label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
buttons.add(_buildButton(
              onPressed: onPreRegister,
              icon: Icons.how_to_reg,
              label: 'Vorregistrieren',
              color: Colors.orange[600],
            ));
          }
```

**buttonStyleTextbuttonstylefromForegroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:289:49`
- ğŸ“ Original: `'),
            style: TextButton.styleFrom(
              foregroundColor: Colors.grey[400],
            ),
          ),
        ],
      ),
    );
  }

  String _getStatusLabel(WorldStatus status) {
    switch (status) {
      case WorldStatus.upcoming:
        return '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton.icon(
            onPressed: onResetFilters,
            icon: const Icon(Icons.clear_all, size: 16),
            label: const Text('Alle zurÃ¼cksetzen'),
            style: TextButton.styleFrom(
              foregroundColor: Colors.grey[400],
            ),
```

**buttonAlleZurÃ¼cksetzen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:289:31`
- ğŸ“ Original: `'Alle zurÃ¼cksetzen'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton.icon(
            onPressed: onResetFilters,
            icon: const Icon(Icons.clear_all, size: 16),
            label: const Text('Alle zurÃ¼cksetzen'),
            style: TextButton.styleFrom(
              foregroundColor: Colors.grey[400],
            ),
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_header.dart:76:43`
- ğŸ“ Original: `'),
          style: ElevatedButton.styleFrom(
            backgroundColor: AppTheme.primaryColor,
            foregroundColor: Colors.white,
            padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 10),
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(8),
            ),
          ),
        ),
      );
    }

    if (hasCreatePermission && onCreateWorld != null) {
      buttons.add(
        ElevatedButton.icon(
          onPressed: onCreateWorld,
          icon: const Icon(Icons.add, size: 18),
          label: const Text('`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
          onPressed: onRefresh,
          icon: const Icon(Icons.refresh, size: 18),
          label: const Text('Aktualisieren'),
          style: ElevatedButton.styleFrom(
            backgroundColor: AppTheme.primaryColor,
            foregroundColor: Colors.white,
```

**buttonNeueWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_header.dart:94:29`
- ğŸ“ Original: `'Neue Welt'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
          onPressed: onCreateWorld,
          icon: const Icon(Icons.add, size: 18),
          label: const Text('Neue Welt'),
          style: ElevatedButton.styleFrom(
            backgroundColor: Colors.green[600],
            foregroundColor: Colors.white,
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:79:50`
- ğŸ“ Original: `'),
              style: ElevatedButton.styleFrom(
                backgroundColor: AppTheme.primaryColor,
                foregroundColor: Colors.white,
                padding: const EdgeInsets.symmetric(horizontal: 20, vertical: 12),
                shape: RoundedRectangleBorder(
                  borderRadius: BorderRadius.circular(8),
                ),
              ),
            ),
          ],
        ],
      ),
    );
  }
}

class WorldListErrorState extends StatelessWidget {
  final String error;
  final VoidCallback? onRetry;

  const WorldListErrorState({
    super.key,
    required this.error,
    this.onRetry,
  });

  @override
  Widget build(BuildContext context) {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            Container(
              padding: const EdgeInsets.all(16),
              decoration: BoxDecoration(
                color: Colors.red[900]!.withOpacity(0.2),
                borderRadius: BorderRadius.circular(12),
                border: Border.all(
                  color: Colors.red[700]!.withOpacity(0.5),
                ),
              ),
              child: Icon(
                Icons.error_outline,
                size: 48,
                color: Colors.red[400],
              ),
            ),
            const SizedBox(height: 16),
            Text(
              '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
              onPressed: onRefresh,
              icon: const Icon(Icons.refresh, size: 18),
              label: const Text('Erneut versuchen'),
              style: ElevatedButton.styleFrom(
                backgroundColor: AppTheme.primaryColor,
                foregroundColor: Colors.white,
```

**buttonWirklichVerlassenActions** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:600:59`
- ğŸ“ Original: `" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: const Text('Abbrechen'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
            style: TextButton.styleFrom(
              foregroundColor: Colors.red,
            ),
            child: const Text('Verlassen'),
          ),
        ],
      ),
    );
    
    if (confirmed != true) return;

    setState(() {
      _isJoining = true;
      _joinError = null;
    });

    try {
      await _worldService.leaveWorld(world.id);
      setState(() {
        _isJoined = false;
      });
      
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isJoining = false;
        });
      }
    }
  }
  
  void _playWorld() {
    final world = _world;
    if (world == null) return;
    // Navigate directly to world dashboard for playing
    context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
  }

  // Welt-Status bestimmen
  String _getWorldStatusText() {
    final world = _world;
    if (world == null) return 'Unbekannt';
    return world.statusText;
  }

  // Welt-Status-Farbe
  Color _getWorldStatusColor() {
    final world = _world;
    if (world == null) return Colors.grey;
    
    switch (world.status) {
      case WorldStatus.upcoming:
        return Colors.orange;
      case WorldStatus.open:
        return Colors.green;
      case WorldStatus.running:
        return Colors.blue;
      case WorldStatus.closed:
        return Colors.red;
      case WorldStatus.archived:
        return Colors.grey;
    }
  }

  // Kann der Benutzer beitreten?
  // Retry-Funktion
  Future<void> _retry() async {
    await _loadWorldData();
  }

  // Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('ğŸ« Navigation zur Registration mit Invite-E-Mail', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('register', queryParameters: {'email': email, 'invite_token': widget.inviteToken});
  }

  // Navigation zu Login 
  void _navigateToLogin(String email) {
    AppLogger.app.i('ğŸ« Navigation zum Login fÃ¼r Invite', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('login', queryParameters: {'invite_token': widget.inviteToken});
  }

  // User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('ğŸ« User logout fÃ¼r Invite-Umleitung', error: {'inviteEmail': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
        _authService.setPendingInviteRedirect(widget.inviteToken!);
      }
      
      await _authService.logout();
      
      if (mounted && _inviteEmail != null) {
        // Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('register', queryParameters: {
          'email': _inviteEmail!,
          'invite_token': widget.inviteToken ?? ''
        });
      }
    } catch (e) {
      AppLogger.logError('Logout fÃ¼r Invite fehlgeschlagen', e);
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('Fehler beim Abmelden'),
            backgroundColor: Colors.red,
          ),
        );
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    
    return Scaffold(
      body: BackgroundWidget(
        child: Stack(
          children: [
            // Main content
            SafeArea(
              child: _isLoading
                  ? const Center(
                      child: CircularProgressIndicator(
                        valueColor: AlwaysStoppedAnimation<Color>(AppTheme.primaryColor),
                      ),
                    )
                  : _errorMessage != null
                      ? _buildErrorState()
                      : _infoMessage != null
                          ? _buildInfoState()
                          : _world == null
                              ? _buildNotFoundState()
                              : _buildWorldContent(),
            ),
            
            // User info widget (only show when authenticated)
            if (_isAuthenticated)
              const UserInfoWidget(),
            
            // Navigation widget (only show when authenticated)
            if (_isAuthenticated)
              NavigationWidget(
                currentRoute: 'world-join',
                routeParams: {'id': widget.worldId},
                isJoinedWorld: _isJoined,
              ),
          ],
        ),
      ),
    );
  }

  Widget _buildErrorState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.error_outline,
                        size: 80,
                        color: Colors.red[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        'Fehler beim Laden',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        _errorMessage ?? 'Unbekannter Fehler',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // Verschiedene Action-Buttons je nach Szenario
                      if (_showRegistrationButton && _inviteEmail != null) ...[
                        // Registration Button fÃ¼r neuen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: () => _navigateToRegistration(_inviteEmail!),
                            icon: const Icon(Icons.person_add),
                            label: const Text('Jetzt registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Login Button als Alternative
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => _navigateToLogin(_inviteEmail!),
                            icon: const Icon(Icons.login),
                            label: const Text('Bereits registriert? Anmelden'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: AppTheme.primaryColor,
                              side: BorderSide(color: AppTheme.primaryColor),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else if (_showLogoutButton && _inviteEmail != null) ...[
                        // Logout Button fÃ¼r falschen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _logout,
                            icon: const Icon(Icons.logout),
                            label: const Text('Abmelden & neu registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: Colors.orange,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Abbrechen Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('landing'),
                            icon: const Icon(Icons.arrow_back),
                            label: const Text('ZurÃ¼ck zur Startseite'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: Colors.grey,
                              side: BorderSide(color: Colors.grey),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else ...[
                        // Standard Retry Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _retry,
                            icon: const Icon(Icons.refresh),
                            label: const Text('Erneut versuchen'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ],
                      const SizedBox(height: 16),
                      TextButton(
                        onPressed: () => context.goNamed('world-list'),
                        child: const Text(
                          'ZurÃ¼ck zu den Welten',
                          style: TextStyle(
                            color: AppTheme.primaryColor,
                            fontWeight: FontWeight.bold,
                          ),
                        ),
                      ),
                    ],
                  ),
                ),
              ),
            ),
          ),
        ),
      ),
    );
  }

  Widget _buildInfoState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.info_outline,
                        size: 80,
                        color: Colors.blue[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        'Information',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        _infoMessage ?? 'Keine Information verfÃ¼gbar',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // **NEUE INTELLIGENTE BUTTONS**
                      _buildActionButtons(),
                      
                      // **INVITE-FLOWS: Kein "`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonBoolShowloginbuttonFalse** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:253:24`
- ğŸ“ Original: `';
    bool showLoginButton = false;
    bool showRegisterButton = false;
    bool showAcceptButton = false;
    bool showLogoutButton = false;
    
    // Basis-Info-Text mit Einlader, Welt und GÃ¼ltigkeitsstatus
    final inviterText = invitedByName;
    
    final actionTypeText = isUpcoming 
      ? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// **NEUE INTELLIGENTE BUTTON-LOGIK**
    String actionText = '';
    String infoText = '';
    bool showLoginButton = false;
    bool showRegisterButton = false;
    bool showAcceptButton = false;
```

**buttonDuMusstDich** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:288:24`
- ğŸ“ Original: `'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
case 'not_logged_in':
        if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
          infoText = '$baseInfoText\n\n$actionText';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
```

**buttonBaseinfotextnnactiontext** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:289:22`
- ğŸ“ Original: `'$baseInfoText\n\n$actionText'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
          infoText = '$baseInfoText\n\n$actionText';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
```

**buttonBaseinfotextnnactiontext** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:298:22`
- ğŸ“ Original: `'$baseInfoText\n\n$actionText'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
```

**buttonBaseinfotextnnactiontextnnbitteMeldeDich** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:308:22`
- ğŸ“ Original: `'$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
```

**buttonUserRichtigAngemeldet** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:314:42`
- ğŸ“ Original: `') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
break;
        
      case 'correct_email':
        if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
```

**buttonBaseinfotextnnactiontext** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:317:22`
- ğŸ“ Original: `'$baseInfoText\n\n$actionText'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
          
          // Auto-Accept entfernt: User soll bewusst entscheiden!
```

**buttonMÃ¶chtestDuDie** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:600:23`
- ğŸ“ Original: `'MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonTextbuttonOnpressedNavigatorofcontextpoptrue** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:604:41`
- ğŸ“ Original: `'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
            style: TextButton.styleFrom(
              foregroundColor: Colors.red,
            ),
            child: const Text('`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: const Text('Abbrechen'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:853:66`
- ğŸ“ Original: `'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Login Button als Alternative
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => _navigateToLogin(_inviteEmail!),
                            icon: const Icon(Icons.login),
                            label: const Text('`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                            onPressed: () => _navigateToRegistration(_inviteEmail!),
                            icon: const Icon(Icons.person_add),
                            label: const Text('Jetzt registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
```

**buttonStyleOutlinedbuttonstylefromForegroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:871:77`
- ğŸ“ Original: `'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: AppTheme.primaryColor,
                              side: BorderSide(color: AppTheme.primaryColor),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else if (_showLogoutButton && _inviteEmail != null) ...[
                        // Logout Button fÃ¼r falschen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _logout,
                            icon: const Icon(Icons.logout),
                            label: const Text('`
- ğŸ¯ Widget: Widget: OutlinedButton
- ğŸ”§ Context:
```dart
child: OutlinedButton.icon(
                            onPressed: () => _navigateToLogin(_inviteEmail!),
                            icon: const Icon(Icons.login),
                            label: const Text('Bereits registriert? Anmelden'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: AppTheme.primaryColor,
                              side: BorderSide(color: AppTheme.primaryColor),
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:889:75`
- ğŸ“ Original: `'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: Colors.orange,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Abbrechen Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                            onPressed: _logout,
                            icon: const Icon(Icons.logout),
                            label: const Text('Abmelden & neu registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: Colors.orange,
                              foregroundColor: Colors.white,
```

**buttonZurÃ¼ckZurStartseite** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:907:47`
- ğŸ“ Original: `'ZurÃ¼ck zur Startseite'`
- ğŸ¯ Widget: Widget: OutlinedButton
- ğŸ”§ Context:
```dart
child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('landing'),
                            icon: const Icon(Icons.arrow_back),
                            label: const Text('ZurÃ¼ck zur Startseite'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: Colors.grey,
                              side: BorderSide(color: Colors.grey),
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:925:64`
- ğŸ“ Original: `'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ],
                      const SizedBox(height: 16),
                      TextButton(
                        onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                            onPressed: _retry,
                            icon: const Icon(Icons.refresh),
                            label: const Text('Erneut versuchen'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
```

**buttonZurÃ¼ckZuDen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:940:27`
- ğŸ“ Original: `'ZurÃ¼ck zu den Welten'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                        onPressed: () => context.goNamed('world-list'),
                        child: const Text(
                          'ZurÃ¼ck zu den Welten',
                          style: TextStyle(
                            color: AppTheme.primaryColor,
                            fontWeight: FontWeight.bold,
```

**buttonWorldlist** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1022:60`
- ğŸ“ Original: `'world-list'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
if (widget.inviteToken == null) ...[
                        const SizedBox(height: 16),
                        TextButton(
                          onPressed: () => context.goNamed('world-list'),
                          child: const Text(
                            'ZurÃ¼ck zu den Welten',
                            style: TextStyle(
```

**buttonZurÃ¼ckZuDen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1024:29`
- ğŸ“ Original: `'ZurÃ¼ck zu den Welten'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                          onPressed: () => context.goNamed('world-list'),
                          child: const Text(
                            'ZurÃ¼ck zu den Welten',
                            style: TextStyle(
                              color: AppTheme.primaryColor,
                              fontWeight: FontWeight.bold,
```

**buttonWorldlist** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1103:60`
- ğŸ“ Original: `'world-list'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
width: double.infinity,
                        height: 48,
                        child: ElevatedButton(
                          onPressed: () => context.goNamed('world-list'),
                          style: ElevatedButton.styleFrom(
                            backgroundColor: AppTheme.primaryColor,
                            foregroundColor: Colors.white,
```

**buttonPendingRedirectSetzen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1600:93`
- ğŸ“ Original: `';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
              
              context.go(loginRoute);
            },
            style: ElevatedButton.styleFrom(
              backgroundColor: AppTheme.primaryColor,
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: const Text(
              '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton(
            onPressed: () {
              // Redirect auf Login-Seite mit E-Mail vorausgefÃ¼llt
              final loginRoute = '/go/auth/login?email=${Uri.encodeComponent(_inviteEmail!)}';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
```

**buttonPendingRedirectSetzen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1633:99`
- ğŸ“ Original: `';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
              
              context.go(registerRoute);
            },
            style: ElevatedButton.styleFrom(
              backgroundColor: AppTheme.secondaryColor,
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: const Text(
              '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton(
            onPressed: () {
              // Redirect auf Register-Seite mit E-Mail vorausgefÃ¼llt
              final registerRoute = '/go/auth/register?email=${Uri.encodeComponent(_inviteEmail!)}';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1702:40`
- ğŸ“ Original: `');
              }
            },
            style: ElevatedButton.styleFrom(
              backgroundColor: Colors.red[600],
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: const Text(
              '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
await _authService.logout();
              // Nach Logout zur Landing-Page
              if (mounted) {
                context.go('/go/landing');
              }
            },
            style: ElevatedButton.styleFrom(
```

**buttonVorregistrierungZurÃ¼ckziehen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1740:79`
- ğŸ“ Original: `'Vorregistrierung zurÃ¼ckziehen'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _cancelPreRegistration,
                    icon: const Icon(Icons.cancel),
                    label: Text(_isPreRegistering ? 'Wird zurÃ¼ckgezogen...' : 'Vorregistrierung zurÃ¼ckziehen'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.red[600],
                      foregroundColor: Colors.white,
```

**buttonWirdRegistriert** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1760:53`
- ğŸ“ Original: `'Wird registriert...'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _preRegisterWorld,
                    icon: const Icon(Icons.how_to_reg),
                    label: Text(_isPreRegistering ? 'Wird registriert...' : 'Vorregistrieren'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.orange[600],
                      foregroundColor: Colors.white,
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1787:47`
- ğŸ“ Original: `'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.green[600],
                      foregroundColor: Colors.white,
                      padding: const EdgeInsets.symmetric(vertical: 16),
                      shape: RoundedRectangleBorder(
                        borderRadius: BorderRadius.circular(12),
                      ),
                    ),
                  ),
                ),
              );
              
              // Verlassen Button
              buttons.add(
                Container(
                  width: double.infinity,
                  margin: const EdgeInsets.only(bottom: 12.0),
                  child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _leaveWorld,
                    icon: const Icon(Icons.exit_to_app),
                    label: Text(_isJoining ? '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: _playWorld,
                    icon: const Icon(Icons.play_circle_filled),
                    label: const Text('Spielen'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.green[600],
                      foregroundColor: Colors.white,
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1808:83`
- ğŸ“ Original: `'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.red[600],
                      foregroundColor: Colors.white,
                      padding: const EdgeInsets.symmetric(vertical: 16),
                      shape: RoundedRectangleBorder(
                        borderRadius: BorderRadius.circular(12),
                      ),
                    ),
                  ),
                ),
              );
            } else {
              // Beitreten Button
              buttons.add(
                Container(
                  width: double.infinity,
                  margin: const EdgeInsets.only(bottom: 12.0),
                  child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _joinWorld,
                    icon: const Icon(Icons.play_arrow),
                    label: Text(_isJoining ? '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _leaveWorld,
                    icon: const Icon(Icons.exit_to_app),
                    label: Text(_isJoining ? 'Wird verlassen...' : 'Welt verlassen'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.red[600],
                      foregroundColor: Colors.white,
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1829:86`
- ğŸ“ Original: `'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
                      padding: const EdgeInsets.symmetric(vertical: 16),
                      shape: RoundedRectangleBorder(
                        borderRadius: BorderRadius.circular(12),
                      ),
                    ),
                  ),
                ),
              );
            }
            break;
            
          case WorldStatus.closed:
          case WorldStatus.archived:
            // Keine Aktionen mÃ¶glich - Status-Info
            buttons.add(
              Container(
                width: double.infinity,
                margin: const EdgeInsets.only(bottom: 12.0),
                padding: const EdgeInsets.all(16),
                decoration: BoxDecoration(
                  color: Colors.grey.withOpacity(0.1),
                  borderRadius: BorderRadius.circular(12),
                  border: Border.all(color: Colors.grey.withOpacity(0.3)),
                ),
                child: Column(
                  children: [
                    Icon(
                      Icons.lock_outline,
                      color: Colors.grey[600],
                      size: 32,
                    ),
                    const SizedBox(height: 8),
                    Text(
                      world.status == WorldStatus.closed
                          ? '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _joinWorld,
                    icon: const Icon(Icons.play_arrow),
                    label: Text(_isJoining ? 'Wird beigetreten...' : 'Jetzt beitreten'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
```

**buttonWirklichVerlassenActions** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:600:59`
- ğŸ“ Original: `" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: const Text('Abbrechen'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
            style: TextButton.styleFrom(
              foregroundColor: Colors.red,
            ),
            child: const Text('Verlassen'),
          ),
        ],
      ),
    );
    
    if (confirmed != true) return;

    setState(() {
      _isJoining = true;
      _joinError = null;
    });

    try {
      await _worldService.leaveWorld(world.id);
      setState(() {
        _isJoined = false;
      });
      
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isJoining = false;
        });
      }
    }
  }
  
  void _playWorld() {
    final world = _world;
    if (world == null) return;
    // Navigate directly to world dashboard for playing
    context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
  }

  // Welt-Status bestimmen
  String _getWorldStatusText() {
    final world = _world;
    if (world == null) return 'Unbekannt';
    return world.statusText;
  }

  // Welt-Status-Farbe
  Color _getWorldStatusColor() {
    final world = _world;
    if (world == null) return Colors.grey;
    
    switch (world.status) {
      case WorldStatus.upcoming:
        return Colors.orange;
      case WorldStatus.open:
        return Colors.green;
      case WorldStatus.running:
        return Colors.blue;
      case WorldStatus.closed:
        return Colors.red;
      case WorldStatus.archived:
        return Colors.grey;
    }
  }

  // Kann der Benutzer beitreten?
  // Retry-Funktion
  Future<void> _retry() async {
    await _loadWorldData();
  }

  // Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('ğŸ« Navigation zur Registration mit Invite-E-Mail', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('register', queryParameters: {'email': email, 'invite_token': widget.inviteToken});
  }

  // Navigation zu Login 
  void _navigateToLogin(String email) {
    AppLogger.app.i('ğŸ« Navigation zum Login fÃ¼r Invite', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('login', queryParameters: {'invite_token': widget.inviteToken});
  }

  // User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('ğŸ« User logout fÃ¼r Invite-Umleitung', error: {'inviteEmail': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
        _authService.setPendingInviteRedirect(widget.inviteToken!);
      }
      
      await _authService.logout();
      
      if (mounted && _inviteEmail != null) {
        // Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('register', queryParameters: {
          'email': _inviteEmail!,
          'invite_token': widget.inviteToken ?? ''
        });
      }
    } catch (e) {
      AppLogger.logError('Logout fÃ¼r Invite fehlgeschlagen', e);
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('Fehler beim Abmelden'),
            backgroundColor: Colors.red,
          ),
        );
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    
    return Scaffold(
      body: BackgroundWidget(
        child: Stack(
          children: [
            // Main content
            SafeArea(
              child: _isLoading
                  ? const Center(
                      child: CircularProgressIndicator(
                        valueColor: AlwaysStoppedAnimation<Color>(AppTheme.primaryColor),
                      ),
                    )
                  : _errorMessage != null
                      ? _buildErrorState()
                      : _infoMessage != null
                          ? _buildInfoState()
                          : _world == null
                              ? _buildNotFoundState()
                              : _buildWorldContent(),
            ),
            
            // User info widget (only show when authenticated)
            if (_isAuthenticated)
              const UserInfoWidget(),
            
            // Navigation widget (only show when authenticated)
            if (_isAuthenticated)
              NavigationWidget(
                currentRoute: 'world-join',
                routeParams: {'id': widget.worldId},
                isJoinedWorld: _isJoined,
              ),
          ],
        ),
      ),
    );
  }

  Widget _buildErrorState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.error_outline,
                        size: 80,
                        color: Colors.red[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        'Fehler beim Laden',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        _errorMessage ?? 'Unbekannter Fehler',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // Verschiedene Action-Buttons je nach Szenario
                      if (_showRegistrationButton && _inviteEmail != null) ...[
                        // Registration Button fÃ¼r neuen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: () => _navigateToRegistration(_inviteEmail!),
                            icon: const Icon(Icons.person_add),
                            label: const Text('Jetzt registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Login Button als Alternative
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => _navigateToLogin(_inviteEmail!),
                            icon: const Icon(Icons.login),
                            label: const Text('Bereits registriert? Anmelden'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: AppTheme.primaryColor,
                              side: BorderSide(color: AppTheme.primaryColor),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else if (_showLogoutButton && _inviteEmail != null) ...[
                        // Logout Button fÃ¼r falschen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _logout,
                            icon: const Icon(Icons.logout),
                            label: const Text('Abmelden & neu registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: Colors.orange,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Abbrechen Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('landing'),
                            icon: const Icon(Icons.arrow_back),
                            label: const Text('ZurÃ¼ck zur Startseite'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: Colors.grey,
                              side: BorderSide(color: Colors.grey),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else ...[
                        // Standard Retry Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _retry,
                            icon: const Icon(Icons.refresh),
                            label: const Text('Erneut versuchen'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ],
                      const SizedBox(height: 16),
                      TextButton(
                        onPressed: () => context.goNamed('world-list'),
                        child: const Text(
                          'ZurÃ¼ck zu den Welten',
                          style: TextStyle(
                            color: AppTheme.primaryColor,
                            fontWeight: FontWeight.bold,
                          ),
                        ),
                      ),
                    ],
                  ),
                ),
              ),
            ),
          ),
        ),
      ),
    );
  }

  Widget _buildInfoState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.info_outline,
                        size: 80,
                        color: Colors.blue[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        'Information',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        _infoMessage ?? 'Keine Information verfÃ¼gbar',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // **NEUE INTELLIGENTE BUTTONS**
                      _buildActionButtons(),
                      
                      // **INVITE-FLOWS: Kein "`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonMÃ¶chtestDuDie** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:600:23`
- ğŸ“ Original: `'MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonWirklichVerlassenActions** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:600:59`
- ğŸ“ Original: `" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: const Text('Abbrechen'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
            style: TextButton.styleFrom(
              foregroundColor: Colors.red,
            ),
            child: const Text('Verlassen'),
          ),
        ],
      ),
    );
    
    if (confirmed != true) return;

    setState(() {
      _isJoining = true;
      _joinError = null;
    });

    try {
      await _worldService.leaveWorld(world.id);
      setState(() {
        _isJoined = false;
      });
      
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isJoining = false;
        });
      }
    }
  }
  
  void _playWorld() {
    final world = _world;
    if (world == null) return;
    // Navigate directly to world dashboard for playing
    context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
  }

  // Welt-Status bestimmen
  String _getWorldStatusText() {
    final world = _world;
    if (world == null) return 'Unbekannt';
    return world.statusText;
  }

  // Welt-Status-Farbe
  Color _getWorldStatusColor() {
    final world = _world;
    if (world == null) return Colors.grey;
    
    switch (world.status) {
      case WorldStatus.upcoming:
        return Colors.orange;
      case WorldStatus.open:
        return Colors.green;
      case WorldStatus.running:
        return Colors.blue;
      case WorldStatus.closed:
        return Colors.red;
      case WorldStatus.archived:
        return Colors.grey;
    }
  }

  // Kann der Benutzer beitreten?
  // Retry-Funktion
  Future<void> _retry() async {
    await _loadWorldData();
  }

  // Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('ğŸ« Navigation zur Registration mit Invite-E-Mail', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('register', queryParameters: {'email': email, 'invite_token': widget.inviteToken});
  }

  // Navigation zu Login 
  void _navigateToLogin(String email) {
    AppLogger.app.i('ğŸ« Navigation zum Login fÃ¼r Invite', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('login', queryParameters: {'invite_token': widget.inviteToken});
  }

  // User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('ğŸ« User logout fÃ¼r Invite-Umleitung', error: {'inviteEmail': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
        _authService.setPendingInviteRedirect(widget.inviteToken!);
      }
      
      await _authService.logout();
      
      if (mounted && _inviteEmail != null) {
        // Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('register', queryParameters: {
          'email': _inviteEmail!,
          'invite_token': widget.inviteToken ?? ''
        });
      }
    } catch (e) {
      AppLogger.logError('Logout fÃ¼r Invite fehlgeschlagen', e);
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('Fehler beim Abmelden'),
            backgroundColor: Colors.red,
          ),
        );
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    
    return Scaffold(
      body: BackgroundWidget(
        child: Stack(
          children: [
            // Main content
            SafeArea(
              child: _isLoading
                  ? const Center(
                      child: CircularProgressIndicator(
                        valueColor: AlwaysStoppedAnimation<Color>(AppTheme.primaryColor),
                      ),
                    )
                  : _errorMessage != null
                      ? _buildErrorState()
                      : _infoMessage != null
                          ? _buildInfoState()
                          : _world == null
                              ? _buildNotFoundState()
                              : _buildWorldContent(),
            ),
            
            // User info widget (only show when authenticated)
            if (_isAuthenticated)
              const UserInfoWidget(),
            
            // Navigation widget (only show when authenticated)
            if (_isAuthenticated)
              NavigationWidget(
                currentRoute: 'world-join',
                routeParams: {'id': widget.worldId},
                isJoinedWorld: _isJoined,
              ),
          ],
        ),
      ),
    );
  }

  Widget _buildErrorState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.error_outline,
                        size: 80,
                        color: Colors.red[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        'Fehler beim Laden',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        _errorMessage ?? 'Unbekannter Fehler',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // Verschiedene Action-Buttons je nach Szenario
                      if (_showRegistrationButton && _inviteEmail != null) ...[
                        // Registration Button fÃ¼r neuen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: () => _navigateToRegistration(_inviteEmail!),
                            icon: const Icon(Icons.person_add),
                            label: const Text('Jetzt registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Login Button als Alternative
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => _navigateToLogin(_inviteEmail!),
                            icon: const Icon(Icons.login),
                            label: const Text('Bereits registriert? Anmelden'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: AppTheme.primaryColor,
                              side: BorderSide(color: AppTheme.primaryColor),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else if (_showLogoutButton && _inviteEmail != null) ...[
                        // Logout Button fÃ¼r falschen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _logout,
                            icon: const Icon(Icons.logout),
                            label: const Text('Abmelden & neu registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: Colors.orange,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Abbrechen Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('landing'),
                            icon: const Icon(Icons.arrow_back),
                            label: const Text('ZurÃ¼ck zur Startseite'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: Colors.grey,
                              side: BorderSide(color: Colors.grey),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else ...[
                        // Standard Retry Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _retry,
                            icon: const Icon(Icons.refresh),
                            label: const Text('Erneut versuchen'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ],
                      const SizedBox(height: 16),
                      TextButton(
                        onPressed: () => context.goNamed('world-list'),
                        child: const Text(
                          'ZurÃ¼ck zu den Welten',
                          style: TextStyle(
                            color: AppTheme.primaryColor,
                            fontWeight: FontWeight.bold,
                          ),
                        ),
                      ),
                    ],
                  ),
                ),
              ),
            ),
          ),
        ),
      ),
    );
  }

  Widget _buildInfoState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.info_outline,
                        size: 80,
                        color: Colors.blue[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        'Information',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        _infoMessage ?? 'Keine Information verfÃ¼gbar',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // **NEUE INTELLIGENTE BUTTONS**
                      _buildActionButtons(),
                      
                      // **INVITE-FLOWS: Kein "`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonDeinAccountMit** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:297:24`
- ğŸ“ Original: `'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
case 'user_exists_not_logged_in':
        if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
```

**buttonBaseinfotextnnactiontextnnbitteMeldeDich** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:308:22`
- ğŸ“ Original: `'$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:889:75`
- ğŸ“ Original: `'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: Colors.orange,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Abbrechen Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                            onPressed: _logout,
                            icon: const Icon(Icons.logout),
                            label: const Text('Abmelden & neu registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: Colors.orange,
                              foregroundColor: Colors.white,
```

**buttonZurÃ¼ckZurStartseite** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:907:47`
- ğŸ“ Original: `'ZurÃ¼ck zur Startseite'`
- ğŸ¯ Widget: Widget: OutlinedButton
- ğŸ”§ Context:
```dart
child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('landing'),
                            icon: const Icon(Icons.arrow_back),
                            label: const Text('ZurÃ¼ck zur Startseite'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: Colors.grey,
                              side: BorderSide(color: Colors.grey),
```

**buttonZurÃ¼ckZuDen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:940:27`
- ğŸ“ Original: `'ZurÃ¼ck zu den Welten'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                        onPressed: () => context.goNamed('world-list'),
                        child: const Text(
                          'ZurÃ¼ck zu den Welten',
                          style: TextStyle(
                            color: AppTheme.primaryColor,
                            fontWeight: FontWeight.bold,
```

**buttonZurÃ¼ckZuDen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1024:29`
- ğŸ“ Original: `'ZurÃ¼ck zu den Welten'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                          onPressed: () => context.goNamed('world-list'),
                          child: const Text(
                            'ZurÃ¼ck zu den Welten',
                            style: TextStyle(
                              color: AppTheme.primaryColor,
                              fontWeight: FontWeight.bold,
```

**buttonPendingRedirectSetzen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1600:93`
- ğŸ“ Original: `';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
              
              context.go(loginRoute);
            },
            style: ElevatedButton.styleFrom(
              backgroundColor: AppTheme.primaryColor,
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: const Text(
              '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton(
            onPressed: () {
              // Redirect auf Login-Seite mit E-Mail vorausgefÃ¼llt
              final loginRoute = '/go/auth/login?email=${Uri.encodeComponent(_inviteEmail!)}';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
```

**buttonPendingRedirectSetzen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1633:99`
- ğŸ“ Original: `';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
              
              context.go(registerRoute);
            },
            style: ElevatedButton.styleFrom(
              backgroundColor: AppTheme.secondaryColor,
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: const Text(
              '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton(
            onPressed: () {
              // Redirect auf Register-Seite mit E-Mail vorausgefÃ¼llt
              final registerRoute = '/go/auth/register?email=${Uri.encodeComponent(_inviteEmail!)}';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
```

**buttonVorregistrierungZurÃ¼ckziehen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1740:79`
- ğŸ“ Original: `'Vorregistrierung zurÃ¼ckziehen'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _cancelPreRegistration,
                    icon: const Icon(Icons.cancel),
                    label: Text(_isPreRegistering ? 'Wird zurÃ¼ckgezogen...' : 'Vorregistrierung zurÃ¼ckziehen'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.red[600],
                      foregroundColor: Colors.white,
```

**buttonWirklichVerlassenActions** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:600:59`
- ğŸ“ Original: `" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: const Text('Abbrechen'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
            style: TextButton.styleFrom(
              foregroundColor: Colors.red,
            ),
            child: const Text('Verlassen'),
          ),
        ],
      ),
    );
    
    if (confirmed != true) return;

    setState(() {
      _isJoining = true;
      _joinError = null;
    });

    try {
      await _worldService.leaveWorld(world.id);
      setState(() {
        _isJoined = false;
      });
      
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isJoining = false;
        });
      }
    }
  }
  
  void _playWorld() {
    final world = _world;
    if (world == null) return;
    // Navigate directly to world dashboard for playing
    context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
  }

  // Welt-Status bestimmen
  String _getWorldStatusText() {
    final world = _world;
    if (world == null) return 'Unbekannt';
    return world.statusText;
  }

  // Welt-Status-Farbe
  Color _getWorldStatusColor() {
    final world = _world;
    if (world == null) return Colors.grey;
    
    switch (world.status) {
      case WorldStatus.upcoming:
        return Colors.orange;
      case WorldStatus.open:
        return Colors.green;
      case WorldStatus.running:
        return Colors.blue;
      case WorldStatus.closed:
        return Colors.red;
      case WorldStatus.archived:
        return Colors.grey;
    }
  }

  // Kann der Benutzer beitreten?
  // Retry-Funktion
  Future<void> _retry() async {
    await _loadWorldData();
  }

  // Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('ğŸ« Navigation zur Registration mit Invite-E-Mail', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('register', queryParameters: {'email': email, 'invite_token': widget.inviteToken});
  }

  // Navigation zu Login 
  void _navigateToLogin(String email) {
    AppLogger.app.i('ğŸ« Navigation zum Login fÃ¼r Invite', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('login', queryParameters: {'invite_token': widget.inviteToken});
  }

  // User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('ğŸ« User logout fÃ¼r Invite-Umleitung', error: {'inviteEmail': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
        _authService.setPendingInviteRedirect(widget.inviteToken!);
      }
      
      await _authService.logout();
      
      if (mounted && _inviteEmail != null) {
        // Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('register', queryParameters: {
          'email': _inviteEmail!,
          'invite_token': widget.inviteToken ?? ''
        });
      }
    } catch (e) {
      AppLogger.logError('Logout fÃ¼r Invite fehlgeschlagen', e);
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('Fehler beim Abmelden'),
            backgroundColor: Colors.red,
          ),
        );
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    
    return Scaffold(
      body: BackgroundWidget(
        child: Stack(
          children: [
            // Main content
            SafeArea(
              child: _isLoading
                  ? const Center(
                      child: CircularProgressIndicator(
                        valueColor: AlwaysStoppedAnimation<Color>(AppTheme.primaryColor),
                      ),
                    )
                  : _errorMessage != null
                      ? _buildErrorState()
                      : _infoMessage != null
                          ? _buildInfoState()
                          : _world == null
                              ? _buildNotFoundState()
                              : _buildWorldContent(),
            ),
            
            // User info widget (only show when authenticated)
            if (_isAuthenticated)
              const UserInfoWidget(),
            
            // Navigation widget (only show when authenticated)
            if (_isAuthenticated)
              NavigationWidget(
                currentRoute: 'world-join',
                routeParams: {'id': widget.worldId},
                isJoinedWorld: _isJoined,
              ),
          ],
        ),
      ),
    );
  }

  Widget _buildErrorState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.error_outline,
                        size: 80,
                        color: Colors.red[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        'Fehler beim Laden',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        _errorMessage ?? 'Unbekannter Fehler',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // Verschiedene Action-Buttons je nach Szenario
                      if (_showRegistrationButton && _inviteEmail != null) ...[
                        // Registration Button fÃ¼r neuen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: () => _navigateToRegistration(_inviteEmail!),
                            icon: const Icon(Icons.person_add),
                            label: const Text('Jetzt registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Login Button als Alternative
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => _navigateToLogin(_inviteEmail!),
                            icon: const Icon(Icons.login),
                            label: const Text('Bereits registriert? Anmelden'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: AppTheme.primaryColor,
                              side: BorderSide(color: AppTheme.primaryColor),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else if (_showLogoutButton && _inviteEmail != null) ...[
                        // Logout Button fÃ¼r falschen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _logout,
                            icon: const Icon(Icons.logout),
                            label: const Text('Abmelden & neu registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: Colors.orange,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Abbrechen Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('landing'),
                            icon: const Icon(Icons.arrow_back),
                            label: const Text('ZurÃ¼ck zur Startseite'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: Colors.grey,
                              side: BorderSide(color: Colors.grey),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else ...[
                        // Standard Retry Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _retry,
                            icon: const Icon(Icons.refresh),
                            label: const Text('Erneut versuchen'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ],
                      const SizedBox(height: 16),
                      TextButton(
                        onPressed: () => context.goNamed('world-list'),
                        child: const Text(
                          'ZurÃ¼ck zu den Welten',
                          style: TextStyle(
                            color: AppTheme.primaryColor,
                            fontWeight: FontWeight.bold,
                          ),
                        ),
                      ),
                    ],
                  ),
                ),
              ),
            ),
          ),
        ),
      ),
    );
  }

  Widget _buildInfoState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.info_outline,
                        size: 80,
                        color: Colors.blue[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        'Information',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        _infoMessage ?? 'Keine Information verfÃ¼gbar',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // **NEUE INTELLIGENTE BUTTONS**
                      _buildActionButtons(),
                      
                      // **INVITE-FLOWS: Kein "`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonBoolShowloginbuttonFalse** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:253:24`
- ğŸ“ Original: `';
    bool showLoginButton = false;
    bool showRegisterButton = false;
    bool showAcceptButton = false;
    bool showLogoutButton = false;
    
    // Basis-Info-Text mit Einlader, Welt und GÃ¼ltigkeitsstatus
    final inviterText = invitedByName;
    
    final actionTypeText = isUpcoming 
      ? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// **NEUE INTELLIGENTE BUTTON-LOGIK**
    String actionText = '';
    String infoText = '';
    bool showLoginButton = false;
    bool showRegisterButton = false;
    bool showAcceptButton = false;
```

**buttonDieseEinladungIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:307:24`
- ğŸ“ Original: `'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
```

**buttonDuBistMit** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:316:24`
- ğŸ“ Original: `'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
case 'correct_email':
        if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
```

**buttonWeltVerlassen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:599:27`
- ğŸ“ Original: `'Welt verlassen?'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
```

**buttonMÃ¶chtestDuDie** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:600:23`
- ğŸ“ Original: `'MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonZurÃ¼ckZuDen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:940:27`
- ğŸ“ Original: `'ZurÃ¼ck zu den Welten'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                        onPressed: () => context.goNamed('world-list'),
                        child: const Text(
                          'ZurÃ¼ck zu den Welten',
                          style: TextStyle(
                            color: AppTheme.primaryColor,
                            fontWeight: FontWeight.bold,
```

**buttonZurÃ¼ckZuDen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1024:29`
- ğŸ“ Original: `'ZurÃ¼ck zu den Welten'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                          onPressed: () => context.goNamed('world-list'),
                          child: const Text(
                            'ZurÃ¼ck zu den Welten',
                            style: TextStyle(
                              color: AppTheme.primaryColor,
                              fontWeight: FontWeight.bold,
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1760:93`
- ğŸ“ Original: `'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.orange[600],
                      foregroundColor: Colors.white,
                      padding: const EdgeInsets.symmetric(vertical: 16),
                      shape: RoundedRectangleBorder(
                        borderRadius: BorderRadius.circular(12),
                      ),
                    ),
                  ),
                ),
              );
            }
            break;
            
          case WorldStatus.open:
          case WorldStatus.running:
            // Beitreten, Spielen oder Verlassen
            if (_isJoined) {
              // Spielen Button
              buttons.add(
                Container(
                  width: double.infinity,
                  margin: const EdgeInsets.only(bottom: 12.0),
                  child: ElevatedButton.icon(
                    onPressed: _playWorld,
                    icon: const Icon(Icons.play_circle_filled),
                    label: const Text('`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _preRegisterWorld,
                    icon: const Icon(Icons.how_to_reg),
                    label: Text(_isPreRegistering ? 'Wird registriert...' : 'Vorregistrieren'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.orange[600],
                      foregroundColor: Colors.white,
```

**buttonWeltVerlassen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1808:68`
- ğŸ“ Original: `'Welt verlassen'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _leaveWorld,
                    icon: const Icon(Icons.exit_to_app),
                    label: Text(_isJoining ? 'Wird verlassen...' : 'Welt verlassen'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.red[600],
                      foregroundColor: Colors.white,
```

**buttonJetztBeitreten** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1829:70`
- ğŸ“ Original: `'Jetzt beitreten'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _joinWorld,
                    icon: const Icon(Icons.play_arrow),
                    label: Text(_isJoining ? 'Wird beigetreten...' : 'Jetzt beitreten'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
```

**buttonMÃ¶chtestDuDie** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:384:23`
- ğŸ“ Original: `'MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonTextbuttonOnpressedNavigatorofcontextpoptrue** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:388:41`
- ğŸ“ Original: `'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
            style: TextButton.styleFrom(
              foregroundColor: Colors.red,
            ),
            child: const Text('`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: const Text('Abbrechen'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:782:71`
- ğŸ“ Original: `'),
                                      style: ElevatedButton.styleFrom(
                                        backgroundColor: AppTheme.primaryColor,
                                        foregroundColor: Colors.white,
                                        padding: const EdgeInsets.symmetric(
                                          horizontal: 24,
                                          vertical: 12,
                                        ),
                                        shape: RoundedRectangleBorder(
                                          borderRadius: BorderRadius.circular(12),
                                        ),
                                      ),
                                    ),
                                  ),
                                ],
                              ),
                            ],
                          ),
                        ),
                      ),
                    ),
                  ),
                ),
              ),
            ),
            
            // User info widget in top-left corner
            const UserInfoWidget(),
            
            // Navigation widget in top-right corner
            const NavigationWidget(currentRoute: '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                                      onPressed: _loadWorlds,
                                      icon: const Icon(Icons.refresh),
                                      label: const Text('Aktualisieren'),
                                      style: ElevatedButton.styleFrom(
                                        backgroundColor: AppTheme.primaryColor,
                                        foregroundColor: Colors.white,
```

**buttonMÃ¶chtestDuDie** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:384:23`
- ğŸ“ Original: `'MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonWeltVerlassen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:383:27`
- ğŸ“ Original: `'Welt verlassen?'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
```

**buttonMÃ¶chtestDuDie** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:384:23`
- ğŸ“ Original: `'MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonPaddingPaddingConst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:126:41`
- ğŸ“ Original: `'),
          ),
        ),
        Padding(
          padding: const EdgeInsets.symmetric(horizontal: 8.0),
          child: ElevatedButton(
            onPressed: _isLoading ? null : _submit,
            style: ElevatedButton.styleFrom(
              backgroundColor: AppTheme.primaryColor,
              foregroundColor: Colors.white,
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: _isLoading 
              ? const SizedBox(
                  width: 16,
                  height: 16,
                  child: CircularProgressIndicator(
                    strokeWidth: 2,
                    valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                  ),
                )
              : const Text('`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
style: TextButton.styleFrom(
              foregroundColor: Colors.grey[400],
            ),
            child: const Text('Abbrechen'),
          ),
        ),
        Padding(
```

**buttonElevatedbuttonOnpressed_isloading** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:142:39`
- ğŸ“ Original: `'),
        ),
        ElevatedButton(
          onPressed: _isLoading ? null : _submit,
          style: ElevatedButton.styleFrom(
            backgroundColor: AppTheme.primaryColor,
            foregroundColor: Colors.white,
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(12),
            ),
          ),
          child: _isLoading
              ? const SizedBox(
                  width: 20,
                  height: 20,
                  child: CircularProgressIndicator(
                    strokeWidth: 2,
                    valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                  ),
                )
              : const Text('`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
style: TextButton.styleFrom(
            foregroundColor: Colors.grey[400],
          ),
          child: const Text('Abbrechen'),
        ),
        ElevatedButton(
          onPressed: _isLoading ? null : _submit,
```

### ğŸ·ï¸ DIALOG

**dialogThemebackground_widgetdart** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:10:8`
- ğŸ“ Original: `'../../theme/background_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../core/services/invite_service.dart';
import '../../core/models/world.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../routing/app_router.dart';
// Unused import removed
import '../../shared/widgets/invite_dialog.dart';
```

**dialogClassInvitedialogExtends** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:2:35`
- ğŸ“ Original: `';

class InviteDialog extends StatefulWidget {
  final String worldName;

  const InviteDialog({
    super.key,
    required this.worldName,
  });

  @override
  State<InviteDialog> createState() => _InviteDialogState();
}

class _InviteDialogState extends State<InviteDialog> {
  final _formKey = GlobalKey<FormState>();
  final _emailController = TextEditingController();
  bool _isLoading = false;

  @override
  void dispose() {
    _emailController.dispose();
    super.dispose();
  }

  void _submit() async {
    final formState = _formKey.currentState;
    if (formState == null || !formState.validate()) return;
    
    setState(() {
      _isLoading = true;
    });

    // Simuliere API-Aufruf fÃ¼r E-Mail-Versand
    await Future.delayed(const Duration(seconds: 1));
    
    if (mounted) {
      setState(() {
        _isLoading = false;
      });
      Navigator.of(context).pop(_emailController.text.trim());
    }
  }

  @override
  Widget build(BuildContext context) {
    return AlertDialog(
      backgroundColor: const Color(0xFF1A1A1A), // Dunkler Hintergrund
      shape: RoundedRectangleBorder(
        borderRadius: BorderRadius.circular(20),
        side: BorderSide(
          color: AppTheme.primaryColor.withOpacity(0.3),
          width: 1,
        ),
      ),
      title: Text(
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../theme/app_theme.dart';

class InviteDialog extends StatefulWidget {
  final String worldName;
```

**dialogClassPreregisterdialogExtends** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:2:35`
- ğŸ“ Original: `';

class PreRegisterDialog extends StatefulWidget {
  final String worldName;
  final Function(String email) onPreRegister;

  const PreRegisterDialog({
    super.key,
    required this.worldName,
    required this.onPreRegister,
  });

  @override
  State<PreRegisterDialog> createState() => _PreRegisterDialogState();
}

class _PreRegisterDialogState extends State<PreRegisterDialog> {
  final _formKey = GlobalKey<FormState>();
  final _emailController = TextEditingController();
  bool _isLoading = false;

  @override
  void dispose() {
    _emailController.dispose();
    super.dispose();
  }

  Future<void> _submit() async {
    final formState = _formKey.currentState;
    if (formState == null || !formState.validate()) return;

    setState(() {
      _isLoading = true;
    });

    try {
      await widget.onPreRegister(_emailController.text.trim());
      if (mounted) {
        Navigator.of(context).pop(true);
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../theme/app_theme.dart';

class PreRegisterDialog extends StatefulWidget {
  final String worldName;
```

### ğŸ·ï¸ ERROR

**errorErrorEAwait** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:98:54`
- ğŸ“ Original: `', error: e);
      await logout();
      return false;
    }
  }

  // VollstÃ¤ndige Token-Validierung beim App-Start (ohne API-Calls)
  Future<bool> validateTokensOnStart() async {
    try {
      final accessToken = await TokenStorage.getAccessToken();
      final refreshToken = await TokenStorage.getRefreshToken();
      
      if (accessToken == null || refreshToken == null) {
        return false;
      }

      // JWT-Token Format validieren
      if (!_isValidJWT(accessToken) || !_isValidJWT(refreshToken)) {
        return false;
      }

      // Token-Ablauf prÃ¼fen (nur lokale Validierung, keine API-Calls)
      final accessExp = _getTokenExpiration(accessToken);
      final refreshExp = _getTokenExpiration(refreshToken);
      
      if (accessExp == null || refreshExp == null) {
        return false;
      }

      final now = DateTime.now();
      
      // Refresh-Token ist abgelaufen
      if (refreshExp.isBefore(now)) {
        return false;
      }
      
      // Access-Token ist abgelaufen, aber Refresh-Token ist noch gÃ¼ltig
      if (accessExp.isBefore(now)) {
        // Token ist abgelaufen, aber wir versuchen nicht zu erneuern
        // Das wird beim ersten API-Call automatisch gemacht
        return true; // Erlaube App-Start, Token-Refresh erfolgt bei Bedarf
      }

      // Beide Token sind gÃ¼ltig
      return true;
    } catch (e) {
      return false;
    }
  }

  // JWT-Token Format validieren
  bool _isValidJWT(String token) {
    try {
      final parts = token.split('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
isAuthenticated.value = false;
      return false;
    } catch (e) {
      AppLogger.auth.e('âŒ isLoggedIn() fehlgeschlagen', error: e);
      await logout();
      return false;
    }
```

**errorBenutzernameOderPasswort** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:210:25`
- ğŸ“ Original: `'Benutzername oder Passwort falsch'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'reason': 'invalid_credentials',
          'statusCode': response.statusCode,
        });
        throw Exception('Benutzername oder Passwort falsch');
      } else {
        final errorData = jsonDecode(response.body);
        AppLogger.logAuthEvent('login_failed', username: username, metadata: {
```

**errorEtostringRethrowFutureuser** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:222:15`
- ğŸ“ Original: `': e.toString(),
      });
      rethrow;
    }
  }

  Future<User?> register(String username, String email, String password) async {
    AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      AppLogger.logAuthEvent('login_error', username: username, metadata: {
        'error': e.toString(),
      });
      rethrow;
    }
```

**errorRegistrierungDebugInfo** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:256:28`
- ğŸ“ Original: `'ğŸ“ Registrierung Debug Info'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Log Registration Debug Info
        if (userData['_debug'] != null) {
          AppLogger.auth.d('ğŸ“ Registrierung Debug Info', error: {
            'userId': userData['id'],
            'username': userData['username'],
            'rolesCount': userData['_debug']['rolesCount'],
```

**errorBenutzernameOderEmail** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:286:25`
- ğŸ“ Original: `'Benutzername oder E-Mail bereits vorhanden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'statusCode': response.statusCode,
          'email': email,
        });
        throw Exception('Benutzername oder E-Mail bereits vorhanden');
      } else {
        final errorData = jsonDecode(response.body);
        AppLogger.logAuthEvent('register_failed', username: username, metadata: {
```

**errorRegistrierungFehlgeschlagen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:304:71`
- ğŸ“ Original: `'Registrierung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        }
        
        throw Exception(errorData['error'] ?? errorData['message'] ?? 'Registrierung fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.logAuthEvent('register_error', username: username, metadata: {
```

**errorEmailRethrowErweitertes** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:309:15`
- ğŸ“ Original: `': email,
      });
      rethrow;
    }
  }

  // Erweitertes Logout mit Server-Call und vollstÃ¤ndigem Cleanup
  Future<void> logout() async {
    final username = _currentUser?.username ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      AppLogger.logAuthEvent('register_error', username: username, metadata: {
        'error': e.toString(),
        'email': email,
      });
      rethrow;
    }
```

**errorErrorERatelimited** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:344:40`
- ğŸ“ Original: `', error: e);
    }
  }

  // Rate-Limited Token-Refresh mit parallelem Schutz
  Future<bool> refreshTokenIfNeeded() async {
    if (_refreshing) {
      // Warten bis aktueller Refresh abgeschlossen ist
      while (_refreshing) {
        await Future.delayed(const Duration(milliseconds: 100));
      }
      return true; // Annahme: Refresh war erfolgreich
    }

    _refreshing = true;
    try {
      final refreshToken = await TokenStorage.getRefreshToken();
      if (refreshToken == null) {
        await logout();
        return false;
      }

      // Refresh-Token Format validieren
      if (!_isValidJWT(refreshToken)) {
        await logout();
        return false;
      }

      // Refresh-Token Ablauf prÃ¼fen
      final refreshExp = _getTokenExpiration(refreshToken);
      if (refreshExp == null || refreshExp.isBefore(DateTime.now())) {
        await logout();
        return false;
      }

      _apiService.setToken(refreshToken);
      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('logout_success', username: username);
    } catch (e) {
      AppLogger.auth.e('âŒ Logout-Fehler', error: e);
    }
  }
```

**errorErrorEReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:433:64`
- ğŸ“ Original: `', error: e);
      return null;
    }
  }

  // Konsistente Token-Speicherung und API-Service-Update
  Future<void> _saveTokensAndUpdateService(String accessToken, String refreshToken) async {
    await TokenStorage.saveTokens(accessToken, refreshToken);
    _apiService.setToken(accessToken);
  }

  Future<User?> loadStoredUser() async {
    try {
      final userDataString = await TokenStorage.getUserData();
      final accessToken = await TokenStorage.getAccessToken();
      
      if (userDataString != null && accessToken != null) {
        final userData = jsonDecode(userDataString);
        _currentUser = User.fromJson(userData);
        _apiService.setToken(accessToken);
        // isAuthenticated.value wird vom Aufrufer gesetzt, nicht hier
        return _currentUser;
      }
    } catch (e) {
      AppLogger.auth.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Failed to fetch user data');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Fehler beim Laden des aktuellen Users', error: e);
      return null;
    }
  }
```

**errorErrorEReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:457:68`
- ğŸ“ Original: `', error: e);
    }
    return null;
  }

  Future<String?> getCurrentAccessToken() async {
    return await TokenStorage.getAccessToken();
  }

  // Passwort-Reset anfordern
  Future<bool> requestPasswordReset(String email) async {
    try {
      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return _currentUser;
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Fehler beim Laden des gespeicherten Users', error: e);
    }
    return null;
  }
```

**errorPasswordresetAngefordert** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:474:26`
- ğŸ“ Original: `'âœ… Password-Reset angefordert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});

      if (response.statusCode == 200) {
        AppLogger.auth.i('âœ… Password-Reset angefordert');
        return true;
      } else {
        final errorData = jsonDecode(response.body);
```

**errorErrorERethrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:481:64`
- ğŸ“ Original: `', error: e);
      rethrow;
    }
  }

  // Passwort zurÃ¼cksetzen mit Token
  Future<bool> resetPassword(String token, String newPassword) async {
    try {
      AppLogger.auth.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorData['message'] ?? 'Passwort-Reset Anfrage fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset Anfrage fehlgeschlagen', error: e);
      rethrow;
    }
  }
```

**errorPasswordErfolgreichZurÃ¼ckgesetzt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:497:26`
- ğŸ“ Original: `'âœ… Password erfolgreich zurÃ¼ckgesetzt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});

      if (response.statusCode == 200) {
        AppLogger.auth.i('âœ… Password erfolgreich zurÃ¼ckgesetzt');
        return true;
      } else {
        final errorData = jsonDecode(response.body);
```

**errorPasswortzurÃ¼cksetzungFehlgeschlagen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:505:71`
- ğŸ“ Original: `'Passwort-ZurÃ¼cksetzung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'statusCode': response.statusCode,
          'response': errorData
        });
        throw Exception(errorData['error'] ?? errorData['message'] ?? 'Passwort-ZurÃ¼cksetzung fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset fehlgeschlagen', error: e);
```

**errorErrorERethrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:508:56`
- ğŸ“ Original: `', error: e);
      rethrow;
    }
  }

  // Token-Status Ã¼berprÃ¼fen (fÃ¼r Debugging und Monitoring)
  Future<Map<String, dynamic>> getTokenStatus() async {
    try {
      final accessToken = await TokenStorage.getAccessToken();
      final refreshToken = await TokenStorage.getRefreshToken();
      
      if (accessToken == null || refreshToken == null) {
        return {
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorData['error'] ?? errorData['message'] ?? 'Passwort-ZurÃ¼cksetzung fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset fehlgeschlagen', error: e);
      rethrow;
    }
  }
```

**errorWorldjoinbytoken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:30:29`
- ğŸ“ Original: `'world-join-by-token'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// HINZUGEFÃœGT: Invite-Redirect Management
  void setPendingInviteRedirect(String inviteToken) {
    _pendingInviteToken = inviteToken;
    _pendingRedirectRoute = 'world-join-by-token';
    _pendingRouteParams = {'token': inviteToken};
    AppLogger.auth.i('ğŸ« Invite-Redirect gesetzt', error: {'token': inviteToken.substring(0, 8) + '...'});
  }
```

**error_pendinginvitetokenNull_pendinginvitetoken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:57:17`
- ğŸ“ Original: `': _pendingInviteToken != null
    });
    _pendingInviteToken = null;
    _pendingRedirectRoute = null;
    _pendingRouteParams = null;
  }

  Future<bool> isLoggedIn() async {
    try {
      final accessToken = await TokenStorage.getAccessToken();
      AppLogger.auth.d('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void clearPendingRedirect() {
    AppLogger.auth.i('ğŸ§¹ Pending-Redirect gelÃ¶scht', error: {
      'hadRoute': _pendingRedirectRoute != null,
      'hadInvite': _pendingInviteToken != null
    });
    _pendingInviteToken = null;
    _pendingRedirectRoute = null;
```

**errorErrorEAwait** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:98:54`
- ğŸ“ Original: `', error: e);
      await logout();
      return false;
    }
  }

  // VollstÃ¤ndige Token-Validierung beim App-Start (ohne API-Calls)
  Future<bool> validateTokensOnStart() async {
    try {
      final accessToken = await TokenStorage.getAccessToken();
      final refreshToken = await TokenStorage.getRefreshToken();
      
      if (accessToken == null || refreshToken == null) {
        return false;
      }

      // JWT-Token Format validieren
      if (!_isValidJWT(accessToken) || !_isValidJWT(refreshToken)) {
        return false;
      }

      // Token-Ablauf prÃ¼fen (nur lokale Validierung, keine API-Calls)
      final accessExp = _getTokenExpiration(accessToken);
      final refreshExp = _getTokenExpiration(refreshToken);
      
      if (accessExp == null || refreshExp == null) {
        return false;
      }

      final now = DateTime.now();
      
      // Refresh-Token ist abgelaufen
      if (refreshExp.isBefore(now)) {
        return false;
      }
      
      // Access-Token ist abgelaufen, aber Refresh-Token ist noch gÃ¼ltig
      if (accessExp.isBefore(now)) {
        // Token ist abgelaufen, aber wir versuchen nicht zu erneuern
        // Das wird beim ersten API-Call automatisch gemacht
        return true; // Erlaube App-Start, Token-Refresh erfolgt bei Bedarf
      }

      // Beide Token sind gÃ¼ltig
      return true;
    } catch (e) {
      return false;
    }
  }

  // JWT-Token Format validieren
  bool _isValidJWT(String token) {
    try {
      final parts = token.split('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
isAuthenticated.value = false;
      return false;
    } catch (e) {
      AppLogger.auth.e('âŒ isLoggedIn() fehlgeschlagen', error: e);
      await logout();
      return false;
    }
```

**errorEmailDetailliertereFehlerbehandlung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:294:17`
- ğŸ“ Original: `': email,
        });
        
        // Detailliertere Fehlerbehandlung
        if (errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'statusCode': response.statusCode,
          'error': errorData['error'] ?? errorData['message'],
          'details': errorData['details'],
          'email': email,
        });
        
        // Detailliertere Fehlerbehandlung
```

**errorEmailRethrowErweitertes** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:309:15`
- ğŸ“ Original: `': email,
      });
      rethrow;
    }
  }

  // Erweitertes Logout mit Server-Call und vollstÃ¤ndigem Cleanup
  Future<void> logout() async {
    final username = _currentUser?.username ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      AppLogger.logAuthEvent('register_error', username: username, metadata: {
        'error': e.toString(),
        'email': email,
      });
      rethrow;
    }
```

**errorEtostringLokalesCleanup** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:331:19`
- ğŸ“ Original: `': e.toString(),
          });
        }
      }
      
      // Lokales Cleanup
      await TokenStorage.clearTokens();
      _currentUser = null;
      _apiService.clearToken();
      isAuthenticated.value = false; // Reaktiven Status setzen
      
      AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
          // Server-Logout fehlgeschlagen, trotzdem lokal ausloggen
          AppLogger.logAuthEvent('server_logout_failed', username: username, metadata: {
            'error': e.toString(),
          });
        }
      }
```

**errorLogoutfehler** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:344:24`
- ğŸ“ Original: `'âŒ Logout-Fehler'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('logout_success', username: username);
    } catch (e) {
      AppLogger.auth.e('âŒ Logout-Fehler', error: e);
    }
  }
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:433:24`
- ğŸ“ Original: `'âŒ Fehler beim Laden des aktuellen Users'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Failed to fetch user data');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Fehler beim Laden des aktuellen Users', error: e);
      return null;
    }
  }
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:457:24`
- ğŸ“ Original: `'âŒ Fehler beim Laden des gespeicherten Users'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return _currentUser;
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Fehler beim Laden des gespeicherten Users', error: e);
    }
    return null;
  }
```

**errorErrorERethrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:481:64`
- ğŸ“ Original: `', error: e);
      rethrow;
    }
  }

  // Passwort zurÃ¼cksetzen mit Token
  Future<bool> resetPassword(String token, String newPassword) async {
    try {
      AppLogger.auth.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorData['message'] ?? 'Passwort-Reset Anfrage fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset Anfrage fehlgeschlagen', error: e);
      rethrow;
    }
  }
```

**errorPasswordErfolgreichZurÃ¼ckgesetzt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:497:26`
- ğŸ“ Original: `'âœ… Password erfolgreich zurÃ¼ckgesetzt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});

      if (response.statusCode == 200) {
        AppLogger.auth.i('âœ… Password erfolgreich zurÃ¼ckgesetzt');
        return true;
      } else {
        final errorData = jsonDecode(response.body);
```

**errorPasswordresetApifehler** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:501:26`
- ğŸ“ Original: `'âŒ Password-Reset API-Fehler'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return true;
      } else {
        final errorData = jsonDecode(response.body);
        AppLogger.auth.w('âŒ Password-Reset API-Fehler', error: {
          'statusCode': response.statusCode,
          'response': errorData
        });
```

**errorPasswortzurÃ¼cksetzungFehlgeschlagen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:505:71`
- ğŸ“ Original: `'Passwort-ZurÃ¼cksetzung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'statusCode': response.statusCode,
          'response': errorData
        });
        throw Exception(errorData['error'] ?? errorData['message'] ?? 'Passwort-ZurÃ¼cksetzung fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset fehlgeschlagen', error: e);
```

**errorErrorERethrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:508:56`
- ğŸ“ Original: `', error: e);
      rethrow;
    }
  }

  // Token-Status Ã¼berprÃ¼fen (fÃ¼r Debugging und Monitoring)
  Future<Map<String, dynamic>> getTokenStatus() async {
    try {
      final accessToken = await TokenStorage.getAccessToken();
      final refreshToken = await TokenStorage.getRefreshToken();
      
      if (accessToken == null || refreshToken == null) {
        return {
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorData['error'] ?? errorData['message'] ?? 'Passwort-ZurÃ¼cksetzung fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset fehlgeschlagen', error: e);
      rethrow;
    }
  }
```

**errorErrorEReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:457:68`
- ğŸ“ Original: `', error: e);
    }
    return null;
  }

  Future<String?> getCurrentAccessToken() async {
    return await TokenStorage.getAccessToken();
  }

  // Passwort-Reset anfordern
  Future<bool> requestPasswordReset(String email) async {
    try {
      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return _currentUser;
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Fehler beim Laden des gespeicherten Users', error: e);
    }
    return null;
  }
```

**errorReturnInviteerrorcodeinvalidemailDefault** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:80:28`
- ğŸ“ Original: `':
          return InviteErrorCode.invalidEmail;
        default:
          return InviteErrorCode.unknown;
      }
    }
    
    // Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return InviteErrorCode.worldNotFound;
        case 'WORLD_NOT_OPEN':
          return InviteErrorCode.worldNotOpen;
        case 'INVALID_EMAIL':
          return InviteErrorCode.invalidEmail;
        default:
          return InviteErrorCode.unknown;
```

**errorNichtGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:92:33`
- ğŸ“ Original: `'nicht gefunden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return InviteErrorCode.inviteAlreadySent;
    } else if (message.contains('Berechtigung')) {
      return InviteErrorCode.permissionDenied;
    } else if (message.contains('nicht gefunden')) {
      return InviteErrorCode.worldNotFound;
    } else if (message.contains('nicht geÃ¶ffnet')) {
      return InviteErrorCode.worldNotOpen;
```

**errorReturnInviteerrorcodeinvalidemailReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:96:40`
- ğŸ“ Original: `')) {
      return InviteErrorCode.invalidEmail;
    }
    
    return InviteErrorCode.unknown;
  }

  // Benutzerfreundliche Fehlermeldungen basierend auf Error-Codes
  String _getErrorMessage(InviteErrorCode errorCode, String? originalMessage) {
    switch (errorCode) {
      case InviteErrorCode.inviteAlreadySent:
        return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return InviteErrorCode.worldNotFound;
    } else if (message.contains('nicht geÃ¶ffnet')) {
      return InviteErrorCode.worldNotOpen;
    } else if (message.contains('E-Mail')) {
      return InviteErrorCode.invalidEmail;
    }
```

**errorDuHastKeine** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:109:16`
- ğŸ“ Original: `'Du hast keine Berechtigung, Einladungen zu versenden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.inviteAlreadySent:
        return 'Diese E-Mail-Adresse hat bereits eine Einladung erhalten';
      case InviteErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung, Einladungen zu versenden';
      case InviteErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case InviteErrorCode.worldNotOpen:
```

**errorWeltNichtGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:111:16`
- ğŸ“ Original: `'Welt nicht gefunden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung, Einladungen zu versenden';
      case InviteErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case InviteErrorCode.worldNotOpen:
        return 'Diese Welt ist nicht fÃ¼r Einladungen geÃ¶ffnet';
      case InviteErrorCode.invalidEmail:
```

**errorDieseWeltIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:113:16`
- ğŸ“ Original: `'Diese Welt ist nicht fÃ¼r Einladungen geÃ¶ffnet'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case InviteErrorCode.worldNotOpen:
        return 'Diese Welt ist nicht fÃ¼r Einladungen geÃ¶ffnet';
      case InviteErrorCode.invalidEmail:
        return 'UngÃ¼ltige E-Mail-Adresse';
      case InviteErrorCode.networkError:
```

**errorEinladungFehlgeschlagen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:119:35`
- ğŸ“ Original: `'Einladung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case InviteErrorCode.unknown:
        return originalMessage ?? 'Einladung fehlgeschlagen';
    }
  }
```

**errorOnSocketexceptionThrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:142:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } catch (e) {
      // Fallback fÃ¼r unbekannte Fehler
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
```

**errorÃ–ffentlicheEinladungFehlgeschlagen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:173:25`
- ğŸ“ Original: `'Ã–ffentliche Einladung fehlgeschlagen: ${response.statusCode}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final errorMessage = _getErrorMessage(errorCode, errorData['message']);
        throw Exception(errorMessage);
      } else {
        throw Exception('Ã–ffentliche Einladung fehlgeschlagen: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorÃ–ffentlicheEinladungFehlgeschlagen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:185:23`
- ğŸ“ Original: `'Ã–ffentliche Einladung fehlgeschlagen: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Ã–ffentliche Einladung fehlgeschlagen: $e');
    }
  }
```

**errorEinladungenKonntenNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:209:23`
- ğŸ“ Original: `'Einladungen konnten nicht geladen werden: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Einladungen konnten nicht geladen werden: $e');
    }
  }
```

**errorEinladungKonnteNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:241:23`
- ğŸ“ Original: `'Einladung konnte nicht gelÃ¶scht werden: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Einladung konnte nicht gelÃ¶scht werden: $e');
    }
  }
}
```

**errorReturnInviteerrorcodeinvalidemailReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:96:40`
- ğŸ“ Original: `')) {
      return InviteErrorCode.invalidEmail;
    }
    
    return InviteErrorCode.unknown;
  }

  // Benutzerfreundliche Fehlermeldungen basierend auf Error-Codes
  String _getErrorMessage(InviteErrorCode errorCode, String? originalMessage) {
    switch (errorCode) {
      case InviteErrorCode.inviteAlreadySent:
        return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return InviteErrorCode.worldNotFound;
    } else if (message.contains('nicht geÃ¶ffnet')) {
      return InviteErrorCode.worldNotOpen;
    } else if (message.contains('E-Mail')) {
      return InviteErrorCode.invalidEmail;
    }
```

**errorNetzwerkfehlerBitteVersuche** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:117:16`
- ğŸ“ Original: `'Netzwerkfehler - bitte versuche es erneut'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.invalidEmail:
        return 'UngÃ¼ltige E-Mail-Adresse';
      case InviteErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case InviteErrorCode.unknown:
        return originalMessage ?? 'Einladung fehlgeschlagen';
    }
```

**errorTrueElseStrukturierte** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:133:37`
- ğŸ“ Original: `'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return responseData['success'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
```

**errorOnSocketexceptionThrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:142:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } catch (e) {
      // Fallback fÃ¼r unbekannte Fehler
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
```

**errorEinladungenKonntenNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:197:25`
- ğŸ“ Original: `'Einladungen konnten nicht geladen werden: ${response.statusCode}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final List<dynamic> invitesJson = jsonDecode(response.body);
        return invitesJson.map((json) => Invite.fromJson(json as Map<String, dynamic>)).toList();
      } else {
        throw Exception('Einladungen konnten nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorEinladungenKonntenNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:209:23`
- ğŸ“ Original: `'Einladungen konnten nicht geladen werden: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Einladungen konnten nicht geladen werden: $e');
    }
  }
```

**errorBereitsEineEinladung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:88:26`
- ğŸ“ Original: `'bereits eine Einladung'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
    
    // Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('bereits eine Einladung')) {
      return InviteErrorCode.inviteAlreadySent;
    } else if (message.contains('Berechtigung')) {
      return InviteErrorCode.permissionDenied;
```

**errorDieseEmailadresseHat** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:107:16`
- ğŸ“ Original: `'Diese E-Mail-Adresse hat bereits eine Einladung erhalten'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
String _getErrorMessage(InviteErrorCode errorCode, String? originalMessage) {
    switch (errorCode) {
      case InviteErrorCode.inviteAlreadySent:
        return 'Diese E-Mail-Adresse hat bereits eine Einladung erhalten';
      case InviteErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung, Einladungen zu versenden';
      case InviteErrorCode.worldNotFound:
```

**errorDuHastKeine** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:109:16`
- ğŸ“ Original: `'Du hast keine Berechtigung, Einladungen zu versenden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.inviteAlreadySent:
        return 'Diese E-Mail-Adresse hat bereits eine Einladung erhalten';
      case InviteErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung, Einladungen zu versenden';
      case InviteErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case InviteErrorCode.worldNotOpen:
```

**errorWeltNichtGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:111:16`
- ğŸ“ Original: `'Welt nicht gefunden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung, Einladungen zu versenden';
      case InviteErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case InviteErrorCode.worldNotOpen:
        return 'Diese Welt ist nicht fÃ¼r Einladungen geÃ¶ffnet';
      case InviteErrorCode.invalidEmail:
```

**errorDieseWeltIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:113:16`
- ğŸ“ Original: `'Diese Welt ist nicht fÃ¼r Einladungen geÃ¶ffnet'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case InviteErrorCode.worldNotOpen:
        return 'Diese Welt ist nicht fÃ¼r Einladungen geÃ¶ffnet';
      case InviteErrorCode.invalidEmail:
        return 'UngÃ¼ltige E-Mail-Adresse';
      case InviteErrorCode.networkError:
```

**errorEinladungFehlgeschlagen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:119:35`
- ğŸ“ Original: `'Einladung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case InviteErrorCode.unknown:
        return originalMessage ?? 'Einladung fehlgeschlagen';
    }
  }
```

**errorEinladungFehlgeschlagenE** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:152:23`
- ğŸ“ Original: `'Einladung fehlgeschlagen: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Einladung fehlgeschlagen: $e');
    }
  }
```

**errorÃ–ffentlicheEinladungFehlgeschlagen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:173:25`
- ğŸ“ Original: `'Ã–ffentliche Einladung fehlgeschlagen: ${response.statusCode}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final errorMessage = _getErrorMessage(errorCode, errorData['message']);
        throw Exception(errorMessage);
      } else {
        throw Exception('Ã–ffentliche Einladung fehlgeschlagen: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorÃ–ffentlicheEinladungFehlgeschlagen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:185:23`
- ğŸ“ Original: `'Ã–ffentliche Einladung fehlgeschlagen: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Ã–ffentliche Einladung fehlgeschlagen: $e');
    }
  }
```

**errorEinladungenKonntenNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:197:25`
- ğŸ“ Original: `'Einladungen konnten nicht geladen werden: ${response.statusCode}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final List<dynamic> invitesJson = jsonDecode(response.body);
        return invitesJson.map((json) => Invite.fromJson(json as Map<String, dynamic>)).toList();
      } else {
        throw Exception('Einladungen konnten nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorEinladungenKonntenNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:209:23`
- ğŸ“ Original: `'Einladungen konnten nicht geladen werden: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Einladungen konnten nicht geladen werden: $e');
    }
  }
```

**errorEinladungKonnteNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:241:23`
- ğŸ“ Original: `'Einladung konnte nicht gelÃ¶scht werden: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Einladung konnte nicht gelÃ¶scht werden: $e');
    }
  }
}
```

**errorReturnWorlderrorcodepermissiondeniedCase** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:74:32`
- ğŸ“ Original: `':
          return WorldErrorCode.permissionDenied;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
switch (errorCode) {
        case 'WORLD_NOT_FOUND':
          return WorldErrorCode.worldNotFound;
        case 'PERMISSION_DENIED':
          return WorldErrorCode.permissionDenied;
        case 'WORLD_ARCHIVED':
          return WorldErrorCode.worldArchived;
```

**errorReturnWorlderrorcodeworldarchivedCase** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:76:29`
- ğŸ“ Original: `':
          return WorldErrorCode.worldArchived;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.worldNotFound;
        case 'PERMISSION_DENIED':
          return WorldErrorCode.permissionDenied;
        case 'WORLD_ARCHIVED':
          return WorldErrorCode.worldArchived;
        case 'ALREADY_REGISTERED':
          return WorldErrorCode.alreadyRegistered;
```

**errorReturnWorlderrorcodealreadyregisteredCase** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:78:33`
- ğŸ“ Original: `':
          return WorldErrorCode.alreadyRegistered;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.permissionDenied;
        case 'WORLD_ARCHIVED':
          return WorldErrorCode.worldArchived;
        case 'ALREADY_REGISTERED':
          return WorldErrorCode.alreadyRegistered;
        case 'ALREADY_PRE_REGISTERED':
          return WorldErrorCode.alreadyPreRegistered;
```

**errorReturnWorlderrorcodealreadypreregisteredCase** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:80:37`
- ğŸ“ Original: `':
          return WorldErrorCode.alreadyPreRegistered;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.worldArchived;
        case 'ALREADY_REGISTERED':
          return WorldErrorCode.alreadyRegistered;
        case 'ALREADY_PRE_REGISTERED':
          return WorldErrorCode.alreadyPreRegistered;
        case 'PRE_REGISTRATION_CLOSED':
          return WorldErrorCode.preRegistrationClosed;
```

**errorReturnWorlderrorcodepreregistrationclosedCase** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:82:38`
- ğŸ“ Original: `':
          return WorldErrorCode.preRegistrationClosed;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.alreadyRegistered;
        case 'ALREADY_PRE_REGISTERED':
          return WorldErrorCode.alreadyPreRegistered;
        case 'PRE_REGISTRATION_CLOSED':
          return WorldErrorCode.preRegistrationClosed;
        case 'NOT_AUTHENTICATED':
          return WorldErrorCode.notAuthenticated;
```

**errorReturnWorlderrorcodenotauthenticatedDefault** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:84:32`
- ğŸ“ Original: `':
          return WorldErrorCode.notAuthenticated;
        default:
          return WorldErrorCode.unknown;
      }
    }
    
    // Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.alreadyPreRegistered;
        case 'PRE_REGISTRATION_CLOSED':
          return WorldErrorCode.preRegistrationClosed;
        case 'NOT_AUTHENTICATED':
          return WorldErrorCode.notAuthenticated;
        default:
          return WorldErrorCode.unknown;
```

**errorReturnWorlderrorcodeworldnotfoundElse** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:92:41`
- ğŸ“ Original: `')) {
      return WorldErrorCode.worldNotFound;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
    
    // Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('nicht gefunden')) {
      return WorldErrorCode.worldNotFound;
    } else if (message.contains('Berechtigung')) {
      return WorldErrorCode.permissionDenied;
```

**errorReturnWorlderrorcodepermissiondeniedElse** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:94:46`
- ğŸ“ Original: `')) {
      return WorldErrorCode.permissionDenied;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('nicht gefunden')) {
      return WorldErrorCode.worldNotFound;
    } else if (message.contains('Berechtigung')) {
      return WorldErrorCode.permissionDenied;
    } else if (message.contains('archiviert')) {
      return WorldErrorCode.worldArchived;
```

**errorReturnWorlderrorcodeworldarchivedElse** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:96:44`
- ğŸ“ Original: `')) {
      return WorldErrorCode.worldArchived;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return WorldErrorCode.worldNotFound;
    } else if (message.contains('Berechtigung')) {
      return WorldErrorCode.permissionDenied;
    } else if (message.contains('archiviert')) {
      return WorldErrorCode.worldArchived;
    } else if (message.contains('bereits registriert')) {
      return WorldErrorCode.alreadyRegistered;
```

**errorReturnWorlderrorcodealreadyregisteredElse** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:98:53`
- ğŸ“ Original: `')) {
      return WorldErrorCode.alreadyRegistered;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return WorldErrorCode.permissionDenied;
    } else if (message.contains('archiviert')) {
      return WorldErrorCode.worldArchived;
    } else if (message.contains('bereits registriert')) {
      return WorldErrorCode.alreadyRegistered;
    } else if (message.contains('bereits vorregistriert')) {
      return WorldErrorCode.alreadyPreRegistered;
```

**errorReturnWorlderrorcodealreadypreregisteredElse** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:100:56`
- ğŸ“ Original: `')) {
      return WorldErrorCode.alreadyPreRegistered;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return WorldErrorCode.worldArchived;
    } else if (message.contains('bereits registriert')) {
      return WorldErrorCode.alreadyRegistered;
    } else if (message.contains('bereits vorregistriert')) {
      return WorldErrorCode.alreadyPreRegistered;
    } else if (message.contains('geschlossen')) {
      return WorldErrorCode.preRegistrationClosed;
```

**errorReturnWorlderrorcodepreregistrationclosedElse** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:102:45`
- ğŸ“ Original: `')) {
      return WorldErrorCode.preRegistrationClosed;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.alreadyRegistered;
    } else if (message.contains('bereits vorregistriert')) {
      return WorldErrorCode.alreadyPreRegistered;
    } else if (message.contains('geschlossen')) {
      return WorldErrorCode.preRegistrationClosed;
    } else if (message.contains('angemeldet')) {
      return WorldErrorCode.notAuthenticated;
```

**errorReturnWorlderrorcodenotauthenticatedReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:104:44`
- ğŸ“ Original: `')) {
      return WorldErrorCode.notAuthenticated;
    }
    
    return WorldErrorCode.unknown;
  }

  // Benutzerfreundliche Fehlermeldungen basierend auf Error-Codes
  String _getErrorMessage(WorldErrorCode errorCode, String? originalMessage) {
    switch (errorCode) {
      case WorldErrorCode.worldNotFound:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.alreadyPreRegistered;
    } else if (message.contains('geschlossen')) {
      return WorldErrorCode.preRegistrationClosed;
    } else if (message.contains('angemeldet')) {
      return WorldErrorCode.notAuthenticated;
    }
```

**errorCaseWorlderrorcodepermissiondeniedReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:115:36`
- ğŸ“ Original: `';
      case WorldErrorCode.permissionDenied:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
String _getErrorMessage(WorldErrorCode errorCode, String? originalMessage) {
    switch (errorCode) {
      case WorldErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case WorldErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung fÃ¼r diese Aktion';
      case WorldErrorCode.worldArchived:
```

**errorCaseWorlderrorcodeworldarchivedReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:117:60`
- ğŸ“ Original: `';
      case WorldErrorCode.worldArchived:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case WorldErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung fÃ¼r diese Aktion';
      case WorldErrorCode.worldArchived:
        return 'Diese Welt ist nicht mehr verfÃ¼gbar';
      case WorldErrorCode.alreadyRegistered:
```

**errorCaseWorlderrorcodealreadyregisteredReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:119:52`
- ğŸ“ Original: `';
      case WorldErrorCode.alreadyRegistered:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung fÃ¼r diese Aktion';
      case WorldErrorCode.worldArchived:
        return 'Diese Welt ist nicht mehr verfÃ¼gbar';
      case WorldErrorCode.alreadyRegistered:
        return 'Du bist bereits Mitglied dieser Welt';
      case WorldErrorCode.alreadyPreRegistered:
```

**errorCaseWorlderrorcodealreadypreregisteredReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:121:53`
- ğŸ“ Original: `';
      case WorldErrorCode.alreadyPreRegistered:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.worldArchived:
        return 'Diese Welt ist nicht mehr verfÃ¼gbar';
      case WorldErrorCode.alreadyRegistered:
        return 'Du bist bereits Mitglied dieser Welt';
      case WorldErrorCode.alreadyPreRegistered:
        return 'Du bist bereits fÃ¼r diese Welt vorregistriert';
      case WorldErrorCode.preRegistrationClosed:
```

**errorCaseWorlderrorcodepreregistrationclosedReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:123:62`
- ğŸ“ Original: `';
      case WorldErrorCode.preRegistrationClosed:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.alreadyRegistered:
        return 'Du bist bereits Mitglied dieser Welt';
      case WorldErrorCode.alreadyPreRegistered:
        return 'Du bist bereits fÃ¼r diese Welt vorregistriert';
      case WorldErrorCode.preRegistrationClosed:
        return 'Vorregistrierung fÃ¼r diese Welt ist nicht mÃ¶glich';
      case WorldErrorCode.notAuthenticated:
```

**errorCaseWorlderrorcodenotauthenticatedReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:125:66`
- ğŸ“ Original: `';
      case WorldErrorCode.notAuthenticated:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.alreadyPreRegistered:
        return 'Du bist bereits fÃ¼r diese Welt vorregistriert';
      case WorldErrorCode.preRegistrationClosed:
        return 'Vorregistrierung fÃ¼r diese Welt ist nicht mÃ¶glich';
      case WorldErrorCode.notAuthenticated:
        return 'Du musst angemeldet sein';
      case WorldErrorCode.networkError:
```

**errorCaseWorlderrorcodenetworkerrorReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:127:41`
- ğŸ“ Original: `';
      case WorldErrorCode.networkError:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.preRegistrationClosed:
        return 'Vorregistrierung fÃ¼r diese Welt ist nicht mÃ¶glich';
      case WorldErrorCode.notAuthenticated:
        return 'Du musst angemeldet sein';
      case WorldErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case WorldErrorCode.unknown:
```

**errorCaseWorlderrorcodeunknownReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:129:58`
- ğŸ“ Original: `';
      case WorldErrorCode.unknown:
        return originalMessage ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.notAuthenticated:
        return 'Du musst angemeldet sein';
      case WorldErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case WorldErrorCode.unknown:
        return originalMessage ?? 'Aktion fehlgeschlagen';
    }
```

**errorFuturelistworldGetworldsAsync** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:131:57`
- ğŸ“ Original: `';
    }
  }

  Future<List<World>> getWorlds() async {
    try {
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case WorldErrorCode.unknown:
        return originalMessage ?? 'Aktion fehlgeschlagen';
    }
  }
```

**errorOnSocketexceptionThrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:146:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Welten konnten nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorWeltKonnteNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:167:25`
- ğŸ“ Original: `'Welt konnte nicht geladen werden: ${response.statusCode}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final worldJson = jsonDecode(response.body);
        return World.fromJson(worldJson);
      } else {
        throw Exception('Welt konnte nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorOnSocketexceptionThrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:170:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Welt konnte nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorOnSocketexceptionThrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:198:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFutureboolPreregisterworldintWorldid** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:207:51`
- ğŸ“ Original: `');
    }
  }

  Future<bool> preRegisterWorld(int worldId, String email, {Map<String, dynamic>? config}) async {
    try {
      final data = <String, dynamic>{
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Beitritt fehlgeschlagen: $e');
    }
  }
```

**errorOnSocketexceptionThrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:233:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFutureboolPreregisterworldauthenticatedintWorldid** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:242:59`
- ğŸ“ Original: `');
    }
  }

  Future<bool> preRegisterWorldAuthenticated(int worldId, {Map<String, dynamic>? config}) async {
    try {
      final currentUser = _authService.currentUser;
      if (currentUser == null) {
        throw Exception(_getErrorMessage(WorldErrorCode.notAuthenticated, null));
      }

      final data = <String, dynamic>{
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Vorregistrierung fehlgeschlagen: $e');
    }
  }
```

**errorOnSocketexceptionThrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:273:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFutureboolCancelpreregistrationintWorldid** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:282:59`
- ğŸ“ Original: `');
    }
  }

  Future<bool> cancelPreRegistration(int worldId, String email) async {
    try {
      final response = await _apiService.delete('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Vorregistrierung fehlgeschlagen: $e');
    }
  }
```

**errorOnSocketexceptionThrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:292:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return response.statusCode == 200;
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFutureboolCancelpreregistrationauthenticatedintWorldid** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:301:74`
- ğŸ“ Original: `');
    }
  }

  Future<bool> cancelPreRegistrationAuthenticated(int worldId) async {
    try {
      final currentUser = _authService.currentUser;
      if (currentUser == null) {
        throw Exception(_getErrorMessage(WorldErrorCode.notAuthenticated, null));
      }

      return await cancelPreRegistration(worldId, currentUser.email);
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Vorregistrierung konnte nicht storniert werden: $e');
    }
  }
```

**errorOnSocketexceptionThrow** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:327:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return response.statusCode == 200;
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorTLogThis** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:347:13`
- ğŸ“ Original: `'t log this as an error
      return false;
    }
  }

  // Neue typsichere Methode mit PreRegistrationStatus-Model
  Future<PreRegistrationStatus> getPreRegistrationStatus(int worldId) async {
    try {
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return response.statusCode == 200;
    } catch (e) {
      // 404 means user is not in this world, which is normal
      // Don't log this as an error
      return false;
    }
  }
```

**errorFehlerBeiTokenvalidierung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:390:26`
- ğŸ“ Original: `'Fehler bei Token-Validierung'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Token-Validierung', e, context: {'token': token.substring(0, 8) + '...'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
```

**errorFallbackFÃ¼rBessere** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:390:108`
- ğŸ“ Original: `'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
  }

  // Invite akzeptieren und User der Welt hinzufÃ¼gen
  Future<Map<String, dynamic>?> acceptInvite(String token) async {
    try {
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Token-Validierung', e, context: {'token': token.substring(0, 8) + '...'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
```

**errorApicallMitAuthentifizierung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:399:96`
- ğŸ“ Original: `'});
      
      // API-Call mit Authentifizierung (da User eingeloggt sein muss)
      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Invite akzeptieren und User der Welt hinzufÃ¼gen
  Future<Map<String, dynamic>?> acceptInvite(String token) async {
    try {
      AppLogger.app.i('ğŸ« Invite wird akzeptiert', error: {'token': token.substring(0, 8) + '...'});
      
      // API-Call mit Authentifizierung (da User eingeloggt sein muss)
      final response = await _apiService.post('/invites/accept/$token', {});
```

**errorDieseEinladungIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:421:25`
- ğŸ“ Original: `'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Invite bereits akzeptiert');
      } else if (response.statusCode == 403) {
        AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
      } else if (response.statusCode == 410) {
        AppLogger.app.w('âš ï¸ Invite-Token abgelaufen', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite-Token ist abgelaufen');
```

**errorInvitetokenIstAbgelaufen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:424:25`
- ğŸ“ Original: `'Invite-Token ist abgelaufen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
      } else if (response.statusCode == 410) {
        AppLogger.app.w('âš ï¸ Invite-Token abgelaufen', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite-Token ist abgelaufen');
      }
      
      return null;
```

**errorReturnWorlderrorcodenotauthenticatedReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:104:44`
- ğŸ“ Original: `')) {
      return WorldErrorCode.notAuthenticated;
    }
    
    return WorldErrorCode.unknown;
  }

  // Benutzerfreundliche Fehlermeldungen basierend auf Error-Codes
  String _getErrorMessage(WorldErrorCode errorCode, String? originalMessage) {
    switch (errorCode) {
      case WorldErrorCode.worldNotFound:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.alreadyPreRegistered;
    } else if (message.contains('geschlossen')) {
      return WorldErrorCode.preRegistrationClosed;
    } else if (message.contains('angemeldet')) {
      return WorldErrorCode.notAuthenticated;
    }
```

**errorNetzwerkfehlerBitteVersuche** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:129:16`
- ğŸ“ Original: `'Netzwerkfehler - bitte versuche es erneut'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.notAuthenticated:
        return 'Du musst angemeldet sein';
      case WorldErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case WorldErrorCode.unknown:
        return originalMessage ?? 'Aktion fehlgeschlagen';
    }
```

**errorWeltenKonntenNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:143:25`
- ğŸ“ Original: `'Welten konnten nicht geladen werden: ${response.statusCode}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final List<dynamic> worldsJson = jsonDecode(response.body);
        return worldsJson.map((json) => World.fromJson(json)).toList();
      } else {
        throw Exception('Welten konnten nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorWeltenKonntenNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:155:23`
- ğŸ“ Original: `'Welten konnten nicht geladen werden: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Welten konnten nicht geladen werden: $e');
    }
  }
```

**errorWeltKonnteNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:167:25`
- ğŸ“ Original: `'Welt konnte nicht geladen werden: ${response.statusCode}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final worldJson = jsonDecode(response.body);
        return World.fromJson(worldJson);
      } else {
        throw Exception('Welt konnte nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorWeltKonnteNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:179:23`
- ğŸ“ Original: `'Welt konnte nicht geladen werden: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Welt konnte nicht geladen werden: $e');
    }
  }
```

**errorTrueElseStrukturierte** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:189:37`
- ğŸ“ Original: `'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return responseData['success'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
```

**errorTrueElseStrukturierte** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:224:37`
- ğŸ“ Original: `'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return responseData['success'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
```

**errorTrueElseStrukturierte** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:264:37`
- ğŸ“ Original: `'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return responseData['success'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
```

**errorTLogThis** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:364:13`
- ğŸ“ Original: `'t log this as an error
      return PreRegistrationStatus(isPreRegistered: false);
    }
  }

  // Backwards-KompatibilitÃ¤t: Alte Methode mit bool-RÃ¼ckgabe
  Future<bool> isPreRegisteredForWorld(int worldId) async {
    final status = await getPreRegistrationStatus(worldId);
    return status.isPreRegistered;
  }

  // Invite-Token Validierung
  Future<Map<String, dynamic>?> validateInviteToken(String token) async {
    try {
      // API-Call ohne Authentifizierung (Ã¶ffentlicher Endpoint)
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return PreRegistrationStatus(isPreRegistered: false);
    } catch (e) {
      // 404 means user is not pre-registered, which is normal
      // Don't log this as an error
      return PreRegistrationStatus(isPreRegistered: false);
    }
  }
```

**errorFehlerBeiTokenvalidierung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:390:26`
- ğŸ“ Original: `'Fehler bei Token-Validierung'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Token-Validierung', e, context: {'token': token.substring(0, 8) + '...'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
```

**errorFallbackFÃ¼rBessere** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:390:108`
- ğŸ“ Original: `'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
  }

  // Invite akzeptieren und User der Welt hinzufÃ¼gen
  Future<Map<String, dynamic>?> acceptInvite(String token) async {
    try {
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Token-Validierung', e, context: {'token': token.substring(0, 8) + '...'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
```

**errorInvitesaccepttoken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:402:47`
- ğŸ“ Original: `'/invites/accept/$token'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('ğŸ« Invite wird akzeptiert', error: {'token': token.substring(0, 8) + '...'});
      
      // API-Call mit Authentifizierung (da User eingeloggt sein muss)
      final response = await _apiService.post('/invites/accept/$token', {});
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
```

**errorInviteErfolgreichAkzeptiert** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:407:27`
- ğŸ“ Original: `'âœ… Invite erfolgreich akzeptiert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        if (responseData['success'] == true && responseData['data'] != null) {
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': responseData['data']['world']?['id'],
            'worldName': responseData['data']['world']?['name']
          });
```

**errorInvitetokenAbgelaufen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:423:25`
- ğŸ“ Original: `'âš ï¸ Invite-Token abgelaufen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
      } else if (response.statusCode == 410) {
        AppLogger.app.w('âš ï¸ Invite-Token abgelaufen', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite-Token ist abgelaufen');
      }
```

**errorInvitetokenIstAbgelaufen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:424:25`
- ğŸ“ Original: `'Invite-Token ist abgelaufen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
      } else if (response.statusCode == 410) {
        AppLogger.app.w('âš ï¸ Invite-Token abgelaufen', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite-Token ist abgelaufen');
      }
      
      return null;
```

**errorFehlerBeiInviteakzeptierung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:429:26`
- ğŸ“ Original: `'Fehler bei Invite-Akzeptierung'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Invite-Akzeptierung', e, context: {'token': token.substring(0, 8) + '...'});
      rethrow;
    }
  }
```

**errorWeltNichtGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:115:16`
- ğŸ“ Original: `'Welt nicht gefunden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
String _getErrorMessage(WorldErrorCode errorCode, String? originalMessage) {
    switch (errorCode) {
      case WorldErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case WorldErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung fÃ¼r diese Aktion';
      case WorldErrorCode.worldArchived:
```

**errorDieseWeltIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:119:16`
- ğŸ“ Original: `'Diese Welt ist nicht mehr verfÃ¼gbar'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung fÃ¼r diese Aktion';
      case WorldErrorCode.worldArchived:
        return 'Diese Welt ist nicht mehr verfÃ¼gbar';
      case WorldErrorCode.alreadyRegistered:
        return 'Du bist bereits Mitglied dieser Welt';
      case WorldErrorCode.alreadyPreRegistered:
```

**errorDuBistBereits** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:121:16`
- ğŸ“ Original: `'Du bist bereits Mitglied dieser Welt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.worldArchived:
        return 'Diese Welt ist nicht mehr verfÃ¼gbar';
      case WorldErrorCode.alreadyRegistered:
        return 'Du bist bereits Mitglied dieser Welt';
      case WorldErrorCode.alreadyPreRegistered:
        return 'Du bist bereits fÃ¼r diese Welt vorregistriert';
      case WorldErrorCode.preRegistrationClosed:
```

**errorDuBistBereits** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:123:16`
- ğŸ“ Original: `'Du bist bereits fÃ¼r diese Welt vorregistriert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.alreadyRegistered:
        return 'Du bist bereits Mitglied dieser Welt';
      case WorldErrorCode.alreadyPreRegistered:
        return 'Du bist bereits fÃ¼r diese Welt vorregistriert';
      case WorldErrorCode.preRegistrationClosed:
        return 'Vorregistrierung fÃ¼r diese Welt ist nicht mÃ¶glich';
      case WorldErrorCode.notAuthenticated:
```

**errorVorregistrierungFÃ¼rDiese** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:125:16`
- ğŸ“ Original: `'Vorregistrierung fÃ¼r diese Welt ist nicht mÃ¶glich'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.alreadyPreRegistered:
        return 'Du bist bereits fÃ¼r diese Welt vorregistriert';
      case WorldErrorCode.preRegistrationClosed:
        return 'Vorregistrierung fÃ¼r diese Welt ist nicht mÃ¶glich';
      case WorldErrorCode.notAuthenticated:
        return 'Du musst angemeldet sein';
      case WorldErrorCode.networkError:
```

**errorWeltenKonntenNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:143:25`
- ğŸ“ Original: `'Welten konnten nicht geladen werden: ${response.statusCode}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final List<dynamic> worldsJson = jsonDecode(response.body);
        return worldsJson.map((json) => World.fromJson(json)).toList();
      } else {
        throw Exception('Welten konnten nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorWeltenKonntenNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:155:23`
- ğŸ“ Original: `'Welten konnten nicht geladen werden: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Welten konnten nicht geladen werden: $e');
    }
  }
```

**errorWeltKonnteNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:167:25`
- ğŸ“ Original: `'Welt konnte nicht geladen werden: ${response.statusCode}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final worldJson = jsonDecode(response.body);
        return World.fromJson(worldJson);
      } else {
        throw Exception('Welt konnte nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorWeltKonnteNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:179:23`
- ğŸ“ Original: `'Welt konnte nicht geladen werden: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Welt konnte nicht geladen werden: $e');
    }
  }
```

**errorWeltKonnteNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:336:23`
- ğŸ“ Original: `'Welt konnte nicht verlassen werden: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Welt konnte nicht verlassen werden: $e');
    }
  }
```

**errorFallbackFÃ¼rBessere** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:390:108`
- ğŸ“ Original: `'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
  }

  // Invite akzeptieren und User der Welt hinzufÃ¼gen
  Future<Map<String, dynamic>?> acceptInvite(String token) async {
    try {
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Token-Validierung', e, context: {'token': token.substring(0, 8) + '...'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
```

**errorDieseEinladungIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:421:25`
- ğŸ“ Original: `'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Invite bereits akzeptiert');
      } else if (response.statusCode == 403) {
        AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
      } else if (response.statusCode == 410) {
        AppLogger.app.w('âš ï¸ Invite-Token abgelaufen', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite-Token ist abgelaufen');
```

**errorOverrideVoidDispose** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:24:66`
- ğŸ“ Original: `');

  @override
  void dispose() {
    _emailController.dispose();
    super.dispose();
  }

  Future<void> _requestPasswordReset() async {
    if (!_formKey.currentState!.validate()) {
      return;
    }

    setState(() {
      _isLoading = true;
      _errorMessage = null;
      _isSuccess = false;
    });

    try {
      final success = await _authService.requestPasswordReset(
        _emailController.text.trim(),
      );

      if (success && mounted) {
        setState(() {
          _isSuccess = true;
        });
        
        // Nach 3 Sekunden zurÃ¼ck zum Login
        Future.delayed(const Duration(seconds: 3), () {
          if (mounted) {
            context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
String? _errorMessage;
  
  // E-Mail-Validierung Regex
  static final RegExp _emailRegex = RegExp(r'^[^@]+@[^@]+\.[^@]+$');

  @override
  void dispose() {
```

**errorFinallyIfMounted** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:63:67`
- ğŸ“ Original: `');
        });
      }
    } finally {
      if (mounted) {
        setState(() {
          _isLoading = false;
        });
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: BackgroundWidget(
        child: Center(
          child: SingleChildScrollView(
            padding: const EdgeInsets.all(24.0),
            child: Center(
              child: ConstrainedBox(
                constraints: const BoxConstraints(maxWidth: 400),
                child: Card(
                  elevation: 12,
                  color: const Color(0xFF1A1A1A),
                  shape: RoundedRectangleBorder(
                    borderRadius: BorderRadius.circular(20),
                    side: BorderSide(
                      color: AppTheme.primaryColor.withOpacity(0.3),
                      width: 1,
                    ),
                  ),
                  child: Container(
                    decoration: BoxDecoration(
                      borderRadius: BorderRadius.circular(20),
                      gradient: const LinearGradient(
                        begin: Alignment.topLeft,
                        end: Alignment.bottomRight,
                        colors: [
                          Color(0xFF1A1A1A),
                          Color(0xFF2A2A2A),
                        ],
                      ),
                    ),
                    child: Padding(
                      padding: const EdgeInsets.all(32.0),
                      child: Form(
                        key: _formKey,
                        child: Column(
                          mainAxisSize: MainAxisSize.min,
                          children: [
                            // Back Button
                            Align(
                              alignment: Alignment.centerLeft,
                              child: IconButton(
                                onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        setState(() {
          _errorMessage = e.toString().replaceAll('Exception: ', '');
        });
      }
    } finally {
```

**errorOverrideVoidDispose** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:24:66`
- ğŸ“ Original: `');

  @override
  void dispose() {
    _emailController.dispose();
    super.dispose();
  }

  Future<void> _requestPasswordReset() async {
    if (!_formKey.currentState!.validate()) {
      return;
    }

    setState(() {
      _isLoading = true;
      _errorMessage = null;
      _isSuccess = false;
    });

    try {
      final success = await _authService.requestPasswordReset(
        _emailController.text.trim(),
      );

      if (success && mounted) {
        setState(() {
          _isSuccess = true;
        });
        
        // Nach 3 Sekunden zurÃ¼ck zum Login
        Future.delayed(const Duration(seconds: 3), () {
          if (mounted) {
            context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
String? _errorMessage;
  
  // E-Mail-Validierung Regex
  static final RegExp _emailRegex = RegExp(r'^[^@]+@[^@]+\.[^@]+$');

  @override
  void dispose() {
```

**errorOverrideVoidDispose** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:24:66`
- ğŸ“ Original: `');

  @override
  void dispose() {
    _emailController.dispose();
    super.dispose();
  }

  Future<void> _requestPasswordReset() async {
    if (!_formKey.currentState!.validate()) {
      return;
    }

    setState(() {
      _isLoading = true;
      _errorMessage = null;
      _isSuccess = false;
    });

    try {
      final success = await _authService.requestPasswordReset(
        _emailController.text.trim(),
      );

      if (success && mounted) {
        setState(() {
          _isSuccess = true;
        });
        
        // Nach 3 Sekunden zurÃ¼ck zum Login
        Future.delayed(const Duration(seconds: 3), () {
          if (mounted) {
            context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
String? _errorMessage;
  
  // E-Mail-Validierung Regex
  static final RegExp _emailRegex = RegExp(r'^[^@]+@[^@]+\.[^@]+$');

  @override
  void dispose() {
```

**errorErrorE_authservice** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:77:79`
- ğŸ“ Original: `', error: e);
      _authService = AuthService();
    }
  }

  void _loadQueryParameters() {
    // Query-Parameter aus der URL lesen
    final routeData = GoRouterState.of(context);
    _inviteToken = routeData.uri.queryParameters['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_authService = AuthService();
      }
    } catch (e) {
      AppLogger.app.w('âš ï¸ ServiceLocator Fehler - nutze direkte Instanziierung', error: e);
      _authService = AuthService();
    }
  }
```

**errorUserusernameIfMounted** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:108:84`
- ğŸ“ Original: `': user.username});
        
        if (mounted) {
          // HINZUGEFÃœGT: Post-Auth-Redirect prÃ¼fen
          final pendingRedirect = _authService.getPendingRedirect();
          
          if (pendingRedirect != null) {
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

      if (user != null) {
        AppLogger.app.i('âœ… Login erfolgreich', error: {'userId': user.id, 'username': user.username});
        
        if (mounted) {
          // HINZUGEFÃœGT: Post-Auth-Redirect prÃ¼fen
```

**errorErrorPendingredirect_authserviceclearpendingredirect** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:115:58`
- ğŸ“ Original: `', error: pendingRedirect);
            _authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
            final routeName = pendingRedirect['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final pendingRedirect = _authService.getPendingRedirect();
          
          if (pendingRedirect != null) {
            AppLogger.app.i('ğŸ« Post-Auth-Redirect erkannt', error: pendingRedirect);
            _authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
```

**error_invitetokenElseStandardredirect** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:130:75`
- ğŸ“ Original: `': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
            context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
            context.goNamed('world-list');
```

**errorFinallyIfMounted** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:140:63`
- ğŸ“ Original: `');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isLoading = false;
        });
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Stack(
        children: [
          BackgroundWidget(
            child: Center(
              child: SingleChildScrollView(
                padding: const EdgeInsets.all(24.0),
                child: FadeTransition(
                  opacity: _fadeAnimation,
                  child: Center(
                    child: ConstrainedBox(
                      constraints: const BoxConstraints(maxWidth: 400),
                      child: Card(
                        elevation: 12,
                        color: const Color(0xFF1A1A1A),
                        shape: RoundedRectangleBorder(
                          borderRadius: BorderRadius.circular(20),
                          side: BorderSide(
                            color: AppTheme.primaryColor.withOpacity(0.3),
                            width: 1,
                          ),
                        ),
                        child: Container(
                          decoration: BoxDecoration(
                            borderRadius: BorderRadius.circular(20),
                            gradient: const LinearGradient(
                              begin: Alignment.topLeft,
                              end: Alignment.bottomRight,
                              colors: [
                                Color(0xFF1A1A1A),
                                Color(0xFF2A2A2A),
                              ],
                            ),
                          ),
                          child: Padding(
                            padding: const EdgeInsets.all(32.0),
                            child: Form(
                              key: _formKey,
                              child: Column(
                                mainAxisSize: MainAxisSize.min,
                                children: [
                                  // Logo/Title with Animation
                                  TweenAnimationBuilder<double>(
                                    tween: Tween(begin: 0.8, end: 1.0),
                                    duration: const Duration(milliseconds: 600),
                                    curve: Curves.elasticOut,
                                    builder: (context, value, child) {
                                      return Transform.scale(
                                        scale: value,
                                        child: child,
                                      );
                                    },
                                    child: Container(
                                      width: 80,
                                      height: 80,
                                      decoration: BoxDecoration(
                                        color: AppTheme.primaryColor.withOpacity(0.2),
                                        borderRadius: BorderRadius.circular(20),
                                        border: Border.all(
                                          color: AppTheme.primaryColor.withOpacity(0.5),
                                          width: 2,
                                        ),
                                      ),
                                      child: const Icon(
                                        Icons.public,
                                        size: 40,
                                        color: AppTheme.primaryColor,
                                      ),
                                    ),
                                  ),
                                  const SizedBox(height: 20),
                                  Text(
                                    '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      AppLogger.logError('Login fehlgeschlagen', e);
      setState(() {
        _loginError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
```

**errorErrorE_authservice** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:77:79`
- ğŸ“ Original: `', error: e);
      _authService = AuthService();
    }
  }

  void _loadQueryParameters() {
    // Query-Parameter aus der URL lesen
    final routeData = GoRouterState.of(context);
    _inviteToken = routeData.uri.queryParameters['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_authService = AuthService();
      }
    } catch (e) {
      AppLogger.app.w('âš ï¸ ServiceLocator Fehler - nutze direkte Instanziierung', error: e);
      _authService = AuthService();
    }
  }
```

**errorLoginQueryparameterGeladen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:87:21`
- ğŸ“ Original: `'ğŸ« Login Query-Parameter geladen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final routeData = GoRouterState.of(context);
    _inviteToken = routeData.uri.queryParameters['invite_token'];
    
    AppLogger.app.i('ğŸ« Login Query-Parameter geladen', error: {
      'hasInviteToken': _inviteToken != null,
      'inviteToken': _inviteToken?.substring(0, 8)
    });
```

**errorLoginErfolgreich** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:108:25`
- ğŸ“ Original: `'âœ… Login erfolgreich'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

      if (user != null) {
        AppLogger.app.i('âœ… Login erfolgreich', error: {'userId': user.id, 'username': user.username});
        
        if (mounted) {
          // HINZUGEFÃœGT: Post-Auth-Redirect prÃ¼fen
```

**errorWorldjoinbytoken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:130:29`
- ğŸ“ Original: `'world-join-by-token'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
            context.goNamed('world-list');
```

**error_invitetokenElseStandardredirect** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:130:75`
- ğŸ“ Original: `': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
            context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
            context.goNamed('world-list');
```

**errorErrorE_authservice** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:56:79`
- ğŸ“ Original: `', error: e);
      _authService = AuthService();
    }
  }

  void _loadQueryParameters() {
    // Query-Parameter aus der URL lesen
    final routeData = GoRouterState.of(context);
    _inviteToken = routeData.uri.queryParameters['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      
    } catch (e) {
      AppLogger.app.w('âš ï¸ ServiceLocator Fehler - nutze direkte Instanziierung', error: e);
      _authService = AuthService();
    }
  }
```

**errorRegistrationQueryparameterGeladen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:67:21`
- ğŸ“ Original: `'ğŸ“§ Registration Query-Parameter geladen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_inviteToken = routeData.uri.queryParameters['invite_token'];
    _prefilledEmail = routeData.uri.queryParameters['email'];
    
    AppLogger.app.i('ğŸ“§ Registration Query-Parameter geladen', error: {
      'hasInviteToken': _inviteToken != null,
      'hasPrefilledEmail': _prefilledEmail != null,
      'inviteToken': _inviteToken?.substring(0, 8),
```

**error_prefilledemailOverrideVoid** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:77:60`
- ğŸ“ Original: `': _prefilledEmail});
    }
  }

  @override
  void dispose() {
    _usernameController.dispose();
    _emailController.dispose();
    _passwordController.dispose();
    super.dispose();
  }

  Future<void> _register() async {
    final formState = _formKey.currentState;
    if (formState == null || !formState.validate()) {
      return;
    }

    setState(() {
      _isLoading = true;
      _registerError = null;
    });

    try {
      final user = await _authService.register(
        _usernameController.text.trim(),
        _emailController.text.trim().toLowerCase(),
        _passwordController.text,
      );

      if (user != null) {
        AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// E-Mail vorbefÃ¼llen wenn vorhanden
    if (_prefilledEmail != null && _prefilledEmail!.isNotEmpty) {
      _emailController.text = _prefilledEmail!;
      AppLogger.app.i('ğŸ“§ E-Mail vorbefÃ¼llt', error: {'email': _prefilledEmail});
    }
  }
```

**errorUseremailIfMounted** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:111:17`
- ğŸ“ Original: `': user.email,
        });
        
        if (mounted) {
          // HINZUGEFÃœGT: Post-Auth-Redirect prÃ¼fen
          final pendingRedirect = _authService.getPendingRedirect();
          
          if (pendingRedirect != null) {
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('âœ… Registrierung erfolgreich', error: {
          'userId': user.id,
          'username': user.username,
          'email': user.email,
        });
        
        if (mounted) {
```

**errorErrorPendingredirect_authserviceclearpendingredirect** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:119:76`
- ğŸ“ Original: `', error: pendingRedirect);
            _authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
            final routeName = pendingRedirect['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final pendingRedirect = _authService.getPendingRedirect();
          
          if (pendingRedirect != null) {
            AppLogger.app.i('ğŸ« Post-Auth-Redirect nach Registration erkannt', error: pendingRedirect);
            _authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
```

**errorInvitetokenInQuery** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:146:29`
- ğŸ“ Original: `'ğŸ« Invite-Token in Query nach Registration - direkte Navigation'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query nach Registration - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
```

**errorRegistrierungFehlgeschlagen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:177:26`
- ğŸ“ Original: `'Registrierung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      }
    } catch (e) {
      AppLogger.logError('Registrierung fehlgeschlagen', e, context: {
        'username': _usernameController.text.trim(),
        'email': _emailController.text.trim().toLowerCase(),
      });
```

**error_emailcontrollertexttrimtolowercaseSetstate_registererror** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:179:15`
- ğŸ“ Original: `': _emailController.text.trim().toLowerCase(),
      });
      
      setState(() {
        _registerError = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      AppLogger.logError('Registrierung fehlgeschlagen', e, context: {
        'username': _usernameController.text.trim(),
        'email': _emailController.text.trim().toLowerCase(),
      });
      
      setState(() {
```

**errorFinallyIfMounted** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:183:66`
- ğŸ“ Original: `');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isLoading = false;
        });
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: BackgroundWidget(
        child: Center(
          child: SingleChildScrollView(
            padding: const EdgeInsets.all(24.0),
            child: Center(
              child: ConstrainedBox(
                constraints: const BoxConstraints(maxWidth: 400),
                child: Card(
                  elevation: 12,
                  color: const Color(0xFF1A1A1A), // Dunkle Karte
                  shape: RoundedRectangleBorder(
                    borderRadius: BorderRadius.circular(20),
                    side: BorderSide(
                      color: AppTheme.primaryColor.withOpacity(0.3),
                      width: 1,
                    ),
                  ),
                  child: Container(
                    decoration: BoxDecoration(
                      borderRadius: BorderRadius.circular(20),
                      gradient: const LinearGradient(
                        begin: Alignment.topLeft,
                        end: Alignment.bottomRight,
                        colors: [
                          Color(0xFF1A1A1A),
                          Color(0xFF2A2A2A),
                        ],
                      ),
                    ),
                    child: Padding(
                      padding: const EdgeInsets.all(32.0),
                      child: Form(
                        key: _formKey,
                        child: Column(
                          mainAxisSize: MainAxisSize.min,
                          children: [
                            // Logo/Title
                            Container(
                              width: 80,
                              height: 80,
                              decoration: BoxDecoration(
                                color: AppTheme.primaryColor.withOpacity(0.2),
                                borderRadius: BorderRadius.circular(20),
                                border: Border.all(
                                  color: AppTheme.primaryColor.withOpacity(0.5),
                                  width: 2,
                                ),
                              ),
                              child: const Icon(
                                Icons.person_add,
                                size: 40,
                                color: AppTheme.primaryColor,
                              ),
                            ),
                            const SizedBox(height: 20),
                            Text(
                              '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
      
      setState(() {
        _registerError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
```

**errorErrorE_authservice** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:56:79`
- ğŸ“ Original: `', error: e);
      _authService = AuthService();
    }
  }

  void _loadQueryParameters() {
    // Query-Parameter aus der URL lesen
    final routeData = GoRouterState.of(context);
    _inviteToken = routeData.uri.queryParameters['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      
    } catch (e) {
      AppLogger.app.w('âš ï¸ ServiceLocator Fehler - nutze direkte Instanziierung', error: e);
      _authService = AuthService();
    }
  }
```

**errorRegistrationQueryparameterGeladen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:67:21`
- ğŸ“ Original: `'ğŸ“§ Registration Query-Parameter geladen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_inviteToken = routeData.uri.queryParameters['invite_token'];
    _prefilledEmail = routeData.uri.queryParameters['email'];
    
    AppLogger.app.i('ğŸ“§ Registration Query-Parameter geladen', error: {
      'hasInviteToken': _inviteToken != null,
      'hasPrefilledEmail': _prefilledEmail != null,
      'inviteToken': _inviteToken?.substring(0, 8),
```

**errorRegistrierungErfolgreich** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:108:25`
- ğŸ“ Original: `'âœ… Registrierung erfolgreich'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

      if (user != null) {
        AppLogger.app.i('âœ… Registrierung erfolgreich', error: {
          'userId': user.id,
          'username': user.username,
          'email': user.email,
```

**errorInvitetokenInQuery** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:146:29`
- ğŸ“ Original: `'ğŸ« Invite-Token in Query nach Registration - direkte Navigation'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query nach Registration - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
```

**errorDerResetlinkIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:99:29`
- ğŸ“ Original: `'Der Reset-Link ist ungÃ¼ltig oder abgelaufen. Bitte fordere einen neuen Link an.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {
          final error = e.toString().replaceAll('Exception: ', '');
          if (error.contains('expired') || error.contains('invalid')) {
            _errorMessage = 'Der Reset-Link ist ungÃ¼ltig oder abgelaufen. Bitte fordere einen neuen Link an.';
          } else {
            _errorMessage = error;
          }
```

**errorDerResetlinkIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:99:29`
- ğŸ“ Original: `'Der Reset-Link ist ungÃ¼ltig oder abgelaufen. Bitte fordere einen neuen Link an.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {
          final error = e.toString().replaceAll('Exception: ', '');
          if (error.contains('expired') || error.contains('invalid')) {
            _errorMessage = 'Der Reset-Link ist ungÃ¼ltig oder abgelaufen. Bitte fordere einen neuen Link an.';
          } else {
            _errorMessage = error;
          }
```

**errorWorldlisteLadenFehlgeschlagen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:59:26`
- ğŸ“ Original: `'World-Liste laden fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_applyFiltersAndSorting();
    } catch (e) {
      _error = 'Fehler beim Laden der Welten: $e';
      AppLogger.logError('World-Liste laden fehlgeschlagen', e);
    } finally {
      _setLoading(false);
    }
```

**errorWorldid_joinedworldsworldidFalse** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:87:87`
- ğŸ“ Original: `': world.id});
        _joinedWorlds[world.id] = false;
        _preRegisteredWorlds[world.id] = false;
      }
    }
  }

  void setStatusFilter(WorldStatus? status) {
    _statusFilter = status;
    _applyFiltersAndSorting();
  }

  void setCategoryFilter(WorldCategory? category) {
    _categoryFilter = category;
    _applyFiltersAndSorting();
  }

  void setSortBy(String sortBy) {
    _sortBy = sortBy;
    _applyFiltersAndSorting();
  }

  void toggleSortOrder() {
    _sortAscending = !_sortAscending;
    _applyFiltersAndSorting();
  }

  void resetFilters() {
    _statusFilter = null;
    _categoryFilter = null;
    _sortBy = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_preRegisteredWorlds[world.id] = isPreRegistered;
        notifyListeners();
      } catch (e) {
        AppLogger.logError('Player-Status Check fehlgeschlagen', e, context: {'worldId': world.id});
        _joinedWorlds[world.id] = false;
        _preRegisteredWorlds[world.id] = false;
      }
```

**errorNotifylistenersRethrowFuturevoid** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:190:42`
- ğŸ“ Original: `';
      notifyListeners();
      rethrow;
    }
  }

  Future<void> preRegisterWorld(World world) async {
    try {
      // TODO: Implement pre-registration API call
      await Future.delayed(const Duration(milliseconds: 500)); // Simulated API call
      
      _preRegisteredWorlds[world.id] = true;
      notifyListeners();
    } catch (e) {
      _error = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
notifyListeners();
    } catch (e) {
      _error = 'Fehler beim Beitreten: $e';
      notifyListeners();
      rethrow;
    }
```

**errorNotifylistenersRethrowFuturevoid** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:204:52`
- ğŸ“ Original: `';
      notifyListeners();
      rethrow;
    }
  }
  
  Future<void> cancelPreRegistration(World world) async {
    try {
      final success = await _worldService.cancelPreRegistrationAuthenticated(world.id);
      if (success) {
        _preRegisteredWorlds[world.id] = false;
        notifyListeners();
      } else {
        throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_preRegisteredWorlds[world.id] = true;
      notifyListeners();
    } catch (e) {
      _error = 'Fehler bei der Vorregistrierung: $e';
      notifyListeners();
      rethrow;
    }
```

**errorFehlerBeimZurÃ¼ckziehen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:220:16`
- ğŸ“ Original: `'Fehler beim ZurÃ¼ckziehen der Vorregistrierung: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Vorregistrierung konnte nicht zurÃ¼ckgezogen werden');
      }
    } catch (e) {
      _error = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung: $e';
      notifyListeners();
      rethrow;
    }
```

**errorFehlerBeimVerlassen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:239:16`
- ğŸ“ Original: `'Fehler beim Verlassen der Welt: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
notifyListeners();
    } catch (e) {
      _error = 'Fehler beim Verlassen der Welt: $e';
      notifyListeners();
      rethrow;
    }
```

**errorEinladungKonnteNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:249:18`
- ğŸ“ Original: `'Einladung konnte nicht erstellt werden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final success = await _inviteService.createInvite(world.id, email);
      if (!success) {
        _error = 'Einladung konnte nicht erstellt werden';
      }
      notifyListeners();
      return success;
```

**errorFehlerBeimErstellen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:254:16`
- ğŸ“ Original: `'Fehler beim Erstellen der Einladung: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
notifyListeners();
      return success;
    } catch (e) {
      _error = 'Fehler beim Erstellen der Einladung: $e';
      notifyListeners();
      rethrow;
    }
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:58:16`
- ğŸ“ Original: `'Fehler beim Laden der Welten: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _checkPlayerStatuses();
      _applyFiltersAndSorting();
    } catch (e) {
      _error = 'Fehler beim Laden der Welten: $e';
      AppLogger.logError('World-Liste laden fehlgeschlagen', e);
    } finally {
      _setLoading(false);
```

**errorWorldlisteLadenFehlgeschlagen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:59:26`
- ğŸ“ Original: `'World-Liste laden fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_applyFiltersAndSorting();
    } catch (e) {
      _error = 'Fehler beim Laden der Welten: $e';
      AppLogger.logError('World-Liste laden fehlgeschlagen', e);
    } finally {
      _setLoading(false);
    }
```

**errorFehlerBeimBeitreten** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:190:16`
- ğŸ“ Original: `'Fehler beim Beitreten: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
notifyListeners();
    } catch (e) {
      _error = 'Fehler beim Beitreten: $e';
      notifyListeners();
      rethrow;
    }
```

**errorFehlerBeiDer** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:204:16`
- ğŸ“ Original: `'Fehler bei der Vorregistrierung: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_preRegisteredWorlds[world.id] = true;
      notifyListeners();
    } catch (e) {
      _error = 'Fehler bei der Vorregistrierung: $e';
      notifyListeners();
      rethrow;
    }
```

**errorVorregistrierungKonnteNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:217:25`
- ğŸ“ Original: `'Vorregistrierung konnte nicht zurÃ¼ckgezogen werden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_preRegisteredWorlds[world.id] = false;
        notifyListeners();
      } else {
        throw Exception('Vorregistrierung konnte nicht zurÃ¼ckgezogen werden');
      }
    } catch (e) {
      _error = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung: $e';
```

**errorFehlerBeimZurÃ¼ckziehen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:220:16`
- ğŸ“ Original: `'Fehler beim ZurÃ¼ckziehen der Vorregistrierung: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Vorregistrierung konnte nicht zurÃ¼ckgezogen werden');
      }
    } catch (e) {
      _error = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung: $e';
      notifyListeners();
      rethrow;
    }
```

**errorFehlerBeimVerlassen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:239:16`
- ğŸ“ Original: `'Fehler beim Verlassen der Welt: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
notifyListeners();
    } catch (e) {
      _error = 'Fehler beim Verlassen der Welt: $e';
      notifyListeners();
      rethrow;
    }
```

**errorFehlerBeimErstellen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:254:16`
- ğŸ“ Original: `'Fehler beim Erstellen der Einladung: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
notifyListeners();
      return success;
    } catch (e) {
      _error = 'Fehler beim Erstellen der Einladung: $e';
      notifyListeners();
      rethrow;
    }
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:58:16`
- ğŸ“ Original: `'Fehler beim Laden der Welten: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _checkPlayerStatuses();
      _applyFiltersAndSorting();
    } catch (e) {
      _error = 'Fehler beim Laden der Welten: $e';
      AppLogger.logError('World-Liste laden fehlgeschlagen', e);
    } finally {
      _setLoading(false);
```

**errorFehlerBeimBeitreten** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:190:16`
- ğŸ“ Original: `'Fehler beim Beitreten: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
notifyListeners();
    } catch (e) {
      _error = 'Fehler beim Beitreten: $e';
      notifyListeners();
      rethrow;
    }
```

**errorFehlerBeimVerlassen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:239:16`
- ğŸ“ Original: `'Fehler beim Verlassen der Welt: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
notifyListeners();
    } catch (e) {
      _error = 'Fehler beim Verlassen der Welt: $e';
      notifyListeners();
      rethrow;
    }
```

**errorEinladungKonnteNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:249:18`
- ğŸ“ Original: `'Einladung konnte nicht erstellt werden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final success = await _inviteService.createInvite(world.id, email);
      if (!success) {
        _error = 'Einladung konnte nicht erstellt werden';
      }
      notifyListeners();
      return success;
```

**errorFehlerBeimErstellen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:254:16`
- ğŸ“ Original: `'Fehler beim Erstellen der Einladung: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
notifyListeners();
      return success;
    } catch (e) {
      _error = 'Fehler beim Erstellen der Einladung: $e';
      notifyListeners();
      rethrow;
    }
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:131:15`
- ğŸ“ Original: `'Fehler beim Laden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
            const SizedBox(height: 16),
            Text(
              'Fehler beim Laden',
              style: TextStyle(
                fontSize: 20,
                fontWeight: FontWeight.bold,
```

**errorIstKeinFehler** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:398:55`
- ğŸ“ Original: `" ist KEIN Fehler!
      if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Du bist bereits Mitglied dieser Welt "`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
      }
    } catch (e) {
      // SPEZIALBEHANDLUNG: "Invite bereits akzeptiert" ist KEIN Fehler!
      if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
```

**errorE_isauthenticatedFalse** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:130:71`
- ğŸ“ Original: `', e);
      _isAuthenticated = false;
    }
  }

  Future<void> _loadWorldData() async {
    // FIXED: Robustere Loading-State Verwaltung
    if (_isLoading) {
      return;
    }

    setState(() {
      _isLoading = true;
      _errorMessage = null;
    });

    try {
      // **KLARE FLOW-TRENNUNG**
      switch (widget.flowType) {
        case WorldJoinFlowType.normal:
          await _handleNormalFlow();
          break;
        case WorldJoinFlowType.invite:
          await _handleInviteFlow();
          break;
      }
      
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {});
      }
    } catch (e) {
      AppLogger.logError('Fehler beim PrÃ¼fen des Authentication-Status', e);
      _isAuthenticated = false;
    }
  }
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:160:25`
- ğŸ“ Original: `'Fehler beim Laden der Welt-Daten: ${e.toString()}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      AppLogger.app.w('ğŸ’¥ FEHLER in _loadWorldData: $e');
      setState(() {
        _errorMessage = 'Fehler beim Laden der Welt-Daten: ${e.toString()}';
        _isLoading = false;
      });
    }
```

**errorKeineWeltidGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:170:25`
- ğŸ“ Original: `'Keine Welt-ID gefunden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<void> _handleNormalFlow() async {
    if (widget.worldId == null) {
      setState(() {
        _errorMessage = 'Keine Welt-ID gefunden';
        _isLoading = false;
      });
      return;
```

**errorKeinEinladungstokenGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:192:25`
- ğŸ“ Original: `'Kein Einladungstoken gefunden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<void> _handleInviteFlow() async {
    if (widget.inviteToken == null) {
      setState(() {
        _errorMessage = 'Kein Einladungstoken gefunden';
        _isLoading = false;
      });
      return;
```

**errorUngÃ¼ltigerOderAbgelaufener** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:203:25`
- ğŸ“ Original: `'UngÃ¼ltiger oder abgelaufener Einladungslink'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (tokenData == null || tokenData['world'] == null) {
      setState(() {
        _errorMessage = 'UngÃ¼ltiger oder abgelaufener Einladungslink';
        _isLoading = false;
      });
      return;
```

**errorFehlerBeimParsen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:236:23`
- ğŸ“ Original: `'âš ï¸ Fehler beim Parsen der Invite-Zeitstempel: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
isAccepted = true;
      }
    } catch (e) {
      AppLogger.app.w('âš ï¸ Fehler beim Parsen der Invite-Zeitstempel: $e');
    }
    
    isInviteValid = !isExpired && !isAccepted;
```

**errorDuKannstNun** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:421:24`
- ğŸ“ Original: `'Du kannst nun der Welt beitreten.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logError('Automatische Invite-Akzeptierung fehlgeschlagen', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = 'Du kannst nun der Welt beitreten.';
      });
    }
  }
```

**errorDieseEinladungWurde** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:489:24`
- ğŸ“ Original: `'Diese Einladung wurde bereits akzeptiert.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {
        // Bessere Fehlermeldungen fÃ¼r verschiedene Szenarien
        if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
```

**errorNichtFÃ¼rDeine** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:491:42`
- ğŸ“ Original: `'nicht fÃ¼r deine E-Mail-Adresse'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
```

**errorDieseEinladungIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:492:24`
- ğŸ“ Original: `'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
```

**errorDieseEinladungIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:494:24`
- ğŸ“ Original: `'Diese Einladung ist abgelaufen.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
```

**errorEinFehlerIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:496:24`
- ğŸ“ Original: `'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
      });
    } finally {
```

**errorFinallySetstate_isjoining** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:496:98`
- ğŸ“ Original: `';
        }
      });
    } finally {
      setState(() {
        _isJoining = false;
      });
    }
  }
  
  Future<void> _preRegisterWorld() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.preRegisterWorldAuthenticated(world.id);
      
      if (success) {
        setState(() {
          _isPreRegistered = true;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
      });
    } finally {
```

**errorFinallyIfMounted** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:538:62`
- ğŸ“ Original: `');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _cancelPreRegistration() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.cancelPreRegistrationAuthenticated(world.id);
      if (success) {
        setState(() {
          _isPreRegistered = false;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
```

**errorFinallyIfMounted** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:580:62`
- ğŸ“ Original: `');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _leaveWorld() async {
    final world = _world;
    if (world == null) return;
    
    // BestÃ¤tigungsdialog anzeigen
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
```

**errorFinallyIfMounted** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:640:62`
- ğŸ“ Original: `');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isJoining = false;
        });
      }
    }
  }
  
  void _playWorld() {
    final world = _world;
    if (world == null) return;
    // Navigate directly to world dashboard for playing
    context.goNamed('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
```

**errorEmailFixedInvitetoken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:692:86`
- ğŸ“ Original: `': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('ğŸ« Navigation zur Registration mit Invite-E-Mail', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
```

**errorEmailFixedInvitetoken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:704:72`
- ğŸ“ Original: `': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation zu Login 
  void _navigateToLogin(String email) {
    AppLogger.app.i('ğŸ« Navigation zum Login fÃ¼r Invite', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
```

**error_inviteemailFixedInvitetoken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:717:81`
- ğŸ“ Original: `': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
        _authService.setPendingInviteRedirect(widget.inviteToken!);
      }
      
      await _authService.logout();
      
      if (mounted && _inviteEmail != null) {
        // Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('ğŸ« User logout fÃ¼r Invite-Umleitung', error: {'inviteEmail': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
```

**errorLogoutFÃ¼rInvite** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:734:26`
- ğŸ“ Original: `'Logout fÃ¼r Invite fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
      }
    } catch (e) {
      AppLogger.logError('Logout fÃ¼r Invite fehlgeschlagen', e);
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
```

**errorBackgroundcolorColorsredOverride** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:738:48`
- ğŸ“ Original: `'),
            backgroundColor: Colors.red,
          ),
        );
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    
    return Scaffold(
      body: BackgroundWidget(
        child: Stack(
          children: [
            // Main content
            SafeArea(
              child: _isLoading
                  ? const Center(
                      child: CircularProgressIndicator(
                        valueColor: AlwaysStoppedAnimation<Color>(AppTheme.primaryColor),
                      ),
                    )
                  : _errorMessage != null
                      ? _buildErrorState()
                      : _infoMessage != null
                          ? _buildInfoState()
                          : _world == null
                              ? _buildNotFoundState()
                              : _buildWorldContent(),
            ),
            
            // User info widget (only show when authenticated)
            if (_isAuthenticated)
              const UserInfoWidget(),
            
            // Navigation widget (only show when authenticated)
            if (_isAuthenticated)
              NavigationWidget(
                currentRoute: '`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('Fehler beim Abmelden'),
            backgroundColor: Colors.red,
          ),
        );
```

**errorStyleThemeofcontexttextthemebodylargecopywithColor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:836:61`
- ğŸ“ Original: `',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // Verschiedene Action-Buttons je nach Szenario
                      if (_showRegistrationButton && _inviteEmail != null) ...[
                        // Registration Button fÃ¼r neuen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: () => _navigateToRegistration(_inviteEmail!),
                            icon: const Icon(Icons.person_add),
                            label: const Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        _errorMessage ?? 'Unbekannter Fehler',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

**errorStyleTextstylecolorColorsred400** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1310:66`
- ğŸ“ Original: `',
                                style: TextStyle(color: Colors.red[400], fontSize: 14),
                              ),
                            ),
                          ],
                        ),
                      ),
                    ],
                  ],
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
  
  Widget _buildDescriptionTab() {
    return SingleChildScrollView(
      padding: const EdgeInsets.all(24),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          const Row(
            children: [
              Icon(Icons.info_outline, color: AppTheme.primaryColor, size: 24),
              SizedBox(width: 8),
              Text(
                '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(width: 8),
                            Expanded(
                              child: Text(
                                _joinError ?? 'Unbekannter Fehler',
                                style: TextStyle(color: Colors.red[400], fontSize: 14),
                              ),
                            ),
```

**errorIstKeinFehler** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:398:55`
- ğŸ“ Original: `" ist KEIN Fehler!
      if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Du bist bereits Mitglied dieser Welt "`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
      }
    } catch (e) {
      // SPEZIALBEHANDLUNG: "Invite bereits akzeptiert" ist KEIN Fehler!
      if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
```

**errorFehlerBeimPrÃ¼fen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:130:26`
- ğŸ“ Original: `'Fehler beim PrÃ¼fen des Authentication-Status'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {});
      }
    } catch (e) {
      AppLogger.logError('Fehler beim PrÃ¼fen des Authentication-Status', e);
      _isAuthenticated = false;
    }
  }
```

**errorFehlerIn_loadworlddata** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:158:23`
- ğŸ“ Original: `'ğŸ’¥ FEHLER in _loadWorldData: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      
    } catch (e) {
      AppLogger.app.w('ğŸ’¥ FEHLER in _loadWorldData: $e');
      setState(() {
        _errorMessage = 'Fehler beim Laden der Welt-Daten: ${e.toString()}';
        _isLoading = false;
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:160:25`
- ğŸ“ Original: `'Fehler beim Laden der Welt-Daten: ${e.toString()}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      AppLogger.app.w('ğŸ’¥ FEHLER in _loadWorldData: $e');
      setState(() {
        _errorMessage = 'Fehler beim Laden der Welt-Daten: ${e.toString()}';
        _isLoading = false;
      });
    }
```

**error_isloadingFalseReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:170:48`
- ğŸ“ Original: `';
        _isLoading = false;
      });
      return;
    }
    
    // World laden
    _world = await _worldService.getWorld(int.parse(widget.worldId!));
    
    // Status prÃ¼fen
    await _checkWorldStatus();
    
    // Fertig!
    setState(() {
      _isLoading = false;
    });
  }

  // **INVITE-FLOW: Komplex mit Auth-PrÃ¼fung**
  Future<void> _handleInviteFlow() async {
    if (widget.inviteToken == null) {
      setState(() {
        _errorMessage = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<void> _handleNormalFlow() async {
    if (widget.worldId == null) {
      setState(() {
        _errorMessage = 'Keine Welt-ID gefunden';
        _isLoading = false;
      });
      return;
```

**error_isloadingFalseReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:192:55`
- ğŸ“ Original: `';
        _isLoading = false;
      });
      return;
    }
    
    // Token validieren
    final tokenData = await _worldService.validateInviteToken(widget.inviteToken!);
    
    if (tokenData == null || tokenData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<void> _handleInviteFlow() async {
    if (widget.inviteToken == null) {
      setState(() {
        _errorMessage = 'Kein Einladungstoken gefunden';
        _isLoading = false;
      });
      return;
```

**error_isloadingFalseReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:203:69`
- ğŸ“ Original: `';
        _isLoading = false;
      });
      return;
    }
    
    // World aus Token-Daten laden
    _world = World.fromJson(tokenData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (tokenData == null || tokenData['world'] == null) {
      setState(() {
        _errorMessage = 'UngÃ¼ltiger oder abgelaufener Einladungslink';
        _isLoading = false;
      });
      return;
```

**errorFehlerBeimParsen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:236:23`
- ğŸ“ Original: `'âš ï¸ Fehler beim Parsen der Invite-Zeitstempel: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
isAccepted = true;
      }
    } catch (e) {
      AppLogger.app.w('âš ï¸ Fehler beim Parsen der Invite-Zeitstempel: $e');
    }
    
    isInviteValid = !isExpired && !isAccepted;
```

**errorFehlerBeimPrÃ¼fen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:370:26`
- ğŸ“ Original: `'Fehler beim PrÃ¼fen des World-Status'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'isPreRegistered': _isPreRegistered
      });
    } catch (e) {
      AppLogger.logError('Fehler beim PrÃ¼fen des World-Status', e);
    }
  }
```

**errorEFehlerNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:418:74`
- ğŸ“ Original: `', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
      
      // Andere Fehler normal behandeln
      AppLogger.logError('Automatische Invite-Akzeptierung fehlgeschlagen', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = 'Du kannst nun der Welt beitreten.';
```

**errorFuturevoid_joinworldAsync** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:421:58`
- ğŸ“ Original: `';
      });
    }
  }

  Future<void> _joinWorld() async {
    if (_world == null) return;

    setState(() {
      _isJoining = true;
      _joinError = null;
    });

    try {
      bool success = false;
      
      // **INVITE-TOKEN FLOW: Invite akzeptieren**
      if (widget.inviteToken != null) {
        AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logError('Automatische Invite-Akzeptierung fehlgeschlagen', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = 'Du kannst nun der Welt beitreten.';
      });
    }
  }
```

**errorEinFehlerIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:496:24`
- ğŸ“ Original: `'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
      });
    } finally {
```

**errorFehlerBeiDer** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:533:24`
- ğŸ“ Original: `'Fehler bei der Vorregistrierung'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
      } else {
        setState(() {
          _joinError = 'Fehler bei der Vorregistrierung';
        });
      }
    } catch (e) {
```

**errorFehlerBeimZurÃ¼ckziehen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:575:24`
- ğŸ“ Original: `'Fehler beim ZurÃ¼ckziehen der Vorregistrierung'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
      } else {
        setState(() {
          _joinError = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung';
        });
      }
    } catch (e) {
```

**errorEmailFixedInvitetoken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:692:86`
- ğŸ“ Original: `': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('ğŸ« Navigation zur Registration mit Invite-E-Mail', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
```

**errorEmailFixedInvitetoken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:704:72`
- ğŸ“ Original: `': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation zu Login 
  void _navigateToLogin(String email) {
    AppLogger.app.i('ğŸ« Navigation zum Login fÃ¼r Invite', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
```

**error_inviteemailFixedInvitetoken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:717:81`
- ğŸ“ Original: `': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
        _authService.setPendingInviteRedirect(widget.inviteToken!);
      }
      
      await _authService.logout();
      
      if (mounted && _inviteEmail != null) {
        // Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('ğŸ« User logout fÃ¼r Invite-Umleitung', error: {'inviteEmail': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
```

**errorFehlerBeimAbmelden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:738:27`
- ğŸ“ Original: `'Fehler beim Abmelden'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('Fehler beim Abmelden'),
            backgroundColor: Colors.red,
          ),
        );
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:828:25`
- ğŸ“ Original: `'Fehler beim Laden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 24),
                      Text(
                        'Fehler beim Laden',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
```

**errorUnbekannterFehler** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:836:42`
- ğŸ“ Original: `'Unbekannter Fehler'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        _errorMessage ?? 'Unbekannter Fehler',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

**errorIstKeinFehler** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:398:55`
- ğŸ“ Original: `" ist KEIN Fehler!
      if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Du bist bereits Mitglied dieser Welt "`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
      }
    } catch (e) {
      // SPEZIALBEHANDLUNG: "Invite bereits akzeptiert" ist KEIN Fehler!
      if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:160:25`
- ğŸ“ Original: `'Fehler beim Laden der Welt-Daten: ${e.toString()}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      AppLogger.app.w('ğŸ’¥ FEHLER in _loadWorldData: $e');
      setState(() {
        _errorMessage = 'Fehler beim Laden der Welt-Daten: ${e.toString()}';
        _isLoading = false;
      });
    }
```

**errorKeineWeltidGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:170:25`
- ğŸ“ Original: `'Keine Welt-ID gefunden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<void> _handleNormalFlow() async {
    if (widget.worldId == null) {
      setState(() {
        _errorMessage = 'Keine Welt-ID gefunden';
        _isLoading = false;
      });
      return;
```

**errorKeinEinladungstokenGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:192:25`
- ğŸ“ Original: `'Kein Einladungstoken gefunden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<void> _handleInviteFlow() async {
    if (widget.inviteToken == null) {
      setState(() {
        _errorMessage = 'Kein Einladungstoken gefunden';
        _isLoading = false;
      });
      return;
```

**errorUngÃ¼ltigerOderAbgelaufener** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:203:25`
- ğŸ“ Original: `'UngÃ¼ltiger oder abgelaufener Einladungslink'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (tokenData == null || tokenData['world'] == null) {
      setState(() {
        _errorMessage = 'UngÃ¼ltiger oder abgelaufener Einladungslink';
        _isLoading = false;
      });
      return;
```

**errorEFehlerNicht** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:418:74`
- ğŸ“ Original: `', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
      
      // Andere Fehler normal behandeln
      AppLogger.logError('Automatische Invite-Akzeptierung fehlgeschlagen', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = 'Du kannst nun der Welt beitreten.';
```

**errorDieseEinladungWurde** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:489:24`
- ğŸ“ Original: `'Diese Einladung wurde bereits akzeptiert.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {
        // Bessere Fehlermeldungen fÃ¼r verschiedene Szenarien
        if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
```

**errorDieseEinladungIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:492:24`
- ğŸ“ Original: `'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
```

**errorDieseEinladungIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:494:24`
- ğŸ“ Original: `'Diese Einladung ist abgelaufen.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
```

**errorErrorE_authservice** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:82:79`
- ğŸ“ Original: `', error: e);
      _authService = AuthService();
      _worldService = WorldService();
      _inviteService = InviteService();
    }
  }

  Future<void> _loadWorlds() async {
    setState(() {
      _isLoading = true;
      _error = null;
    });

    try {
      final worlds = await _worldService.getWorlds();
      if (mounted) {
        setState(() {
          _worlds = worlds;
          _isLoading = false;
        });
        
        // Simuliere Spieleranzahl fÃ¼r Demo-Zwecke
        _generateMockPlayerCounts();
        
        // Check player status for each world (silently handle 404s)
        _checkPlayerStatuses();
        _checkPreRegistrationStatuses();
        
        // Initial filter anwenden
        _applyFiltersAndSorting();
      }
    } catch (e) {
      if (mounted) {
        // Only show error for non-401/404 errors
        if (!e.toString().contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_inviteService = InviteService();
      }
    } catch (e) {
      AppLogger.app.w('âš ï¸ ServiceLocator Fehler - nutze direkte Instanziierung', error: e);
      _authService = AuthService();
      _worldService = WorldService();
      _inviteService = InviteService();
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:124:29`
- ğŸ“ Original: `'Fehler beim Laden der Welten: ${e.toString()}'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Fehler beim Laden der Welten: ${e.toString()}'),
              backgroundColor: AppTheme.errorColor,
            ),
          );
```

**errorWorldidFuturevoid_checkpreregistrationstatuses** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:266:89`
- ğŸ“ Original: `': world.id});
        }
      }
    }
  }

  Future<void> _checkPreRegistrationStatuses() async {
    for (final world in _worlds) {
      // Only check for worlds that support pre-registration
      if (world.canPreRegister) {
        try {
          final isPreRegistered = await _worldService.isPreRegisteredForWorld(world.id);
          if (mounted) {
            setState(() {
              _preRegisteredWorlds[world.id] = isPreRegistered;
            });
          }
        } catch (e) {
          // 404 means user is not pre-registered, which is normal
          if (e.toString().contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        } else {
          // Only log other errors
          AppLogger.logError('Player-Status Check fehlgeschlagen', e, context: {'worldId': world.id});
        }
      }
    }
```

**errorScaffoldmessengerofcontextshowsnackbarSnackbarContent** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:328:72`
- ğŸ“ Original: `');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
              backgroundColor: AppTheme.errorColor,
            ),
          );
        }
      }
    }
  }

  Future<void> _preRegisterWorld(World world) async {
    try {
      final success = await _worldService.preRegisterWorldAuthenticated(world.id);
      if (success && mounted) {
        setState(() {
          _preRegisteredWorlds[world.id] = true;
        });
        
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
```

**errorScaffoldmessengerofcontextshowsnackbarSnackbarContent** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:366:72`
- ğŸ“ Original: `');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
              backgroundColor: AppTheme.errorColor,
            ),
          );
        }
      }
    }
  }

  Future<void> _leaveWorld(World world) async {
    // Zeige BestÃ¤tigungsdialog
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
```

**errorScaffoldmessengerofcontextshowsnackbarSnackbarContent** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:433:72`
- ğŸ“ Original: `');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
              backgroundColor: AppTheme.errorColor,
            ),
          );
        }
      }
    }
  }

  Future<void> _cancelPreRegistration(World world) async {
    try {
      final success = await _worldService.cancelPreRegistrationAuthenticated(world.id);
      
      if (success && mounted) {
        setState(() {
          _preRegisteredWorlds[world.id] = false;
        });
        
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
```

**errorScaffoldmessengerofcontextshowsnackbarSnackbarContent** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:472:72`
- ğŸ“ Original: `');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
              backgroundColor: AppTheme.errorColor,
            ),
          );
        }
      }
    }
  }

  Future<void> _createInvite(World world) async {
    final result = await showDialog<String>(
      context: context,
      builder: (context) => InviteDialog(worldName: world.name),
    );

    if (result != null && result.isNotEmpty) {
      try {
        final success = await _inviteService.createInvite(world.id, result);
        if (success && mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            const SnackBar(
              content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
```

**errorScaffoldmessengerofcontextshowsnackbarSnackbarContent** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:512:74`
- ğŸ“ Original: `');
            ScaffoldMessenger.of(context).showSnackBar(
              SnackBar(
                content: Text(errorMessage),
                backgroundColor: AppTheme.errorColor,
              ),
            );
          }
        }
      }
    }
  }

  // Deep-Link zur World-Join-Page
  void _navigateToWorldJoin(World world) {
    context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context.goNamed('login');
            }
          } else {
            final errorMessage = e.toString().replaceAll('Exception: ', '');
            ScaffoldMessenger.of(context).showSnackBar(
              SnackBar(
                content: Text(errorMessage),
```

**errorStyleTextstyleColor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:695:70`
- ğŸ“ Original: `',
                                        style: TextStyle(
                                          color: (Colors.red[200] ?? Colors.red).withOpacity(0.8),
                                        ),
                                        textAlign: TextAlign.center,
                                      ),
                                    ],
                                  ),
                                )
                              else if (_filteredWorlds.isEmpty)
                                Container(
                                  padding: const EdgeInsets.all(16),
                                  decoration: BoxDecoration(
                                    color: const Color(0xFF2D2D2D),
                                    borderRadius: BorderRadius.circular(12),
                                    border: Border.all(
                                      color: AppTheme.primaryColor.withOpacity(0.3),
                                    ),
                                  ),
                                  child: Column(
                                    children: [
                                      Icon(
                                        Icons.filter_list,
                                        size: 48,
                                        color: AppTheme.primaryColor.withOpacity(0.7),
                                      ),
                                      const SizedBox(height: 16),
                                      Text(
                                        '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      const SizedBox(height: 8),
                                      Text(
                                        _error ?? 'Unbekannter Fehler',
                                        style: TextStyle(
                                          color: (Colors.red[200] ?? Colors.red).withOpacity(0.8),
                                        ),
```

**errorTokenFehlt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:116:102`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // Only show error for non-401/404 errors
        if (!e.toString().contains('401') && !e.toString().contains('404') && !e.toString().contains('Token fehlt')) {
          setState(() {
            _error = e.toString();
            _isLoading = false;
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:124:29`
- ğŸ“ Original: `'Fehler beim Laden der Welten: ${e.toString()}'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Fehler beim Laden der Welten: ${e.toString()}'),
              backgroundColor: AppTheme.errorColor,
            ),
          );
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:687:41`
- ğŸ“ Original: `'Fehler beim Laden der Welten'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      const SizedBox(height: 16),
                                      Text(
                                        'Fehler beim Laden der Welten',
                                        style: TextStyle(
                                          color: Colors.red[200],
                                          fontWeight: FontWeight.bold,
```

**errorUnbekannterFehler** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:695:51`
- ğŸ“ Original: `'Unbekannter Fehler'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      const SizedBox(height: 8),
                                      Text(
                                        _error ?? 'Unbekannter Fehler',
                                        style: TextStyle(
                                          color: (Colors.red[200] ?? Colors.red).withOpacity(0.8),
                                        ),
```

**errorErrorE_authservice** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:82:79`
- ğŸ“ Original: `', error: e);
      _authService = AuthService();
      _worldService = WorldService();
      _inviteService = InviteService();
    }
  }

  Future<void> _loadWorlds() async {
    setState(() {
      _isLoading = true;
      _error = null;
    });

    try {
      final worlds = await _worldService.getWorlds();
      if (mounted) {
        setState(() {
          _worlds = worlds;
          _isLoading = false;
        });
        
        // Simuliere Spieleranzahl fÃ¼r Demo-Zwecke
        _generateMockPlayerCounts();
        
        // Check player status for each world (silently handle 404s)
        _checkPlayerStatuses();
        _checkPreRegistrationStatuses();
        
        // Initial filter anwenden
        _applyFiltersAndSorting();
      }
    } catch (e) {
      if (mounted) {
        // Only show error for non-401/404 errors
        if (!e.toString().contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_inviteService = InviteService();
      }
    } catch (e) {
      AppLogger.app.w('âš ï¸ ServiceLocator Fehler - nutze direkte Instanziierung', error: e);
      _authService = AuthService();
      _worldService = WorldService();
      _inviteService = InviteService();
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:124:29`
- ğŸ“ Original: `'Fehler beim Laden der Welten: ${e.toString()}'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Fehler beim Laden der Welten: ${e.toString()}'),
              backgroundColor: AppTheme.errorColor,
            ),
          );
```

**errorFehlerBeimLaden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:687:41`
- ğŸ“ Original: `'Fehler beim Laden der Welten'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      const SizedBox(height: 16),
                                      Text(
                                        'Fehler beim Laden der Welten',
                                        style: TextStyle(
                                          color: Colors.red[200],
                                          fontWeight: FontWeight.bold,
```

**errorBackgroundcolorAppthemeerrorcolorFinally** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:52:51`
- ğŸ“ Original: `'),
            backgroundColor: AppTheme.errorColor,
          ),
        );
      }
    } finally {
      if (mounted) {
        setState(() {
          _isLoading = false;
        });
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    return AlertDialog(
      backgroundColor: const Color(0xFF1A1A1A), // Dunkler Hintergrund
      shape: RoundedRectangleBorder(
        borderRadius: BorderRadius.circular(20),
        side: BorderSide(
          color: AppTheme.primaryColor.withOpacity(0.3),
          width: 1,
        ),
      ),
      title: Text(
        '`
- ğŸ¯ Widget: Widget: SnackBar
- ğŸ”§ Context:
```dart
if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Fehler: ${e.toString()}'),
            backgroundColor: AppTheme.errorColor,
          ),
        );
```

**errorFehlerEtostring** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:52:27`
- ğŸ“ Original: `'Fehler: ${e.toString()}'`
- ğŸ¯ Widget: Widget: SnackBar
- ğŸ”§ Context:
```dart
if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Fehler: ${e.toString()}'),
            backgroundColor: AppTheme.errorColor,
          ),
        );
```

### ğŸ·ï¸ INVITE

**inviteTokensSpeichernUnd** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:186:36`
- ğŸ“ Original: `'];

        // Tokens speichern und API-Service aktualisieren
        await _saveTokensAndUpdateService(accessToken, refreshToken);
        await TokenStorage.saveUserData(jsonEncode(userData));

        // User-Objekt erstellen
        _currentUser = User.fromJson(userData);
        isAuthenticated.value = true; // Reaktiven Status setzen
        
        // Fetch complete user data with roles
        await fetchCurrentUser();
        
        AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final data = jsonDecode(response.body);
        final accessToken = data['accessToken'];
        final refreshToken = data['refreshToken'];
        final userData = data['user'];

        // Tokens speichern und API-Service aktualisieren
        await _saveTokensAndUpdateService(accessToken, refreshToken);
```

**inviteIfAccesstokenNull** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:245:48`
- ğŸ“ Original: `'];
        
        if (accessToken != null && refreshToken != null) {
          // Tokens speichern und API-Service aktualisieren
          await _saveTokensAndUpdateService(accessToken, refreshToken);
        }
        
        final userData = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Token aus der Response extrahieren
        final accessToken = data['accessToken'];
        final refreshToken = data['refreshToken'];
        
        if (accessToken != null && refreshToken != null) {
          // Tokens speichern und API-Service aktualisieren
```

**inviteLogRegistrationDebug** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:252:36`
- ğŸ“ Original: `'];
        
        // Log Registration Debug Info
        if (userData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _saveTokensAndUpdateService(accessToken, refreshToken);
        }
        
        final userData = data['user'];
        
        // Log Registration Debug Info
        if (userData['_debug'] != null) {
```

**inviteFinalCurrentrefreshtokenAwait** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:387:51`
- ğŸ“ Original: `'];
        final currentRefreshToken = await TokenStorage.getRefreshToken();
        final finalRefreshToken = newRefreshToken ?? currentRefreshToken;
        
        // Tokens speichern und API-Service aktualisieren
        await _saveTokensAndUpdateService(newAccessToken, finalRefreshToken);
        return true;
      } else {
        await logout();
        return false;
      }
    } catch (e) {
      await logout();
      return false;
    } finally {
      _refreshing = false;
    }
  }

  // Optionaler Force-Refresh fÃ¼r manuelle Token-Erneuerung
  Future<bool> forceRefreshToken() async {
    final tokenValid = await refreshTokenIfNeeded();
    if (!tokenValid) {
      await logout();
    }
    return tokenValid;
  }

  // Fetch current user data with roles from server
  Future<User?> fetchCurrentUser() async {
    try {
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final newAccessToken = data['accessToken'];
        
        // Refresh-Token-Rotation: Neuen Refresh-Token verwenden falls vorhanden
        final newRefreshToken = data['refreshToken'];
        final currentRefreshToken = await TokenStorage.getRefreshToken();
        final finalRefreshToken = newRefreshToken ?? currentRefreshToken;
```

**inviteFinalRefreshtokenData** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:184:46`
- ğŸ“ Original: `'];
        final refreshToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
        final accessToken = data['accessToken'];
        final refreshToken = data['refreshToken'];
        final userData = data['user'];
```

**inviteTokensSpeichernUnd** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:186:36`
- ğŸ“ Original: `'];

        // Tokens speichern und API-Service aktualisieren
        await _saveTokensAndUpdateService(accessToken, refreshToken);
        await TokenStorage.saveUserData(jsonEncode(userData));

        // User-Objekt erstellen
        _currentUser = User.fromJson(userData);
        isAuthenticated.value = true; // Reaktiven Status setzen
        
        // Fetch complete user data with roles
        await fetchCurrentUser();
        
        AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final data = jsonDecode(response.body);
        final accessToken = data['accessToken'];
        final refreshToken = data['refreshToken'];
        final userData = data['user'];

        // Tokens speichern und API-Service aktualisieren
        await _saveTokensAndUpdateService(accessToken, refreshToken);
```

**inviteFinalRefreshtokenData** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:244:46`
- ğŸ“ Original: `'];
        final refreshToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final data = jsonDecode(response.body);
        
        // Token aus der Response extrahieren
        final accessToken = data['accessToken'];
        final refreshToken = data['refreshToken'];
        
        if (accessToken != null && refreshToken != null) {
```

**inviteIfAccesstokenNull** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:245:48`
- ğŸ“ Original: `'];
        
        if (accessToken != null && refreshToken != null) {
          // Tokens speichern und API-Service aktualisieren
          await _saveTokensAndUpdateService(accessToken, refreshToken);
        }
        
        final userData = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Token aus der Response extrahieren
        final accessToken = data['accessToken'];
        final refreshToken = data['refreshToken'];
        
        if (accessToken != null && refreshToken != null) {
          // Tokens speichern und API-Service aktualisieren
```

**inviteRefreshtokenrotationNeuenRefreshtoken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:384:49`
- ğŸ“ Original: `'];
        
        // Refresh-Token-Rotation: Neuen Refresh-Token verwenden falls vorhanden
        final newRefreshToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
        final newAccessToken = data['accessToken'];
        
        // Refresh-Token-Rotation: Neuen Refresh-Token verwenden falls vorhanden
        final newRefreshToken = data['refreshToken'];
```

**inviteFinalCurrentrefreshtokenAwait** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:387:51`
- ğŸ“ Original: `'];
        final currentRefreshToken = await TokenStorage.getRefreshToken();
        final finalRefreshToken = newRefreshToken ?? currentRefreshToken;
        
        // Tokens speichern und API-Service aktualisieren
        await _saveTokensAndUpdateService(newAccessToken, finalRefreshToken);
        return true;
      } else {
        await logout();
        return false;
      }
    } catch (e) {
      await logout();
      return false;
    } finally {
      _refreshing = false;
    }
  }

  // Optionaler Force-Refresh fÃ¼r manuelle Token-Erneuerung
  Future<bool> forceRefreshToken() async {
    final tokenValid = await refreshTokenIfNeeded();
    if (!tokenValid) {
      await logout();
    }
    return tokenValid;
  }

  // Fetch current user data with roles from server
  Future<User?> fetchCurrentUser() async {
    try {
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final newAccessToken = data['accessToken'];
        
        // Refresh-Token-Rotation: Neuen Refresh-Token verwenden falls vorhanden
        final newRefreshToken = data['refreshToken'];
        final currentRefreshToken = await TokenStorage.getRefreshToken();
        final finalRefreshToken = newRefreshToken ?? currentRefreshToken;
```

**invite_refreshingFinalAccessexp** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:527:24`
- ğŸ“ Original: `': _refreshing,
        };
      }

      final accessExp = _getTokenExpiration(accessToken);
      final refreshExp = _getTokenExpiration(refreshToken);
      final now = DateTime.now();

      return {
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'refreshTokenValid': false,
          'accessTokenExpiresIn': null,
          'refreshTokenExpiresIn': null,
          'isRefreshing': _refreshing,
        };
      }
```

**inviteInvitemodelFÃ¼rBessere** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:4:25`
- ğŸ“ Original: `';

// Invite-Model fÃ¼r bessere Typisierung
class Invite {
  final int id;
  final String email;
  final String status;
  final DateTime? createdAt;
  final DateTime? expiresAt;

  Invite({
    required this.id,
    required this.email,
    required this.status,
    this.createdAt,
    this.expiresAt,
  });

  factory Invite.fromJson(Map<String, dynamic> json) {
    return Invite(
      id: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'dart:io';
import 'package:http/http.dart' as http;
import 'api_service.dart';

// Invite-Model fÃ¼r bessere Typisierung
class Invite {
```

**inviteRegistrierungErfolgreichDu** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:128:31`
- ğŸ“ Original: `'Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**inviteRegistrierungErfolgreichDu** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:150:31`
- ğŸ“ Original: `'Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**inviteRegistrierungErfolgreichDu** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:128:31`
- ğŸ“ Original: `'Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**inviteRegistrierungErfolgreichDu** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:150:31`
- ğŸ“ Original: `'Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**inviteRegistrierungErfolgreichDu** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:128:31`
- ğŸ“ Original: `'Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**inviteRegistrierungErfolgreichDu** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:150:31`
- ğŸ“ Original: `'Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**inviteNnDieseEinladung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:273:24`
- ğŸ“ Original: `'\n\nâœ… Diese Einladung wurde bereits akzeptiert.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
final dateStr = '${expiresAtLocal.day.toString().padLeft(2, '0')}.${expiresAtLocal.month.toString().padLeft(2, '0')}.${expiresAtLocal.year} ${expiresAtLocal.hour.toString().padLeft(2, '0')}:${expiresAtLocal.minute.toString().padLeft(2, '0')}';
      
      if (isAccepted) {
        validityText = '\n\nâœ… Diese Einladung wurde bereits akzeptiert.';
      } else if (isExpired) {
        validityText = '\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.';
      } else {
```

**inviteNnDieseEinladung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:275:24`
- ğŸ“ Original: `'\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (isAccepted) {
        validityText = '\n\nâœ… Diese Einladung wurde bereits akzeptiert.';
      } else if (isExpired) {
        validityText = '\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.';
      } else {
        validityText = '\n\nâ° GÃ¼ltig bis: $dateStr';
      }
```

**inviteFinalBaseinfotext** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:277:51`
- ğŸ“ Original: `';
      }
    }
    
    final baseInfoText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
} else if (isExpired) {
        validityText = '\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.';
      } else {
        validityText = '\n\nâ° GÃ¼ltig bis: $dateStr';
      }
    }
```

**inviteBaseinfotextnnactiontext** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:327:20`
- ğŸ“ Original: `'$baseInfoText\n\n$actionText'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
default:
        AppLogger.app.w('âŒ Unbekannter User-Status: $status');
        actionText = 'Unbekannter Status: $status';
        infoText = '$baseInfoText\n\n$actionText';
    }
    
    // Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
```

**inviteNnDieseEinladung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:332:19`
- ğŸ“ Original: `'\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.';
    }
    
    setState(() {
```

**inviteStyleTextstylefontsize16** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1683:40`
- ğŸ“ Original: `',
                    style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                  ),
          ),
        ),
      );
    }

    // **LOGOUT BUTTON (wenn User mit falscher E-Mail angemeldet)**
    if (_showLogoutButton) {
      buttons.add(
        Container(
          width: double.infinity,
          margin: const EdgeInsets.only(bottom: 12.0),
          child: ElevatedButton(
            onPressed: () async {
              await _authService.logout();
              // Nach Logout zur Landing-Page
              if (mounted) {
                context.go('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  )
                : const Text(
                    'Einladung annehmen',
                    style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                  ),
          ),
```

**inviteSetstate_infomessageInfotext** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:332:76`
- ğŸ“ Original: `';
    }
    
    setState(() {
      _infoMessage = infoText;
      _inviteEmail = inviteEmail;
      
      // Button-Flags setzen
      _showLoginButton = showLoginButton;
      _showRegistrationButton = showRegisterButton; 
      _showLogoutButton = showLogoutButton;
      _showAcceptInviteButton = showAcceptButton;
      
      // WICHTIG: Alte Fehlermeldung zurÃ¼cksetzen!
      _errorMessage = null;
      
      _isLoading = false;
    });
  }

  // Neue Methode: World-Status fÃ¼r normale Navigation prÃ¼fen
  Future<void> _checkWorldStatus() async {
    if (_world == null) return;
    
    try {
      // PrÃ¼fe ob User bereits Mitglied ist
      _isJoined = await _worldService.isPlayerInWorld(_world!.id);
      
      // PrÃ¼fe Vorregistrierung
      final preRegStatus = await _worldService.getPreRegistrationStatus(_world!.id);
      _isPreRegistered = preRegStatus.isPreRegistered;
      
      AppLogger.app.d('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.';
    }
    
    setState(() {
```

**inviteNnDieseEinladung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:273:24`
- ğŸ“ Original: `'\n\nâœ… Diese Einladung wurde bereits akzeptiert.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
final dateStr = '${expiresAtLocal.day.toString().padLeft(2, '0')}.${expiresAtLocal.month.toString().padLeft(2, '0')}.${expiresAtLocal.year} ${expiresAtLocal.hour.toString().padLeft(2, '0')}:${expiresAtLocal.minute.toString().padLeft(2, '0')}';
      
      if (isAccepted) {
        validityText = '\n\nâœ… Diese Einladung wurde bereits akzeptiert.';
      } else if (isExpired) {
        validityText = '\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.';
      } else {
```

**inviteNnDieseEinladung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:275:24`
- ğŸ“ Original: `'\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (isAccepted) {
        validityText = '\n\nâœ… Diese Einladung wurde bereits akzeptiert.';
      } else if (isExpired) {
        validityText = '\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.';
      } else {
        validityText = '\n\nâ° GÃ¼ltig bis: $dateStr';
      }
```

**inviteNnDieseEinladung** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:332:19`
- ğŸ“ Original: `'\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.';
    }
    
    setState(() {
```

**inviteEinladungAnnehmen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1683:21`
- ğŸ“ Original: `'Einladung annehmen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  )
                : const Text(
                    'Einladung annehmen',
                    style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                  ),
          ),
```

**inviteBackgroundcolorColorsgreenCatch** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:496:62`
- ğŸ“ Original: `'),
              backgroundColor: Colors.green,
            ),
          );
        }
      } catch (e) {
        if (mounted) {
          // PrÃ¼fe ob es ein Token-Problem ist
          if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (success && mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            const SnackBar(
              content: Text('Einladung erfolgreich versendet!'),
              backgroundColor: Colors.green,
            ),
          );
```

**inviteEinladungErfolgreichVersendet** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:496:29`
- ğŸ“ Original: `'Einladung erfolgreich versendet!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (success && mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            const SnackBar(
              content: Text('Einladung erfolgreich versendet!'),
              backgroundColor: Colors.green,
            ),
          );
```

**inviteEinladungErfolgreichVersendet** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:496:29`
- ğŸ“ Original: `'Einladung erfolgreich versendet!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (success && mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            const SnackBar(
              content: Text('Einladung erfolgreich versendet!'),
              backgroundColor: Colors.green,
            ),
          );
```

**inviteEinladungSenden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:149:28`
- ğŸ“ Original: `'Einladung senden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                  ),
                )
              : const Text('Einladung senden'),
          ),
        ),
      ],
```

### ğŸ·ï¸ NAVIGATION

**navigationFlowtypeenumFÃ¼rKlare** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:15:24`
- ğŸ“ Original: `';

// Flow-Type-Enum fÃ¼r klare Trennung der beiden User-Journeys
enum WorldJoinFlowType {
  normal,   // Normale Navigation: User kommt von World-List
  invite,   // Invite-Flow: User kommt Ã¼ber externen Link
}

class WorldJoinPage extends StatefulWidget {
  final String? worldId;
  final String? inviteToken;
  final WorldJoinFlowType flowType;
  
  const WorldJoinPage({
    super.key, 
    this.worldId, 
    this.inviteToken,
    required this.flowType,
  });

  @override
  State<WorldJoinPage> createState() => _WorldJoinPageState();
}

class _WorldJoinPageState extends State<WorldJoinPage> with SingleTickerProviderStateMixin {
  // DI-ready: ServiceLocator verwenden
  late final WorldService _worldService;
  late final AuthService _authService;
  
  // Tab Controller
  late TabController _tabController;
  
  bool _isLoading = false;
  bool _isJoining = false;
  bool _isPreRegistering = false;
  bool _isAuthenticated = false;
  bool _isJoined = false;
  bool _isPreRegistered = false;
  World? _world;
  String? _errorMessage;
  String? _infoMessage;
  String? _joinError;
  bool _showRegistrationButton = false;
  bool _showLogoutButton = false;
  String? _inviteEmail;
  bool _showLoginButton = false;
  bool _showAcceptInviteButton = false;
  bool isInviteValid = true; // Neue Variable fÃ¼r GÃ¼ltigkeit der Einladung

  @override
  void initState() {
    super.initState();
    
    _tabController = TabController(length: 1, vsync: this);
    _initializeServices();
    _loadWorldData();
  }
  
  @override
  void dispose() {
    _tabController.dispose();
    super.dispose();
  }

  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    // Authentication-Status bei Kontext-Ã„nderungen prÃ¼fen
    _checkAuthenticationStatus();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<WorldService>()) {
        _worldService = ServiceLocator.get<WorldService>();
      } else {
        _worldService = WorldService();
      }
      
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
      // Authentication-Status prÃ¼fen
      _checkAuthenticationStatus();
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../shared/widgets/navigation_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

// Flow-Type-Enum fÃ¼r klare Trennung der beiden User-Journeys
enum WorldJoinFlowType {
```

### ğŸ·ï¸ WORLD

**worldIfResponsestatuscode200** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\invite_service.dart:191:71`
- ğŸ“ Original: `');
      
      if (response.statusCode == 200) {
        final List<dynamic> invitesJson = jsonDecode(response.body);
        return invitesJson.map((json) => Invite.fromJson(json as Map<String, dynamic>)).toList();
      } else {
        throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<List<Invite>> getInvites(int worldId) async {
    try {
      final response = await _apiService.get('/worlds/$worldId/invites');
      
      if (response.statusCode == 200) {
        final List<dynamic> invitesJson = jsonDecode(response.body);
```

**worldIfResponsestatuscode200** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:137:54`
- ğŸ“ Original: `');
      
      if (response.statusCode == 200) {
        final List<dynamic> worldsJson = jsonDecode(response.body);
        return worldsJson.map((json) => World.fromJson(json)).toList();
      } else {
        throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<List<World>> getWorlds() async {
    try {
      final response = await _apiService.get('/worlds');
      
      if (response.statusCode == 200) {
        final List<dynamic> worldsJson = jsonDecode(response.body);
```

**worldFehlerbehandlungFÃ¼rSpezifische** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:411:36`
- ğŸ“ Original: `'];
        }
      }
      
      // Fehlerbehandlung fÃ¼r spezifische HTTP-Status-Codes
      if (response.statusCode == 409) {
        AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'worldId': responseData['data']['world']?['id'],
            'worldName': responseData['data']['world']?['name']
          });
          return responseData['data'];
        }
      }
```

**worldFehlerbehandlungFÃ¼rSpezifische** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\world_service.dart:411:36`
- ğŸ“ Original: `'];
        }
      }
      
      // Fehlerbehandlung fÃ¼r spezifische HTTP-Status-Codes
      if (response.statusCode == 409) {
        AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'worldId': responseData['data']['world']?['id'],
            'worldName': responseData['data']['world']?['name']
          });
          return responseData['data'];
        }
      }
```

**worldMeldeDichAn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:234:37`
- ğŸ“ Original: `'Melde dich an, um deine Welten zu verwalten'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                  const SizedBox(height: 8),
                                  Text(
                                    'Melde dich an, um deine Welten zu verwalten',
                                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                      color: Colors.grey[300],
                                      fontSize: 16,
```

**worldWillkommenBeiWeltenwind** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:225:37`
- ğŸ“ Original: `'Willkommen bei Weltenwind'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                  const SizedBox(height: 20),
                                  Text(
                                    'Willkommen bei Weltenwind',
                                    style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                      color: Colors.white,
                                      fontWeight: FontWeight.bold,
```

**worldMeldeDichAn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:234:37`
- ğŸ“ Original: `'Melde dich an, um deine Welten zu verwalten'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                  const SizedBox(height: 8),
                                  Text(
                                    'Melde dich an, um deine Welten zu verwalten',
                                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                      color: Colors.grey[300],
                                      fontSize: 16,
```

**world_invitetokenElseStandardredirect** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:160:77`
- ğŸ“ Original: `': _inviteToken!});
            }
          } else {
            // Standard-Redirect zu Welten-Liste
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
await Future.delayed(const Duration(milliseconds: 500));
            
            if (mounted) {
              context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
            }
          } else {
            // Standard-Redirect zu Welten-Liste
```

**worldBackgroundcolorColorsgreenDuration** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:166:85`
- ğŸ“ Original: `'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
            );
            
            context.goNamed('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
// Standard-Redirect zu Welten-Liste
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Willkommen bei Weltenwind!'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**worldErstelleDeinKonto** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:262:31`
- ğŸ“ Original: `'Erstelle dein Konto fÃ¼r Weltenwind'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                            const SizedBox(height: 8),
                            Text(
                              'Erstelle dein Konto fÃ¼r Weltenwind',
                              style: Theme.of(context).textTheme.bodyMedium?.copyWith(
                                color: Colors.grey[300],
                                fontSize: 16,
```

**worldWorldjoinbytoken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:160:31`
- ğŸ“ Original: `'world-join-by-token'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
await Future.delayed(const Duration(milliseconds: 500));
            
            if (mounted) {
              context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
            }
          } else {
            // Standard-Redirect zu Welten-Liste
```

**worldRegistrierungErfolgreichWillkommen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:166:31`
- ğŸ“ Original: `'Registrierung erfolgreich! Willkommen bei Weltenwind!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
// Standard-Redirect zu Welten-Liste
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Willkommen bei Weltenwind!'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**world_invitetokenElseStandardredirect** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:160:77`
- ğŸ“ Original: `': _inviteToken!});
            }
          } else {
            // Standard-Redirect zu Welten-Liste
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
await Future.delayed(const Duration(milliseconds: 500));
            
            if (mounted) {
              context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
            }
          } else {
            // Standard-Redirect zu Welten-Liste
```

**worldErstelleDeinKonto** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:262:31`
- ğŸ“ Original: `'Erstelle dein Konto fÃ¼r Weltenwind'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                            const SizedBox(height: 8),
                            Text(
                              'Erstelle dein Konto fÃ¼r Weltenwind',
                              style: Theme.of(context).textTheme.bodyMedium?.copyWith(
                                color: Colors.grey[300],
                                fontSize: 16,
```

**worldPackageflutterfoundationdart** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:2:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import '../../../config/logger.dart';
import '../../../core/models/world.dart';
import '../../../core/services/world_service.dart';
```

**worldBool_sortascendingTrue** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:26:30`
- ğŸ“ Original: `';
  bool _sortAscending = true;

  // Getters
  List<World> get worlds => _worlds;
  List<World> get filteredWorlds => _filteredWorlds;
  Map<int, int> get playerCounts => _playerCounts;
  Map<int, bool> get preRegisteredWorlds => _preRegisteredWorlds;
  Map<int, bool> get joinedWorlds => _joinedWorlds;
  bool get isLoading => _isLoading;
  String? get error => _error;
  WorldStatus? get statusFilter => _statusFilter;
  WorldCategory? get categoryFilter => _categoryFilter;
  String get sortBy => _sortBy;
  bool get sortAscending => _sortAscending;

  WorldListController({
    required WorldService worldService,
    required InviteService inviteService,
  })  : _worldService = worldService,
        _inviteService = inviteService;

  Future<void> loadWorlds() async {
    _setLoading(true);
    _error = null;

    try {
      _worlds = await _worldService.getWorlds();
      await _loadPlayerCounts();
      await _checkPlayerStatuses();
      _applyFiltersAndSorting();
    } catch (e) {
      _error = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Filters & Sorting
  WorldStatus? _statusFilter;
  WorldCategory? _categoryFilter;
  String _sortBy = 'startDate';
  bool _sortAscending = true;

  // Getters
```

**worldReturnWorldcategoryexperimentalReturn** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:173:55`
- ğŸ“ Original: `')) {
      return WorldCategory.experimental;
    }
    return WorldCategory.classic;
  }

  Future<void> joinWorld(World world) async {
    try {
      await _worldService.joinWorld(world.id);
      _joinedWorlds[world.id] = true;
      
      // Update player count
      final currentCount = _playerCounts[world.id] ?? 0;
      _playerCounts[world.id] = currentCount + 1;
      
      notifyListeners();
    } catch (e) {
      _error = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (world.name.toLowerCase().contains('event')) {
      return WorldCategory.event;
    } else if (world.name.toLowerCase().contains('experimental') || 
               world.name.toLowerCase().contains('test')) {
      return WorldCategory.experimental;
    }
    return WorldCategory.classic;
```

**worldEnumWorldcategoryClassic** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:3:38`
- ğŸ“ Original: `';

enum WorldCategory {
  classic,
  pvp,
  event,
  experimental,
}

class WorldCard extends StatelessWidget {
  final World world;
  final int playerCount;
  final WorldCategory category;
  final bool isPreRegistered;
  final bool isJoined;
  final VoidCallback? onJoin;
  final VoidCallback? onLeave;
  final VoidCallback? onPlay;
  final VoidCallback? onPreRegister;
  final VoidCallback? onCancelPreRegistration;
  final VoidCallback? onInvite;
  final VoidCallback? onTap;

  const WorldCard({
    super.key,
    required this.world,
    required this.playerCount,
    required this.category,
    this.isPreRegistered = false,
    this.isJoined = false,
    this.onJoin,
    this.onLeave,
    this.onPlay,
    this.onPreRegister,
    this.onCancelPreRegistration,
    this.onInvite,
    this.onTap,
  });

  Color get categoryColor {
    switch (category) {
      case WorldCategory.classic:
        return Colors.blue;
      case WorldCategory.pvp:
        return Colors.red;
      case WorldCategory.event:
        return Colors.purple;
      case WorldCategory.experimental:
        return Colors.orange;
    }
  }

  String get categoryLabel {
    switch (category) {
      case WorldCategory.classic:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../../core/models/world.dart';
import '../../../theme/app_theme.dart';

enum WorldCategory {
  classic,
```

**worldIcondataGetCategoryicon** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:64:29`
- ğŸ“ Original: `';
    }
  }

  IconData get categoryIcon {
    switch (category) {
      case WorldCategory.classic:
        return Icons.castle;
      case WorldCategory.pvp:
        return Icons.sports_kabaddi;
      case WorldCategory.event:
        return Icons.celebration;
      case WorldCategory.experimental:
        return Icons.science;
    }
  }

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTap: onTap,
      child: Container(
        margin: const EdgeInsets.only(bottom: 16),
        decoration: BoxDecoration(
          gradient: const LinearGradient(
            begin: Alignment.topLeft,
            end: Alignment.bottomRight,
            colors: [
              Color(0xFF1E1E1E),
              Color(0xFF2A2A2A),
            ],
          ),
          borderRadius: BorderRadius.circular(16),
          border: Border.all(
            color: world.isActive
                ? categoryColor.withOpacity(0.5)
                : Colors.grey.withOpacity(0.3),
            width: world.isActive ? 2 : 1,
          ),
          boxShadow: world.isActive
              ? [
                  BoxShadow(
                    color: categoryColor.withOpacity(0.3),
                    blurRadius: 12,
                    offset: const Offset(0, 4),
                  ),
                ]
              : [],
        ),
        child: ClipRRect(
          borderRadius: BorderRadius.circular(16),
          child: Column(
            children: [
              _buildHeader(),
              _buildContent(),
            ],
          ),
        ),
      ),
    );
  }

  Widget _buildHeader() {
    return Container(
      padding: const EdgeInsets.all(16),
      decoration: BoxDecoration(
        gradient: LinearGradient(
          begin: Alignment.topLeft,
          end: Alignment.bottomRight,
          colors: [
            categoryColor.withOpacity(0.2),
            categoryColor.withOpacity(0.1),
          ],
        ),
      ),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          Row(
            mainAxisAlignment: MainAxisAlignment.spaceBetween,
            children: [
              _buildCategoryBadge(),
              _buildStatusBadge(),
            ],
          ),
          const SizedBox(height: 16),
          Row(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              _buildWorldIcon(),
              const SizedBox(width: 16),
              Expanded(
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      world.name,
                      style: const TextStyle(
                        fontSize: 20,
                        fontWeight: FontWeight.bold,
                        color: Colors.white,
                      ),
                    ),
                    const SizedBox(height: 4),
                    Text(
                      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldCategory.event:
        return 'Event';
      case WorldCategory.experimental:
        return 'Experimental';
    }
  }
```

**worldStyleTextstyleFontsize** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:169:60`
- ğŸ“ Original: `',
                      style: TextStyle(
                        fontSize: 14,
                        color: Colors.grey[300],
                      ),
                      maxLines: 2,
                      overflow: TextOverflow.ellipsis,
                    ),
                  ],
                ),
              ),
            ],
          ),
        ],
      ),
    );
  }

  Widget _buildWorldIcon() {
    return Container(
      width: 48,
      height: 48,
      decoration: BoxDecoration(
        color: categoryColor.withOpacity(0.2),
        borderRadius: BorderRadius.circular(12),
        border: Border.all(
          color: categoryColor.withOpacity(0.5),
        ),
      ),
      child: Icon(
        Icons.public,
        color: categoryColor,
        size: 24,
      ),
    );
  }

  Widget _buildCategoryBadge() {
    return Container(
      padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 6),
      decoration: BoxDecoration(
        color: categoryColor.withOpacity(0.3),
        borderRadius: BorderRadius.circular(20),
        border: Border.all(
          color: categoryColor.withOpacity(0.5),
        ),
      ),
      child: Row(
        mainAxisSize: MainAxisSize.min,
        children: [
          Icon(
            categoryIcon,
            size: 16,
            color: categoryColor,
          ),
          const SizedBox(width: 6),
          Text(
            categoryLabel,
            style: TextStyle(
              color: categoryColor,
              fontWeight: FontWeight.bold,
              fontSize: 12,
            ),
          ),
        ],
      ),
    );
  }

  Widget _buildStatusBadge() {
    Color statusColor;
    IconData statusIcon;
    
    switch (world.status) {
      case WorldStatus.upcoming:
        statusColor = Colors.orange;
        statusIcon = Icons.schedule;
        break;
      case WorldStatus.open:
        statusColor = Colors.green;
        statusIcon = Icons.lock_open;
        break;
      case WorldStatus.running:
        statusColor = Colors.blue;
        statusIcon = Icons.play_circle;
        break;
      case WorldStatus.closed:
        statusColor = Colors.red;
        statusIcon = Icons.lock;
        break;
      case WorldStatus.archived:
        statusColor = Colors.grey;
        statusIcon = Icons.archive;
        break;
    }
    
    return Container(
      padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 6),
      decoration: BoxDecoration(
        color: statusColor.withOpacity(0.2),
        borderRadius: BorderRadius.circular(20),
        border: Border.all(
          color: statusColor.withOpacity(0.5),
        ),
      ),
      child: Row(
        mainAxisSize: MainAxisSize.min,
        children: [
          Icon(
            statusIcon,
            size: 16,
            color: statusColor,
          ),
          const SizedBox(width: 6),
          Text(
            world.statusText,
            style: TextStyle(
              color: statusColor,
              fontWeight: FontWeight.bold,
              fontSize: 12,
            ),
          ),
        ],
      ),
    );
  }

  Widget _buildContent() {
    return Container(
      padding: const EdgeInsets.all(16),
      child: Column(
        children: [
          _buildPlayerInfo(),
          const SizedBox(height: 16),
          _buildDateInfo(),
          const SizedBox(height: 16),
          _buildActionButtons(),
        ],
      ),
    );
  }

  Widget _buildPlayerInfo() {
    return Row(
      children: [
        Icon(
          Icons.people,
          size: 16,
          color: Colors.grey[400],
        ),
        const SizedBox(width: 4),
        Text(
          '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                    const SizedBox(height: 4),
                    Text(
                      'Eine spannende Welt voller Abenteuer',
                      style: TextStyle(
                        fontSize: 14,
                        color: Colors.grey[300],
```

**worldStyleTextstyleColor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:321:38`
- ğŸ“ Original: `',
          style: TextStyle(
            color: Colors.grey[400],
            fontSize: 14,
          ),
        ),
      ],
    );
  }

  Widget _buildDateInfo() {
    return Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        Row(
          children: [
            Icon(
              Icons.calendar_today,
              size: 16,
              color: Colors.grey[400],
            ),
            const SizedBox(width: 4),
            Text(
              '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
        const SizedBox(width: 4),
        Text(
          '$playerCount Spieler aktiv',
          style: TextStyle(
            color: Colors.grey[400],
            fontSize: 14,
```

**worldStyleTextstyleColor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:344:91`
- ğŸ“ Original: `',
              style: TextStyle(
                color: Colors.grey[400],
                fontSize: 14,
              ),
            ),
          ],
        ),
        if (world.endsAt != null) ...[
          Builder(
            builder: (context) {
              final endDate = world.endsAt!;
              return Column(
                children: [
                  const SizedBox(height: 4),
                  Row(
                    children: [
                      Icon(
                        Icons.event_busy,
                        size: 16,
                        color: Colors.grey[400],
                      ),
                      const SizedBox(width: 4),
                      Text(
                        '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
            const SizedBox(width: 4),
            Text(
              'Start: ${world.startsAt.day}.${world.startsAt.month}.${world.startsAt.year}',
              style: TextStyle(
                color: Colors.grey[400],
                fontSize: 14,
```

**worldWennKeineButtons** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:462:35`
- ğŸ“ Original: `',
      ));
    }
    
    // Wenn keine Buttons verfÃ¼gbar sind
    if (buttons.isEmpty) {
      return _buildStatusBadge();
    }
    
    return Wrap(
      spacing: 8,
      runSpacing: 4,
      children: buttons,
    );
  }
  
  Widget _buildButton({
    required VoidCallback? onPressed,
    required IconData icon,
    required String? label,
    required Color? color,
    bool iconOnly = false,
    String? tooltip,
  }) {
    if (onPressed == null) return const SizedBox.shrink();
    
    final button = iconOnly
        ? ElevatedButton(
            onPressed: onPressed,
            style: ElevatedButton.styleFrom(
              backgroundColor: color,
              foregroundColor: Colors.white,
              padding: const EdgeInsets.all(8),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(8),
              ),
            ),
            child: Icon(icon, size: 16),
          )
        : ElevatedButton.icon(
            onPressed: onPressed,
            icon: Icon(icon, size: 16),
            label: Text(label ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
label: null,
        color: Colors.purple[600],
        iconOnly: true,
        tooltip: 'Spieler einladen',
      ));
    }
```

**worldSpielerEinladen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:462:18`
- ğŸ“ Original: `'Spieler einladen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
label: null,
        color: Colors.purple[600],
        iconOnly: true,
        tooltip: 'Spieler einladen',
      ));
    }
```

**worldEineSpannendeWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:169:23`
- ğŸ“ Original: `'Eine spannende Welt voller Abenteuer'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                    const SizedBox(height: 4),
                    Text(
                      'Eine spannende Welt voller Abenteuer',
                      style: TextStyle(
                        fontSize: 14,
                        color: Colors.grey[300],
```

**worldPlayercountSpielerAktiv** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:321:11`
- ğŸ“ Original: `'$playerCount Spieler aktiv'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
        const SizedBox(width: 4),
        Text(
          '$playerCount Spieler aktiv',
          style: TextStyle(
            color: Colors.grey[400],
            fontSize: 14,
```

**worldSpielerEinladen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_card.dart:462:18`
- ğŸ“ Original: `'Spieler einladen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
label: null,
        color: Colors.purple[600],
        iconOnly: true,
        tooltip: 'Spieler einladen',
      ));
    }
```

**worldClassWorldfiltersExtends** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:3:26`
- ğŸ“ Original: `';

class WorldFilters extends StatelessWidget {
  final WorldStatus? statusFilter;
  final WorldCategory? categoryFilter;
  final String sortBy;
  final bool sortAscending;
  final ValueChanged<WorldStatus?> onStatusChanged;
  final ValueChanged<WorldCategory?> onCategoryChanged;
  final ValueChanged<String> onSortByChanged;
  final VoidCallback onSortOrderChanged;
  final VoidCallback onResetFilters;

  const WorldFilters({
    super.key,
    this.statusFilter,
    this.categoryFilter,
    required this.sortBy,
    required this.sortAscending,
    required this.onStatusChanged,
    required this.onCategoryChanged,
    required this.onSortByChanged,
    required this.onSortOrderChanged,
    required this.onResetFilters,
  });

  @override
  Widget build(BuildContext context) {
    return Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        // Status Filter
        _buildStatusFilter(),
        const SizedBox(height: 12),
        
        // Category Filter
        _buildCategoryFilter(),
        const SizedBox(height: 12),
        
        // Sort Options
        _buildSortOptions(),
        const SizedBox(height: 12),
        
        // Active Filters & Reset
        if (statusFilter != null || categoryFilter != null)
          _buildActiveFilters(),
      ],
    );
  }

  Widget _buildStatusFilter() {
    return SingleChildScrollView(
      scrollDirection: Axis.horizontal,
      padding: const EdgeInsets.symmetric(horizontal: 16),
      child: Row(
        children: [
          Text(
            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../../core/models/world.dart';
import './world_card.dart';

class WorldFilters extends StatelessWidget {
  final WorldStatus? statusFilter;
```

**worldOnchangedValueIf** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:197:45`
- ğŸ“ Original: `'),
                ),
              ],
              onChanged: (value) {
                if (value != null) {
                  onSortByChanged(value);
                }
              },
            ),
          ),
          const SizedBox(width: 8),
          Container(
            height: 40,
            decoration: BoxDecoration(
              color: const Color(0xFF2D2D2D),
              borderRadius: BorderRadius.circular(8),
              border: Border.all(color: Colors.grey[600]!),
            ),
            child: IconButton(
              icon: Icon(
                sortAscending ? Icons.arrow_upward : Icons.arrow_downward,
                color: Colors.grey[300],
                size: 20,
              ),
              onPressed: onSortOrderChanged,
              tooltip: sortAscending ? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                DropdownMenuItem(
                  value: 'playerCount',
                  child: Text('Spieleranzahl'),
                ),
              ],
              onChanged: (value) {
```

**worldClassWorldlistheaderExtends** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_header.dart:2:38`
- ğŸ“ Original: `';

class WorldListHeader extends StatelessWidget {
  final VoidCallback? onRefresh;
  final VoidCallback? onCreateWorld;
  final bool hasCreatePermission;

  const WorldListHeader({
    super.key,
    this.onRefresh,
    this.onCreateWorld,
    this.hasCreatePermission = false,
  });

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        // Logo
        Container(
          width: 80,
          height: 80,
          decoration: BoxDecoration(
            color: AppTheme.primaryColor.withOpacity(0.2),
            borderRadius: BorderRadius.circular(20),
            border: Border.all(
              color: AppTheme.primaryColor.withOpacity(0.5),
              width: 2,
            ),
          ),
          child: const Icon(
            Icons.public,
            size: 40,
            color: AppTheme.primaryColor,
          ),
        ),
        const SizedBox(height: 24),
        
        // Title
        Text(
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../../theme/app_theme.dart';

class WorldListHeader extends StatelessWidget {
  final VoidCallback? onRefresh;
```

**worldWÃ¤hleDeineWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_header.dart:53:11`
- ğŸ“ Original: `'WÃ¤hle deine Welt'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Subtitle
        Text(
          'WÃ¤hle deine Welt',
          style: Theme.of(context).textTheme.titleMedium?.copyWith(
            color: Colors.grey[300],
            fontSize: 18,
```

**worldWÃ¤hleDeineWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_header.dart:53:11`
- ğŸ“ Original: `'WÃ¤hle deine Welt'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Subtitle
        Text(
          'WÃ¤hle deine Welt',
          style: Theme.of(context).textTheme.titleMedium?.copyWith(
            color: Colors.grey[300],
            fontSize: 18,
```

**worldClassWorldlistloadingstateExtends** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:2:38`
- ğŸ“ Original: `';

class WorldListLoadingState extends StatelessWidget {
  const WorldListLoadingState({super.key});

  @override
  Widget build(BuildContext context) {
    return const Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          CircularProgressIndicator(
            valueColor: AlwaysStoppedAnimation<Color>(AppTheme.primaryColor),
          ),
          SizedBox(height: 16),
          Text(
            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../../theme/app_theme.dart';

class WorldListLoadingState extends StatelessWidget {
  const WorldListLoadingState({super.key});
```

**worldStyleTextstyleColor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:18:38`
- ğŸ“ Original: `',
            style: TextStyle(
              color: Colors.grey,
              fontSize: 16,
            ),
          ),
        ],
      ),
    );
  }
}

class WorldListEmptyState extends StatelessWidget {
  final VoidCallback? onRefresh;
  final bool hasActiveFilters;

  const WorldListEmptyState({
    super.key,
    this.onRefresh,
    this.hasActiveFilters = false,
  });

  @override
  Widget build(BuildContext context) {
    return Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          Icon(
            Icons.public_off,
            size: 64,
            color: Colors.grey[600],
          ),
          const SizedBox(height: 16),
          Text(
            hasActiveFilters
                ? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
          SizedBox(height: 16),
          Text(
            'Welten werden geladen...',
            style: TextStyle(
              color: Colors.grey,
              fontSize: 16,
```

**worldNochKeineWelten** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:55:19`
- ğŸ“ Original: `'Noch keine Welten verfÃ¼gbar'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
            hasActiveFilters
                ? 'Keine Welten gefunden'
                : 'Noch keine Welten verfÃ¼gbar',
            style: TextStyle(
              fontSize: 18,
              fontWeight: FontWeight.bold,
```

**worldVersucheDieFilter** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:66:19`
- ğŸ“ Original: `'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
          Text(
            hasActiveFilters
                ? 'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'
                : 'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.',
            style: TextStyle(
              fontSize: 14,
```

**worldSchaueSpÃ¤terNoch** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:67:19`
- ğŸ“ Original: `'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
            hasActiveFilters
                ? 'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'
                : 'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.',
            style: TextStyle(
              fontSize: 14,
              color: Colors.grey[500],
```

**worldWeltenWerdenGeladen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:18:13`
- ğŸ“ Original: `'Welten werden geladen...'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
          SizedBox(height: 16),
          Text(
            'Welten werden geladen...',
            style: TextStyle(
              color: Colors.grey,
              fontSize: 16,
```

**worldVersucheDieFilter** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:66:19`
- ğŸ“ Original: `'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
          Text(
            hasActiveFilters
                ? 'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'
                : 'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.',
            style: TextStyle(
              fontSize: 14,
```

**worldWeltenWerdenGeladen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:18:13`
- ğŸ“ Original: `'Welten werden geladen...'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
          SizedBox(height: 16),
          Text(
            'Welten werden geladen...',
            style: TextStyle(
              color: Colors.grey,
              fontSize: 16,
```

**worldKeineWeltenGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:54:19`
- ğŸ“ Original: `'Keine Welten gefunden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 16),
          Text(
            hasActiveFilters
                ? 'Keine Welten gefunden'
                : 'Noch keine Welten verfÃ¼gbar',
            style: TextStyle(
              fontSize: 18,
```

**worldNochKeineWelten** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:55:19`
- ğŸ“ Original: `'Noch keine Welten verfÃ¼gbar'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
            hasActiveFilters
                ? 'Keine Welten gefunden'
                : 'Noch keine Welten verfÃ¼gbar',
            style: TextStyle(
              fontSize: 18,
              fontWeight: FontWeight.bold,
```

**worldSchaueSpÃ¤terNoch** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:67:19`
- ğŸ“ Original: `'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
            hasActiveFilters
                ? 'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'
                : 'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.',
            style: TextStyle(
              fontSize: 14,
              color: Colors.grey[500],
```

**worldActiontypetextvaliditytextJeNach** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:281:87`
- ğŸ“ Original: `" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
      case 'not_logged_in':
        if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
          infoText = '$baseInfoText\n\n$actionText';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'user_exists_not_logged_in':
        if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'wrong_email':
        if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'correct_email':
        if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
          
          // Auto-Accept entfernt: User soll bewusst entscheiden!
        }
        break;
        
      default:
        AppLogger.app.w('âŒ Unbekannter User-Status: $status');
        actionText = 'Unbekannter Status: $status';
        infoText = '$baseInfoText\n\n$actionText';
    }
    
    // Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.';
    }
    
    setState(() {
      _infoMessage = infoText;
      _inviteEmail = inviteEmail;
      
      // Button-Flags setzen
      _showLoginButton = showLoginButton;
      _showRegistrationButton = showRegisterButton; 
      _showLogoutButton = showLogoutButton;
      _showAcceptInviteButton = showAcceptButton;
      
      // WICHTIG: Alte Fehlermeldung zurÃ¼cksetzen!
      _errorMessage = null;
      
      _isLoading = false;
    });
  }

  // Neue Methode: World-Status fÃ¼r normale Navigation prÃ¼fen
  Future<void> _checkWorldStatus() async {
    if (_world == null) return;
    
    try {
      // PrÃ¼fe ob User bereits Mitglied ist
      _isJoined = await _worldService.isPlayerInWorld(_world!.id);
      
      // PrÃ¼fe Vorregistrierung
      final preRegStatus = await _worldService.getPreRegistrationStatus(_world!.id);
      _isPreRegistered = preRegStatus.isPreRegistered;
      
      AppLogger.app.d('âœ… World-Status geprÃ¼ft', error: {
        'worldName': _world!.name,
        'isJoined': _isJoined,
        'isPreRegistered': _isPreRegistered
      });
    } catch (e) {
      AppLogger.logError('Fehler beim PrÃ¼fen des World-Status', e);
    }
  }

  // Neue Methode: Automatische Invite-Akzeptierung
  Future<void> _autoAcceptInvite() async {
    if (widget.inviteToken == null) return;
    
    try {
      final result = await _worldService.acceptInvite(widget.inviteToken!);
      
      if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
    }
    
    final baseInfoText = 'Du wurdest von $inviterText eingeladen, der Welt "$worldName" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
```

**worldDasInviteWurde** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:384:66`
- ğŸ“ Original: `"! Das Invite wurde automatisch akzeptiert.';
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich der Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "${_world?.name}"! Das Invite wurde automatisch akzeptiert.';
        });
        
        if (mounted) {
```

**worldBeigetretenBackgroundcolorColorsgreen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:390:67`
- ğŸ“ Original: `" beigetreten!'),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
          );
        }
      }
    } catch (e) {
      // SPEZIALBEHANDLUNG: "`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich der Welt "${_world!.name}" beigetreten!'),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
```

**worldIfMountedScaffoldmessengerofcontextshowsnackbar** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:402:80`
- ğŸ“ Original: `"!';
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Du bist bereits Mitglied dieser Welt "${_world?.name}"!';
        });
        
        if (mounted) {
```

**worldBackgroundcolorColorsorangeDuration** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:408:80`
- ğŸ“ Original: `"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
          );
        }
        return; // Erfolgreicher Exit
      }
      
      // Andere Fehler normal behandeln
      AppLogger.logError('Automatische Invite-Akzeptierung fehlgeschlagen', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = 'Du kannst nun der Welt beitreten.';
      });
    }
  }

  Future<void> _joinWorld() async {
    if (_world == null) return;

    setState(() {
      _isJoining = true;
      _joinError = null;
    });

    try {
      bool success = false;
      
      // **INVITE-TOKEN FLOW: Invite akzeptieren**
      if (widget.inviteToken != null) {
        AppLogger.app.i('ğŸ« Versuche Invite-Akzeptierung fÃ¼r World-Join');
        final inviteResult = await _worldService.acceptInvite(widget.inviteToken!);
        
        if (inviteResult != null) {
          success = true;
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': _world!.id,
            'worldName': _world!.name
          });
        }
      } else {
        // **NORMALE NAVIGATION: Standard World-Join**
        AppLogger.app.i('ğŸŒ Versuche normalen World-Join');
        success = await _worldService.joinWorld(_world!.id);
      }
      
      if (success) {
        setState(() {
          _isJoined = true;
        });
        
        if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "${_world?.name}"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
```

**worldErfolgreichDerWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:462:77`
- ğŸ“ Original: `"!'
            : 'Erfolgreich der Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
```

**worldBeigetretenScaffoldmessengerofcontextshowsnackbarSnackbar** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:463:53`
- ğŸ“ Original: `" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(message),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Beitritt fehlgeschlagen. Versuche es erneut.';
        });
      }
    } catch (e) {
      AppLogger.logError('World Join fehlgeschlagen', e, context: {
        'worldId': _world?.id,
        'worldName': _world?.name,
        'hasInviteToken': widget.inviteToken != null,
        'inviteToken': widget.inviteToken?.substring(0, 8)
      });
      
      setState(() {
        // Bessere Fehlermeldungen fÃ¼r verschiedene Szenarien
        if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
      });
    } finally {
      setState(() {
        _isJoining = false;
      });
    }
  }
  
  Future<void> _preRegisterWorld() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.preRegisterWorldAuthenticated(world.id);
      
      if (success) {
        setState(() {
          _isPreRegistered = true;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
              backgroundColor: Colors.green,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Fehler bei der Vorregistrierung';
        });
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _cancelPreRegistration() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.cancelPreRegistrationAuthenticated(world.id);
      if (success) {
        setState(() {
          _isPreRegistered = false;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
              backgroundColor: Colors.orange,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung';
        });
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _leaveWorld() async {
    final world = _world;
    if (world == null) return;
    
    // BestÃ¤tigungsdialog anzeigen
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
```

**worldWillkommenInDer** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:384:26`
- ğŸ“ Original: `'Willkommen in der Welt "${_world?.name}"! Das Invite wurde automatisch akzeptiert.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "${_world?.name}"! Das Invite wurde automatisch akzeptiert.';
        });
        
        if (mounted) {
```

**worldErfolgreichDerWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:390:29`
- ğŸ“ Original: `'Erfolgreich der Welt "${_world!.name}" beigetreten!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich der Welt "${_world!.name}" beigetreten!'),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
```

**worldDuBistBereits** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:402:26`
- ğŸ“ Original: `'Du bist bereits Mitglied dieser Welt "${_world?.name}"!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Du bist bereits Mitglied dieser Welt "${_world?.name}"!';
        });
        
        if (mounted) {
```

**worldDuBistBereits** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:408:29`
- ğŸ“ Original: `'Du bist bereits Mitglied der Welt "${_world?.name}"!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "${_world?.name}"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
```

**worldVersucheInviteakzeptierungFÃ¼r** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:439:25`
- ğŸ“ Original: `'ğŸ« Versuche Invite-Akzeptierung fÃ¼r World-Join'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// **INVITE-TOKEN FLOW: Invite akzeptieren**
      if (widget.inviteToken != null) {
        AppLogger.app.i('ğŸ« Versuche Invite-Akzeptierung fÃ¼r World-Join');
        final inviteResult = await _worldService.acceptInvite(widget.inviteToken!);
        
        if (inviteResult != null) {
```

**worldEinladungAkzeptiertWillkommen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:462:15`
- ğŸ“ Original: `'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
```

**worldErfolgreichDerWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:463:15`
- ğŸ“ Original: `'Erfolgreich der Welt "${_world!.name}" beigetreten!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
```

**worldWidgetinvitetokensubstring08Setstate** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:483:21`
- ğŸ“ Original: `': widget.inviteToken?.substring(0, 8)
      });
      
      setState(() {
        // Bessere Fehlermeldungen fÃ¼r verschiedene Szenarien
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'worldId': _world?.id,
        'worldName': _world?.name,
        'hasInviteToken': widget.inviteToken != null,
        'inviteToken': widget.inviteToken?.substring(0, 8)
      });
      
      setState(() {
```

**worldBackgroundcolorColorsgreenElse** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:526:75`
- ğŸ“ Original: `'),
              backgroundColor: Colors.green,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = '`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
              backgroundColor: Colors.green,
            ),
          );
```

**worldBackgroundcolorColorsorangeElse** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:568:79`
- ğŸ“ Original: `'),
              backgroundColor: Colors.orange,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = '`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
              backgroundColor: Colors.orange,
            ),
          );
```

**worldBackgroundcolorColorsorangeCatch** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:633:60`
- ğŸ“ Original: `'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

**worldReturnWorldstatustextWeltstatusfarbe** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:661:41`
- ğŸ“ Original: `';
    return world.statusText;
  }

  // Welt-Status-Farbe
  Color _getWorldStatusColor() {
    final world = _world;
    if (world == null) return Colors.grey;
    
    switch (world.status) {
      case WorldStatus.upcoming:
        return Colors.orange;
      case WorldStatus.open:
        return Colors.green;
      case WorldStatus.running:
        return Colors.blue;
      case WorldStatus.closed:
        return Colors.red;
      case WorldStatus.archived:
        return Colors.grey;
    }
  }

  // Kann der Benutzer beitreten?
  // Retry-Funktion
  Future<void> _retry() async {
    await _loadWorldData();
  }

  // Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Welt-Status bestimmen
  String _getWorldStatusText() {
    final world = _world;
    if (world == null) return 'Unbekannt';
    return world.statusText;
  }
```

**worldWeltNichtGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1084:25`
- ğŸ“ Original: `'Welt nicht gefunden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 24),
                      Text(
                        'Welt nicht gefunden',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
```

**worldDieAngeforderteWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1092:25`
- ğŸ“ Original: `'Die angeforderte Welt existiert nicht oder ist nicht verfÃ¼gbar.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        'Die angeforderte Welt existiert nicht oder ist nicht verfÃ¼gbar.',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

**worldZurÃ¼ckZuDen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1111:45`
- ğŸ“ Original: `'ZurÃ¼ck zu den Welten'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
borderRadius: BorderRadius.circular(12),
                            ),
                          ),
                          child: const Text('ZurÃ¼ck zu den Welten'),
                        ),
                      ),
                    ],
```

**worldStyleTextstylecolorColorsgrey400** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1190:103`
- ğŸ“ Original: `',
                                      style: TextStyle(color: Colors.grey[400], fontSize: 14),
                                    ),
                                  ],
                                ],
                              ),
                            ],
                          ),
                        ),
                        Container(
                          padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),
                          decoration: BoxDecoration(
                            color: _getWorldStatusColor().withOpacity(0.2),
                            borderRadius: BorderRadius.circular(20),
                            border: Border.all(color: _getWorldStatusColor().withOpacity(0.5)),
                          ),
                          child: Row(
                            mainAxisSize: MainAxisSize.min,
                            children: [
                              Icon(
                                _getWorldStatusIcon(),
                                color: _getWorldStatusColor(),
                                size: 16,
                              ),
                              const SizedBox(width: 6),
                              Text(
                                _getWorldStatusText(),
                                style: TextStyle(
                                  color: _getWorldStatusColor(),
                                  fontWeight: FontWeight.w600,
                                  fontSize: 14,
                                ),
                              ),
                            ],
                          ),
                        ),
                      ],
                    ),
                  ],
                ),
              ),
              
              // Tab Bar
              Container(
                decoration: BoxDecoration(
                  color: const Color(0xFF2A2A2A),
                  border: Border(
                    bottom: BorderSide(
                      color: AppTheme.primaryColor.withOpacity(0.3),
                      width: 1,
                    ),
                  ),
                ),
                child: TabBar(
                  controller: _tabController,
                  indicatorColor: AppTheme.primaryColor,
                  indicatorWeight: 3,
                  labelColor: AppTheme.primaryColor,
                  unselectedLabelColor: Colors.grey[400],
                  labelStyle: const TextStyle(fontWeight: FontWeight.w600),
                  tabs: const [
                    Tab(
                      icon: Icon(Icons.description_outlined),
                      text: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Icon(Icons.event, size: 16, color: Colors.grey[400]),
                                    const SizedBox(width: 4),
                                    Text(
                                      'Ende: ${_world?.endsAt.toString().split(' ')[0] ?? 'Unbekannt'}',
                                      style: TextStyle(color: Colors.grey[400], fontSize: 14),
                                    ),
                                  ],
```

**worldDiesIstEine** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1350:13`
- ğŸ“ Original: `'Dies ist eine spannende Welt voller Abenteuer und Herausforderungen. '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
          const SizedBox(height: 16),
          Text(
            'Dies ist eine spannende Welt voller Abenteuer und Herausforderungen. '
            'Erkunde unbekannte Gebiete, schlieÃŸe Allianzen und werde zur Legende!',
            style: TextStyle(color: Colors.grey[300], height: 1.5),
          ),
```

**worldErkundeUnbekannteGebiete** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1351:13`
- ğŸ“ Original: `'Erkunde unbekannte Gebiete, schlieÃŸe Allianzen und werde zur Legende!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 16),
          Text(
            'Dies ist eine spannende Welt voller Abenteuer und Herausforderungen. '
            'Erkunde unbekannte Gebiete, schlieÃŸe Allianzen und werde zur Legende!',
            style: TextStyle(color: Colors.grey[300], height: 1.5),
          ),
          const SizedBox(height: 24),
```

**worldIconsaccess_timeWidget_buildrulestab** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1357:94`
- ğŸ“ Original: `', Icons.access_time),
        ],
      ),
    );
  }
  
  Widget _buildRulesTab() {
    return SingleChildScrollView(
      padding: const EdgeInsets.all(24),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          const Row(
            children: [
              Icon(Icons.rule, color: AppTheme.primaryColor, size: 24),
              SizedBox(width: 8),
              Text(
                '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 24),
          _buildInfoCard('Kategorie', 'Standard', Icons.category),
          _buildInfoCard('Welt-ID', '#${_world?.id ?? 'N/A'}', Icons.tag),
          _buildInfoCard('Erstellt', _world?.createdAt.toString().split(' ')[0] ?? 'Unbekannt', Icons.access_time),
        ],
      ),
    );
```

**worldRespektiereAndereSpieler** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1384:32`
- ğŸ“ Original: `'Respektiere andere Spieler'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
],
          ),
          const SizedBox(height: 16),
          _buildRuleItem('1.', 'Respektiere andere Spieler'),
          _buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
```

**worldKeineCheatsOder** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1385:32`
- ğŸ“ Original: `'Keine Cheats oder Exploits verwenden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
          const SizedBox(height: 16),
          _buildRuleItem('1.', 'Respektiere andere Spieler'),
          _buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
          _buildRuleItem('5.', 'Entscheidungen der Spielleitung sind final'),
```

**worldFaireSpielweiseIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1386:32`
- ğŸ“ Original: `'Faire Spielweise ist Pflicht'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
const SizedBox(height: 16),
          _buildRuleItem('1.', 'Respektiere andere Spieler'),
          _buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
          _buildRuleItem('5.', 'Entscheidungen der Spielleitung sind final'),
        ],
```

**worldKommunikationNurIm** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1387:32`
- ğŸ“ Original: `'Kommunikation nur im Spielchat'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_buildRuleItem('1.', 'Respektiere andere Spieler'),
          _buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
          _buildRuleItem('5.', 'Entscheidungen der Spielleitung sind final'),
        ],
      ),
```

**worldWeltstatistiken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1405:17`
- ğŸ“ Original: `'Welt-Statistiken'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Icon(Icons.bar_chart, color: AppTheme.primaryColor, size: 24),
              SizedBox(width: 8),
              Text(
                'Welt-Statistiken',
                style: TextStyle(
                  color: Colors.white,
                  fontSize: 18,
```

**worldIconspublicWidget_buildinfocardstring** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1427:62`
- ğŸ“ Original: `', Icons.public)),
            ],
          ),
        ],
      ),
    );
  }
  
  Widget _buildInfoCard(String label, String value, IconData icon) {
    return Container(
      margin: const EdgeInsets.only(bottom: 12),
      padding: const EdgeInsets.all(16),
      decoration: BoxDecoration(
        color: const Color(0xFF2A2A2A),
        borderRadius: BorderRadius.circular(12),
        border: Border.all(color: Colors.grey[800] ?? Colors.grey),
      ),
      child: Row(
        children: [
          Icon(icon, color: AppTheme.primaryColor, size: 20),
          const SizedBox(width: 12),
          Expanded(
            child: Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                Text(
                  label,
                  style: TextStyle(color: Colors.grey[400], fontSize: 12),
                ),
                const SizedBox(height: 2),
                Text(
                  value,
                  style: const TextStyle(color: Colors.white, fontSize: 14, fontWeight: FontWeight.w500),
                ),
              ],
            ),
          ),
        ],
      ),
    );
  }
  
  Widget _buildRuleItem(String number, String rule) {
    return Container(
      margin: const EdgeInsets.only(bottom: 12),
      padding: const EdgeInsets.all(12),
      decoration: BoxDecoration(
        color: const Color(0xFF2A2A2A),
        borderRadius: BorderRadius.circular(8),
        border: Border.all(color: Colors.grey[800] ?? Colors.grey),
      ),
      child: Row(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          Container(
            width: 28,
            height: 28,
            decoration: BoxDecoration(
              color: AppTheme.primaryColor.withOpacity(0.2),
              shape: BoxShape.circle,
            ),
            child: Center(
              child: Text(
                number,
                style: const TextStyle(
                  color: AppTheme.primaryColor,
                  fontWeight: FontWeight.bold,
                  fontSize: 12,
                ),
              ),
            ),
          ),
          const SizedBox(width: 12),
          Expanded(
            child: Text(
              rule,
              style: TextStyle(color: Colors.grey[300], height: 1.3),
            ),
          ),
        ],
      ),
    );
  }
  
  Widget _buildStatCard(String label, String value, IconData icon) {
    return Container(
      padding: const EdgeInsets.all(20),
      decoration: BoxDecoration(
        color: const Color(0xFF2A2A2A),
        borderRadius: BorderRadius.circular(16),
        border: Border.all(color: AppTheme.primaryColor.withOpacity(0.3)),
      ),
      child: Column(
        children: [
          Icon(icon, color: AppTheme.primaryColor, size: 32),
          const SizedBox(height: 12),
          Text(
            value,
            style: const TextStyle(
              color: Colors.white,
              fontSize: 20,
              fontWeight: FontWeight.bold,
            ),
          ),
          const SizedBox(height: 4),
          Text(
            label,
            style: TextStyle(
              color: Colors.grey[400],
              fontSize: 14,
            ),
          ),
        ],
      ),
    );
  }
  
  IconData _getWorldStatusIcon() {
    switch (_world?.status) {
      case WorldStatus.upcoming:
        return Icons.schedule;
      case WorldStatus.open:
        return Icons.lock_open;
      case WorldStatus.running:
        return Icons.play_circle_outline;
      case WorldStatus.closed:
        return Icons.lock;
      default:
        return Icons.help_outline;
    }
  }

  Widget _buildInfoRow(String label, String value) {
    return Padding(
      padding: const EdgeInsets.symmetric(vertical: 4),
      child: Row(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          SizedBox(
            width: 80,
            child: Text(
              '`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
children: [
              Expanded(child: _buildStatCard('Status', _getWorldStatusText(), Icons.circle)),
              const SizedBox(width: 16),
              Expanded(child: _buildStatCard('Typ', 'Standard', Icons.public)),
            ],
          ),
        ],
```

**worldDieseWeltIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1868:29`
- ğŸ“ Original: `'Diese Welt ist archiviert'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
                      world.status == WorldStatus.closed
                          ? 'Diese Welt ist derzeit geschlossen'
                          : 'Diese Welt ist archiviert',
                      style: TextStyle(
                        color: Colors.grey[700],
                        fontWeight: FontWeight.w500,
```

**worldActiontypetextvaliditytextJeNach** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:281:87`
- ğŸ“ Original: `" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
      case 'not_logged_in':
        if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
          infoText = '$baseInfoText\n\n$actionText';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'user_exists_not_logged_in':
        if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'wrong_email':
        if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'correct_email':
        if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
          
          // Auto-Accept entfernt: User soll bewusst entscheiden!
        }
        break;
        
      default:
        AppLogger.app.w('âŒ Unbekannter User-Status: $status');
        actionText = 'Unbekannter Status: $status';
        infoText = '$baseInfoText\n\n$actionText';
    }
    
    // Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.';
    }
    
    setState(() {
      _infoMessage = infoText;
      _inviteEmail = inviteEmail;
      
      // Button-Flags setzen
      _showLoginButton = showLoginButton;
      _showRegistrationButton = showRegisterButton; 
      _showLogoutButton = showLogoutButton;
      _showAcceptInviteButton = showAcceptButton;
      
      // WICHTIG: Alte Fehlermeldung zurÃ¼cksetzen!
      _errorMessage = null;
      
      _isLoading = false;
    });
  }

  // Neue Methode: World-Status fÃ¼r normale Navigation prÃ¼fen
  Future<void> _checkWorldStatus() async {
    if (_world == null) return;
    
    try {
      // PrÃ¼fe ob User bereits Mitglied ist
      _isJoined = await _worldService.isPlayerInWorld(_world!.id);
      
      // PrÃ¼fe Vorregistrierung
      final preRegStatus = await _worldService.getPreRegistrationStatus(_world!.id);
      _isPreRegistered = preRegStatus.isPreRegistered;
      
      AppLogger.app.d('âœ… World-Status geprÃ¼ft', error: {
        'worldName': _world!.name,
        'isJoined': _isJoined,
        'isPreRegistered': _isPreRegistered
      });
    } catch (e) {
      AppLogger.logError('Fehler beim PrÃ¼fen des World-Status', e);
    }
  }

  // Neue Methode: Automatische Invite-Akzeptierung
  Future<void> _autoAcceptInvite() async {
    if (widget.inviteToken == null) return;
    
    try {
      final result = await _worldService.acceptInvite(widget.inviteToken!);
      
      if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
    }
    
    final baseInfoText = 'Du wurdest von $inviterText eingeladen, der Welt "$worldName" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
```

**worldBackgroundcolorColorsorangeDuration** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:408:80`
- ğŸ“ Original: `"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
          );
        }
        return; // Erfolgreicher Exit
      }
      
      // Andere Fehler normal behandeln
      AppLogger.logError('Automatische Invite-Akzeptierung fehlgeschlagen', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = 'Du kannst nun der Welt beitreten.';
      });
    }
  }

  Future<void> _joinWorld() async {
    if (_world == null) return;

    setState(() {
      _isJoining = true;
      _joinError = null;
    });

    try {
      bool success = false;
      
      // **INVITE-TOKEN FLOW: Invite akzeptieren**
      if (widget.inviteToken != null) {
        AppLogger.app.i('ğŸ« Versuche Invite-Akzeptierung fÃ¼r World-Join');
        final inviteResult = await _worldService.acceptInvite(widget.inviteToken!);
        
        if (inviteResult != null) {
          success = true;
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': _world!.id,
            'worldName': _world!.name
          });
        }
      } else {
        // **NORMALE NAVIGATION: Standard World-Join**
        AppLogger.app.i('ğŸŒ Versuche normalen World-Join');
        success = await _worldService.joinWorld(_world!.id);
      }
      
      if (success) {
        setState(() {
          _isJoined = true;
        });
        
        if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "${_world?.name}"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
```

**worldBeigetretenScaffoldmessengerofcontextshowsnackbarSnackbar** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:463:53`
- ğŸ“ Original: `" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(message),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Beitritt fehlgeschlagen. Versuche es erneut.';
        });
      }
    } catch (e) {
      AppLogger.logError('World Join fehlgeschlagen', e, context: {
        'worldId': _world?.id,
        'worldName': _world?.name,
        'hasInviteToken': widget.inviteToken != null,
        'inviteToken': widget.inviteToken?.substring(0, 8)
      });
      
      setState(() {
        // Bessere Fehlermeldungen fÃ¼r verschiedene Szenarien
        if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
      });
    } finally {
      setState(() {
        _isJoining = false;
      });
    }
  }
  
  Future<void> _preRegisterWorld() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.preRegisterWorldAuthenticated(world.id);
      
      if (success) {
        setState(() {
          _isPreRegistered = true;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
              backgroundColor: Colors.green,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Fehler bei der Vorregistrierung';
        });
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _cancelPreRegistration() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.cancelPreRegistrationAuthenticated(world.id);
      if (success) {
        setState(() {
          _isPreRegistered = false;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
              backgroundColor: Colors.orange,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung';
        });
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _leaveWorld() async {
    final world = _world;
    if (world == null) return;
    
    // BestÃ¤tigungsdialog anzeigen
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
```

**worldActiontypetextvaliditytextJeNach** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:281:87`
- ğŸ“ Original: `" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
      case 'not_logged_in':
        if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
          infoText = '$baseInfoText\n\n$actionText';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'user_exists_not_logged_in':
        if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'wrong_email':
        if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'correct_email':
        if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
          
          // Auto-Accept entfernt: User soll bewusst entscheiden!
        }
        break;
        
      default:
        AppLogger.app.w('âŒ Unbekannter User-Status: $status');
        actionText = 'Unbekannter Status: $status';
        infoText = '$baseInfoText\n\n$actionText';
    }
    
    // Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.';
    }
    
    setState(() {
      _infoMessage = infoText;
      _inviteEmail = inviteEmail;
      
      // Button-Flags setzen
      _showLoginButton = showLoginButton;
      _showRegistrationButton = showRegisterButton; 
      _showLogoutButton = showLogoutButton;
      _showAcceptInviteButton = showAcceptButton;
      
      // WICHTIG: Alte Fehlermeldung zurÃ¼cksetzen!
      _errorMessage = null;
      
      _isLoading = false;
    });
  }

  // Neue Methode: World-Status fÃ¼r normale Navigation prÃ¼fen
  Future<void> _checkWorldStatus() async {
    if (_world == null) return;
    
    try {
      // PrÃ¼fe ob User bereits Mitglied ist
      _isJoined = await _worldService.isPlayerInWorld(_world!.id);
      
      // PrÃ¼fe Vorregistrierung
      final preRegStatus = await _worldService.getPreRegistrationStatus(_world!.id);
      _isPreRegistered = preRegStatus.isPreRegistered;
      
      AppLogger.app.d('âœ… World-Status geprÃ¼ft', error: {
        'worldName': _world!.name,
        'isJoined': _isJoined,
        'isPreRegistered': _isPreRegistered
      });
    } catch (e) {
      AppLogger.logError('Fehler beim PrÃ¼fen des World-Status', e);
    }
  }

  // Neue Methode: Automatische Invite-Akzeptierung
  Future<void> _autoAcceptInvite() async {
    if (widget.inviteToken == null) return;
    
    try {
      final result = await _worldService.acceptInvite(widget.inviteToken!);
      
      if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
    }
    
    final baseInfoText = 'Du wurdest von $inviterText eingeladen, der Welt "$worldName" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
```

**worldDasInviteWurde** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:384:66`
- ğŸ“ Original: `"! Das Invite wurde automatisch akzeptiert.';
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich der Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "${_world?.name}"! Das Invite wurde automatisch akzeptiert.';
        });
        
        if (mounted) {
```

**worldBackgroundcolorColorsorangeDuration** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:408:80`
- ğŸ“ Original: `"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
          );
        }
        return; // Erfolgreicher Exit
      }
      
      // Andere Fehler normal behandeln
      AppLogger.logError('Automatische Invite-Akzeptierung fehlgeschlagen', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = 'Du kannst nun der Welt beitreten.';
      });
    }
  }

  Future<void> _joinWorld() async {
    if (_world == null) return;

    setState(() {
      _isJoining = true;
      _joinError = null;
    });

    try {
      bool success = false;
      
      // **INVITE-TOKEN FLOW: Invite akzeptieren**
      if (widget.inviteToken != null) {
        AppLogger.app.i('ğŸ« Versuche Invite-Akzeptierung fÃ¼r World-Join');
        final inviteResult = await _worldService.acceptInvite(widget.inviteToken!);
        
        if (inviteResult != null) {
          success = true;
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': _world!.id,
            'worldName': _world!.name
          });
        }
      } else {
        // **NORMALE NAVIGATION: Standard World-Join**
        AppLogger.app.i('ğŸŒ Versuche normalen World-Join');
        success = await _worldService.joinWorld(_world!.id);
      }
      
      if (success) {
        setState(() {
          _isJoined = true;
        });
        
        if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "${_world?.name}"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
```

**worldErfolgreichDerWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:462:77`
- ğŸ“ Original: `"!'
            : 'Erfolgreich der Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
```

**worldBeigetretenScaffoldmessengerofcontextshowsnackbarSnackbar** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:463:53`
- ğŸ“ Original: `" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(message),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Beitritt fehlgeschlagen. Versuche es erneut.';
        });
      }
    } catch (e) {
      AppLogger.logError('World Join fehlgeschlagen', e, context: {
        'worldId': _world?.id,
        'worldName': _world?.name,
        'hasInviteToken': widget.inviteToken != null,
        'inviteToken': widget.inviteToken?.substring(0, 8)
      });
      
      setState(() {
        // Bessere Fehlermeldungen fÃ¼r verschiedene Szenarien
        if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
      });
    } finally {
      setState(() {
        _isJoining = false;
      });
    }
  }
  
  Future<void> _preRegisterWorld() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.preRegisterWorldAuthenticated(world.id);
      
      if (success) {
        setState(() {
          _isPreRegistered = true;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
              backgroundColor: Colors.green,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Fehler bei der Vorregistrierung';
        });
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _cancelPreRegistration() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.cancelPreRegistrationAuthenticated(world.id);
      if (success) {
        setState(() {
          _isPreRegistered = false;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
              backgroundColor: Colors.orange,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung';
        });
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _leaveWorld() async {
    final world = _world;
    if (world == null) return;
    
    // BestÃ¤tigungsdialog anzeigen
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
```

**worldInvitedetailsExtrahierenFinal** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:210:45`
- ğŸ“ Original: `']);
    
    // Invite-Details extrahieren
    final inviteData = tokenData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    
    // World aus Token-Daten laden
    _world = World.fromJson(tokenData['world']);
    
    // Invite-Details extrahieren
    final inviteData = tokenData['invite'];
```

**worldFinalWorldstatus_worldstatus** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:242:55`
- ğŸ“ Original: `';
    final worldStatus = _world?.status ?? WorldStatus.upcoming;
    final isUpcoming = worldStatus == WorldStatus.upcoming;
    
    // User-Status analysieren
    final userStatusData = tokenData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
isInviteValid = !isExpired && !isAccepted;
    
    // World-Details
    final worldName = _world?.name ?? 'Unbekannte Welt';
    final worldStatus = _world?.status ?? WorldStatus.upcoming;
    final isUpcoming = worldStatus == WorldStatus.upcoming;
```

**worldDuWurdestVon** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:281:26`
- ğŸ“ Original: `'Du wurdest von $inviterText eingeladen, der Welt "$worldName" $actionTypeText.$validityText'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
    }
    
    final baseInfoText = 'Du wurdest von $inviterText eingeladen, der Welt "$worldName" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
```

**worldErfolgreichDerWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:390:29`
- ğŸ“ Original: `'Erfolgreich der Welt "${_world!.name}" beigetreten!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich der Welt "${_world!.name}" beigetreten!'),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
```

**worldBackgroundcolorColorsorangeDuration** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:408:82`
- ğŸ“ Original: `'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
          );
        }
        return; // Erfolgreicher Exit
      }
      
      // Andere Fehler normal behandeln
      AppLogger.logError('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "${_world?.name}"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
```

**worldFinalInviteresultAwait** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:439:71`
- ğŸ“ Original: `');
        final inviteResult = await _worldService.acceptInvite(widget.inviteToken!);
        
        if (inviteResult != null) {
          success = true;
          AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// **INVITE-TOKEN FLOW: Invite akzeptieren**
      if (widget.inviteToken != null) {
        AppLogger.app.i('ğŸ« Versuche Invite-Akzeptierung fÃ¼r World-Join');
        final inviteResult = await _worldService.acceptInvite(widget.inviteToken!);
        
        if (inviteResult != null) {
```

**worldErfolgreichDerWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:463:15`
- ğŸ“ Original: `'Erfolgreich der Welt "${_world!.name}" beigetreten!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
```

**worldErfolgreichFÃ¼rWorldname** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:526:29`
- ğŸ“ Original: `'Erfolgreich fÃ¼r ${world.name} vorregistriert!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
              backgroundColor: Colors.green,
            ),
          );
```

**worldVorregistrierungFÃ¼rWorldname** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:568:29`
- ğŸ“ Original: `'Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
              backgroundColor: Colors.orange,
            ),
          );
```

**worldZurÃ¼ckZuDen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1111:45`
- ğŸ“ Original: `'ZurÃ¼ck zu den Welten'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
borderRadius: BorderRadius.circular(12),
                            ),
                          ),
                          child: const Text('ZurÃ¼ck zu den Welten'),
                        ),
                      ),
                    ],
```

**worldActiontypetextvaliditytextJeNach** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:281:87`
- ğŸ“ Original: `" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
      case 'not_logged_in':
        if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
          infoText = '$baseInfoText\n\n$actionText';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'user_exists_not_logged_in':
        if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'wrong_email':
        if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'correct_email':
        if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
          
          // Auto-Accept entfernt: User soll bewusst entscheiden!
        }
        break;
        
      default:
        AppLogger.app.w('âŒ Unbekannter User-Status: $status');
        actionText = 'Unbekannter Status: $status';
        infoText = '$baseInfoText\n\n$actionText';
    }
    
    // Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.';
    }
    
    setState(() {
      _infoMessage = infoText;
      _inviteEmail = inviteEmail;
      
      // Button-Flags setzen
      _showLoginButton = showLoginButton;
      _showRegistrationButton = showRegisterButton; 
      _showLogoutButton = showLogoutButton;
      _showAcceptInviteButton = showAcceptButton;
      
      // WICHTIG: Alte Fehlermeldung zurÃ¼cksetzen!
      _errorMessage = null;
      
      _isLoading = false;
    });
  }

  // Neue Methode: World-Status fÃ¼r normale Navigation prÃ¼fen
  Future<void> _checkWorldStatus() async {
    if (_world == null) return;
    
    try {
      // PrÃ¼fe ob User bereits Mitglied ist
      _isJoined = await _worldService.isPlayerInWorld(_world!.id);
      
      // PrÃ¼fe Vorregistrierung
      final preRegStatus = await _worldService.getPreRegistrationStatus(_world!.id);
      _isPreRegistered = preRegStatus.isPreRegistered;
      
      AppLogger.app.d('âœ… World-Status geprÃ¼ft', error: {
        'worldName': _world!.name,
        'isJoined': _isJoined,
        'isPreRegistered': _isPreRegistered
      });
    } catch (e) {
      AppLogger.logError('Fehler beim PrÃ¼fen des World-Status', e);
    }
  }

  // Neue Methode: Automatische Invite-Akzeptierung
  Future<void> _autoAcceptInvite() async {
    if (widget.inviteToken == null) return;
    
    try {
      final result = await _worldService.acceptInvite(widget.inviteToken!);
      
      if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
    }
    
    final baseInfoText = 'Du wurdest von $inviterText eingeladen, der Welt "$worldName" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
```

**worldDasInviteWurde** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:384:66`
- ğŸ“ Original: `"! Das Invite wurde automatisch akzeptiert.';
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich der Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "${_world?.name}"! Das Invite wurde automatisch akzeptiert.';
        });
        
        if (mounted) {
```

**worldIfMountedScaffoldmessengerofcontextshowsnackbar** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:402:80`
- ğŸ“ Original: `"!';
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Du bist bereits Mitglied dieser Welt "${_world?.name}"!';
        });
        
        if (mounted) {
```

**worldBackgroundcolorColorsorangeDuration** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:408:80`
- ğŸ“ Original: `"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
          );
        }
        return; // Erfolgreicher Exit
      }
      
      // Andere Fehler normal behandeln
      AppLogger.logError('Automatische Invite-Akzeptierung fehlgeschlagen', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = 'Du kannst nun der Welt beitreten.';
      });
    }
  }

  Future<void> _joinWorld() async {
    if (_world == null) return;

    setState(() {
      _isJoining = true;
      _joinError = null;
    });

    try {
      bool success = false;
      
      // **INVITE-TOKEN FLOW: Invite akzeptieren**
      if (widget.inviteToken != null) {
        AppLogger.app.i('ğŸ« Versuche Invite-Akzeptierung fÃ¼r World-Join');
        final inviteResult = await _worldService.acceptInvite(widget.inviteToken!);
        
        if (inviteResult != null) {
          success = true;
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': _world!.id,
            'worldName': _world!.name
          });
        }
      } else {
        // **NORMALE NAVIGATION: Standard World-Join**
        AppLogger.app.i('ğŸŒ Versuche normalen World-Join');
        success = await _worldService.joinWorld(_world!.id);
      }
      
      if (success) {
        setState(() {
          _isJoined = true;
        });
        
        if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "${_world?.name}"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
```

**worldErfolgreichDerWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:462:77`
- ğŸ“ Original: `"!'
            : 'Erfolgreich der Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
```

**worldBeigetretenScaffoldmessengerofcontextshowsnackbarSnackbar** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:463:53`
- ğŸ“ Original: `" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(message),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Beitritt fehlgeschlagen. Versuche es erneut.';
        });
      }
    } catch (e) {
      AppLogger.logError('World Join fehlgeschlagen', e, context: {
        'worldId': _world?.id,
        'worldName': _world?.name,
        'hasInviteToken': widget.inviteToken != null,
        'inviteToken': widget.inviteToken?.substring(0, 8)
      });
      
      setState(() {
        // Bessere Fehlermeldungen fÃ¼r verschiedene Szenarien
        if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
      });
    } finally {
      setState(() {
        _isJoining = false;
      });
    }
  }
  
  Future<void> _preRegisterWorld() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.preRegisterWorldAuthenticated(world.id);
      
      if (success) {
        setState(() {
          _isPreRegistered = true;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
              backgroundColor: Colors.green,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Fehler bei der Vorregistrierung';
        });
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _cancelPreRegistration() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.cancelPreRegistrationAuthenticated(world.id);
      if (success) {
        setState(() {
          _isPreRegistered = false;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
              backgroundColor: Colors.orange,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung';
        });
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _leaveWorld() async {
    final world = _world;
    if (world == null) return;
    
    // BestÃ¤tigungsdialog anzeigen
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
```

**worldUnbekannteWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:242:39`
- ğŸ“ Original: `'Unbekannte Welt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
isInviteValid = !isExpired && !isAccepted;
    
    // World-Details
    final worldName = _world?.name ?? 'Unbekannte Welt';
    final worldStatus = _world?.status ?? WorldStatus.upcoming;
    final isUpcoming = worldStatus == WorldStatus.upcoming;
```

**worldDuWurdestVon** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:281:26`
- ğŸ“ Original: `'Du wurdest von $inviterText eingeladen, der Welt "$worldName" $actionTypeText.$validityText'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
    }
    
    final baseInfoText = 'Du wurdest von $inviterText eingeladen, der Welt "$worldName" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
```

**worldWillkommenInDer** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:384:26`
- ğŸ“ Original: `'Willkommen in der Welt "${_world?.name}"! Das Invite wurde automatisch akzeptiert.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "${_world?.name}"! Das Invite wurde automatisch akzeptiert.';
        });
        
        if (mounted) {
```

**worldErfolgreichDerWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:390:29`
- ğŸ“ Original: `'Erfolgreich der Welt "${_world!.name}" beigetreten!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich der Welt "${_world!.name}" beigetreten!'),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
```

**worldDuBistBereits** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:402:26`
- ğŸ“ Original: `'Du bist bereits Mitglied dieser Welt "${_world?.name}"!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Du bist bereits Mitglied dieser Welt "${_world?.name}"!';
        });
        
        if (mounted) {
```

**worldDuBistBereits** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:408:29`
- ğŸ“ Original: `'Du bist bereits Mitglied der Welt "${_world?.name}"!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "${_world?.name}"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
```

**worldEinladungAkzeptiertWillkommen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:462:15`
- ğŸ“ Original: `'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
```

**worldErfolgreichDerWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:463:15`
- ğŸ“ Original: `'Erfolgreich der Welt "${_world!.name}" beigetreten!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
```

**worldWorldidtostringWeltstatusBestimmen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:655:60`
- ğŸ“ Original: `': world.id.toString()});
  }

  // Welt-Status bestimmen
  String _getWorldStatusText() {
    final world = _world;
    if (world == null) return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final world = _world;
    if (world == null) return;
    // Navigate directly to world dashboard for playing
    context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
  }

  // Welt-Status bestimmen
```

**worldReturnWorldstatustextWeltstatusfarbe** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:661:41`
- ğŸ“ Original: `';
    return world.statusText;
  }

  // Welt-Status-Farbe
  Color _getWorldStatusColor() {
    final world = _world;
    if (world == null) return Colors.grey;
    
    switch (world.status) {
      case WorldStatus.upcoming:
        return Colors.orange;
      case WorldStatus.open:
        return Colors.green;
      case WorldStatus.running:
        return Colors.blue;
      case WorldStatus.closed:
        return Colors.red;
      case WorldStatus.archived:
        return Colors.grey;
    }
  }

  // Kann der Benutzer beitreten?
  // Retry-Funktion
  Future<void> _retry() async {
    await _loadWorldData();
  }

  // Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Welt-Status bestimmen
  String _getWorldStatusText() {
    final world = _world;
    if (world == null) return 'Unbekannt';
    return world.statusText;
  }
```

**worldWeltNichtGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1084:25`
- ğŸ“ Original: `'Welt nicht gefunden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 24),
                      Text(
                        'Welt nicht gefunden',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
```

**worldDieAngeforderteWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1092:25`
- ğŸ“ Original: `'Die angeforderte Welt existiert nicht oder ist nicht verfÃ¼gbar.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        'Die angeforderte Welt existiert nicht oder ist nicht verfÃ¼gbar.',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

**worldZurÃ¼ckZuDen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1111:45`
- ğŸ“ Original: `'ZurÃ¼ck zu den Welten'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
borderRadius: BorderRadius.circular(12),
                            ),
                          ),
                          child: const Text('ZurÃ¼ck zu den Welten'),
                        ),
                      ),
                    ],
```

**worldUnbekannteWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1170:49`
- ğŸ“ Original: `'Unbekannte Welt'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
crossAxisAlignment: CrossAxisAlignment.start,
                            children: [
                              Text(
                                _world?.name ?? 'Unbekannte Welt',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.white,
                                  fontWeight: FontWeight.bold,
```

**worldÃœberDieseWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1339:17`
- ğŸ“ Original: `'Ãœber diese Welt'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Icon(Icons.info_outline, color: AppTheme.primaryColor, size: 24),
              SizedBox(width: 8),
              Text(
                'Ãœber diese Welt',
                style: TextStyle(
                  color: Colors.white,
                  fontSize: 18,
```

**worldDiesIstEine** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1350:13`
- ğŸ“ Original: `'Dies ist eine spannende Welt voller Abenteuer und Herausforderungen. '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
          const SizedBox(height: 16),
          Text(
            'Dies ist eine spannende Welt voller Abenteuer und Herausforderungen. '
            'Erkunde unbekannte Gebiete, schlieÃŸe Allianzen und werde zur Legende!',
            style: TextStyle(color: Colors.grey[300], height: 1.5),
          ),
```

**worldWeltid** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1356:26`
- ğŸ“ Original: `'Welt-ID'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
          const SizedBox(height: 24),
          _buildInfoCard('Kategorie', 'Standard', Icons.category),
          _buildInfoCard('Welt-ID', '#${_world?.id ?? 'N/A'}', Icons.tag),
          _buildInfoCard('Erstellt', _world?.createdAt.toString().split(' ')[0] ?? 'Unbekannt', Icons.access_time),
        ],
      ),
```

**worldRespektiereAndereSpieler** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1384:32`
- ğŸ“ Original: `'Respektiere andere Spieler'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
],
          ),
          const SizedBox(height: 16),
          _buildRuleItem('1.', 'Respektiere andere Spieler'),
          _buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
```

**worldFaireSpielweiseIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1386:32`
- ğŸ“ Original: `'Faire Spielweise ist Pflicht'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
const SizedBox(height: 16),
          _buildRuleItem('1.', 'Respektiere andere Spieler'),
          _buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
          _buildRuleItem('5.', 'Entscheidungen der Spielleitung sind final'),
        ],
```

**worldKommunikationNurIm** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1387:32`
- ğŸ“ Original: `'Kommunikation nur im Spielchat'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_buildRuleItem('1.', 'Respektiere andere Spieler'),
          _buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
          _buildRuleItem('5.', 'Entscheidungen der Spielleitung sind final'),
        ],
      ),
```

**worldWeltstatistiken** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1405:17`
- ğŸ“ Original: `'Welt-Statistiken'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Icon(Icons.bar_chart, color: AppTheme.primaryColor, size: 24),
              SizedBox(width: 8),
              Text(
                'Welt-Statistiken',
                style: TextStyle(
                  color: Colors.white,
                  fontSize: 18,
```

**worldDieseWeltIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1867:29`
- ğŸ“ Original: `'Diese Welt ist derzeit geschlossen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
                    Text(
                      world.status == WorldStatus.closed
                          ? 'Diese Welt ist derzeit geschlossen'
                          : 'Diese Welt ist archiviert',
                      style: TextStyle(
                        color: Colors.grey[700],
```

**worldDieseWeltIst** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1868:29`
- ğŸ“ Original: `'Diese Welt ist archiviert'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
                      world.status == WorldStatus.closed
                          ? 'Diese Welt ist derzeit geschlossen'
                          : 'Diese Welt ist archiviert',
                      style: TextStyle(
                        color: Colors.grey[700],
                        fontWeight: FontWeight.w500,
```

**worldClassWorldlistpageExtends** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:20:24`
- ğŸ“ Original: `';

class WorldListPage extends StatefulWidget {
  const WorldListPage({super.key});

  @override
  State<WorldListPage> createState() => _WorldListPageState();
}

class _WorldListPageState extends State<WorldListPage> {
  // DI-ready: ServiceLocator verwenden
  late final AuthService _authService;
  late final WorldService _worldService;
  late final InviteService _inviteService;
  
  List<World> _worlds = [];
  List<World> _filteredWorlds = [];
  bool _isLoading = true;
  String? _error;
  
  // Track button states for each world
  final Map<int, bool> _preRegisteredWorlds = {};
  final Map<int, bool> _joinedWorlds = {};
  
  // Filter und Sortierung
  WorldStatus? _statusFilter;
  WorldCategory? _categoryFilter;
  String _sortBy = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import './widgets/world_filters.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

class WorldListPage extends StatefulWidget {
  const WorldListPage({super.key});
```

**worldBool_sortascendingTrue** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:47:64`
- ğŸ“ Original: `'
  bool _sortAscending = true;
  
  // Spieleranzahl (Simulation - spÃ¤ter vom Backend)
  final Map<int, int> _playerCounts = {};

  @override
  void initState() {
    super.initState();
    
    // DI-ready: ServiceLocator verwenden mit robuster Fehlerbehandlung
    _initializeServices();
    _loadWorlds();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
      if (ServiceLocator.has<WorldService>()) {
        _worldService = ServiceLocator.get<WorldService>();
      } else {
        _worldService = WorldService();
      }
      
      if (ServiceLocator.has<InviteService>()) {
        _inviteService = ServiceLocator.get<InviteService>();
      } else {
        _inviteService = InviteService();
      }
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Filter und Sortierung
  WorldStatus? _statusFilter;
  WorldCategory? _categoryFilter;
  String _sortBy = 'startDate'; // 'startDate', 'name', 'status'
  bool _sortAscending = true;
  
  // Spieleranzahl (Simulation - spÃ¤ter vom Backend)
```

**worldErfolgreichZuWorldname** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:310:27`
- ğŸ“ Original: `'Erfolgreich zu ${world.name} beigetreten!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Erfolgreich zu ${world.name} beigetreten!'),
            backgroundColor: Colors.green,
          ),
        );
```

**worldWorlddashboard** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:315:25`
- ğŸ“ Original: `'world-dashboard'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
),
        );
        // Navigate to world dashboard
        context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
      }
    } catch (e) {
      if (mounted) {
```

**worldWorldidtostringCatchE** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:315:64`
- ğŸ“ Original: `': world.id.toString()});
      }
    } catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
),
        );
        // Navigate to world dashboard
        context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
      }
    } catch (e) {
      if (mounted) {
```

**worldBackgroundcolorColorsgreenCatch** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:350:73`
- ğŸ“ Original: `'),
            backgroundColor: Colors.green,
          ),
        );
      }
    } catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
            backgroundColor: Colors.green,
          ),
        );
```

**worldBackgroundcolorColorsorangeCatch** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:417:60`
- ğŸ“ Original: `'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

**worldBackgroundcolorColorsorangeCatch** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:456:77`
- ğŸ“ Original: `'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

**worldWorldidtostringVoid_playworldworld** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:527:55`
- ğŸ“ Original: `': world.id.toString()});
  }

  void _playWorld(World world) {
    // Navigate directly to world dashboard for playing
    context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Deep-Link zur World-Join-Page
  void _navigateToWorldJoin(World world) {
    context.goNamed('world-join', pathParameters: {'id': world.id.toString()});
  }

  void _playWorld(World world) {
```

**worldWorldidtostringFilterAnd** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:532:60`
- ğŸ“ Original: `': world.id.toString()});
  }

// Filter and sort methods removed - now using WorldFilters widget

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: BackgroundWidget(
        child: Stack(
          children: [
            // Main content
            Center(
              child: SingleChildScrollView(
                padding: const EdgeInsets.all(24.0),
                child: Center(
                  child: ConstrainedBox(
                    constraints: const BoxConstraints(maxWidth: 800),
                    child: Card(
                      elevation: 12,
                      color: const Color(0xFF1A1A1A), // Dunkle Karte
                      shape: RoundedRectangleBorder(
                        borderRadius: BorderRadius.circular(20),
                        side: BorderSide(
                          color: AppTheme.primaryColor.withOpacity(0.3),
                          width: 1,
                        ),
                      ),
                      child: Container(
                        decoration: BoxDecoration(
                          borderRadius: BorderRadius.circular(20),
                          gradient: const LinearGradient(
                            begin: Alignment.topLeft,
                            end: Alignment.bottomRight,
                            colors: [
                              Color(0xFF1A1A1A),
                              Color(0xFF2A2A2A),
                            ],
                          ),
                        ),
                        child: Padding(
                          padding: const EdgeInsets.all(32.0),
                          child: Column(
                            mainAxisSize: MainAxisSize.min,
                            children: [
                              // Logo
                              Container(
                                width: 80,
                                height: 80,
                                decoration: BoxDecoration(
                                  color: AppTheme.primaryColor.withOpacity(0.2),
                                  borderRadius: BorderRadius.circular(20),
                                  border: Border.all(
                                    color: AppTheme.primaryColor.withOpacity(0.5),
                                    width: 2,
                                  ),
                                ),
                                child: const Icon(
                                  Icons.public,
                                  size: 40,
                                  color: AppTheme.primaryColor,
                                ),
                              ),
                              const SizedBox(height: 24),
                              
                              // Title
                              Text(
                                '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void _playWorld(World world) {
    // Navigate directly to world dashboard for playing
    context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
  }

// Filter and sort methods removed - now using WorldFilters widget
```

**worldWÃ¤hleDeineWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:609:33`
- ğŸ“ Original: `'WÃ¤hle deine Welt aus'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Subtitle
                              Text(
                                'WÃ¤hle deine Welt aus',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.grey[300],
                                ),
```

**worldBool_sortascendingTrue** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:47:64`
- ğŸ“ Original: `'
  bool _sortAscending = true;
  
  // Spieleranzahl (Simulation - spÃ¤ter vom Backend)
  final Map<int, int> _playerCounts = {};

  @override
  void initState() {
    super.initState();
    
    // DI-ready: ServiceLocator verwenden mit robuster Fehlerbehandlung
    _initializeServices();
    _loadWorlds();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
      if (ServiceLocator.has<WorldService>()) {
        _worldService = ServiceLocator.get<WorldService>();
      } else {
        _worldService = WorldService();
      }
      
      if (ServiceLocator.has<InviteService>()) {
        _inviteService = ServiceLocator.get<InviteService>();
      } else {
        _inviteService = InviteService();
      }
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Filter und Sortierung
  WorldStatus? _statusFilter;
  WorldCategory? _categoryFilter;
  String _sortBy = 'startDate'; // 'startDate', 'name', 'status'
  bool _sortAscending = true;
  
  // Spieleranzahl (Simulation - spÃ¤ter vom Backend)
```

**worldErfolgreichZuWorldname** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:310:27`
- ğŸ“ Original: `'Erfolgreich zu ${world.name} beigetreten!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Erfolgreich zu ${world.name} beigetreten!'),
            backgroundColor: Colors.green,
          ),
        );
```

**worldWorldidtostringCatchE** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:315:64`
- ğŸ“ Original: `': world.id.toString()});
      }
    } catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
),
        );
        // Navigate to world dashboard
        context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
      }
    } catch (e) {
      if (mounted) {
```

**worldErfolgreichFÃ¼rWorldname** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:350:27`
- ğŸ“ Original: `'Erfolgreich fÃ¼r ${world.name} vorregistriert!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
            backgroundColor: Colors.green,
          ),
        );
```

**worldBackgroundcolorColorsorangeCatch** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:417:60`
- ğŸ“ Original: `'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

**worldVorregistrierungFÃ¼rWorldname** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:456:27`
- ğŸ“ Original: `'Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

**worldBool_sortascendingTrue** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:47:64`
- ğŸ“ Original: `'
  bool _sortAscending = true;
  
  // Spieleranzahl (Simulation - spÃ¤ter vom Backend)
  final Map<int, int> _playerCounts = {};

  @override
  void initState() {
    super.initState();
    
    // DI-ready: ServiceLocator verwenden mit robuster Fehlerbehandlung
    _initializeServices();
    _loadWorlds();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
      if (ServiceLocator.has<WorldService>()) {
        _worldService = ServiceLocator.get<WorldService>();
      } else {
        _worldService = WorldService();
      }
      
      if (ServiceLocator.has<InviteService>()) {
        _inviteService = ServiceLocator.get<InviteService>();
      } else {
        _inviteService = InviteService();
      }
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Filter und Sortierung
  WorldStatus? _statusFilter;
  WorldCategory? _categoryFilter;
  String _sortBy = 'startDate'; // 'startDate', 'name', 'status'
  bool _sortAscending = true;
  
  // Spieleranzahl (Simulation - spÃ¤ter vom Backend)
```

**worldWÃ¤hleDeineWelt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:609:33`
- ğŸ“ Original: `'WÃ¤hle deine Welt aus'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Subtitle
                              Text(
                                'WÃ¤hle deine Welt aus',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.grey[300],
                                ),
```

**worldKeineWeltenGefunden** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:723:41`
- ğŸ“ Original: `'Keine Welten gefunden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      const SizedBox(height: 16),
                                      Text(
                                        'Keine Welten gefunden',
                                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                          color: Colors.grey[300],
                                        ),
```

**worldEinladungFÃ¼rWidgetworldname** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:58:9`
- ğŸ“ Original: `'Einladung fÃ¼r ${widget.worldName}'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
),
      ),
      title: Text(
        'Einladung fÃ¼r ${widget.worldName}',
        style: const TextStyle(
          color: Colors.white,
          fontWeight: FontWeight.bold,
```

**worldGebenSieIhre** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:90:15`
- ğŸ“ Original: `'Geben Sie Ihre E-Mail-Adresse ein, um sich fÃ¼r diese Welt vorzuregistrieren:'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisSize: MainAxisSize.min,
          children: [
            Text(
              'Geben Sie Ihre E-Mail-Adresse ein, um sich fÃ¼r diese Welt vorzuregistrieren:',
              style: TextStyle(
                color: Colors.grey[300],
              ),
```

**worldVorregistrierungFÃ¼rWidgetworldname** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:78:9`
- ğŸ“ Original: `'Vorregistrierung fÃ¼r ${widget.worldName}'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
),
      ),
      title: Text(
        'Vorregistrierung fÃ¼r ${widget.worldName}',
        style: const TextStyle(
          color: Colors.white,
          fontWeight: FontWeight.bold,
```

**worldGebenSieIhre** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:90:15`
- ğŸ“ Original: `'Geben Sie Ihre E-Mail-Adresse ein, um sich fÃ¼r diese Welt vorzuregistrieren:'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisSize: MainAxisSize.min,
          children: [
            Text(
              'Geben Sie Ihre E-Mail-Adresse ein, um sich fÃ¼r diese Welt vorzuregistrieren:',
              style: TextStyle(
                color: Colors.grey[300],
              ),
```

### ğŸ·ï¸ FORM

**formReturnPartslength3** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\core\services\auth_service.dart:151:35`
- ğŸ“ Original: `');
      return parts.length == 3;
    } catch (e) {
      return false;
    }
  }

  // Token-Ablaufzeit extrahieren
  DateTime? _getTokenExpiration(String token) {
    try {
      final parts = token.split('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// JWT-Token Format validieren
  bool _isValidJWT(String token) {
    try {
      final parts = token.split('.');
      return parts.length == 3;
    } catch (e) {
      return false;
```

**formLabelstyleTextstylecolorColorsgrey400** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:199:61`
- ğŸ“ Original: `',
                                  labelStyle: TextStyle(color: Colors.grey[400]),
                                  prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                                  filled: true,
                                  fillColor: const Color(0xFF2D2D2D),
                                  border: OutlineInputBorder(
                                    borderRadius: BorderRadius.circular(12),
                                    borderSide: BorderSide(color: Colors.grey[600]!),
                                  ),
                                  enabledBorder: OutlineInputBorder(
                                    borderRadius: BorderRadius.circular(12),
                                    borderSide: BorderSide(color: Colors.grey[600]!),
                                  ),
                                  focusedBorder: OutlineInputBorder(
                                    borderRadius: BorderRadius.circular(12),
                                    borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                  ),
                                  errorBorder: OutlineInputBorder(
                                    borderRadius: BorderRadius.circular(12),
                                    borderSide: BorderSide(color: Colors.red[400]!),
                                  ),
                                  focusedErrorBorder: OutlineInputBorder(
                                    borderRadius: BorderRadius.circular(12),
                                    borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                  ),
                                ),
                                validator: (value) {
                                  if (value == null || value.trim().isEmpty) {
                                    return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
textInputAction: TextInputAction.done,
                                onFieldSubmitted: (_) => _isLoading ? null : _requestPasswordReset(),
                                decoration: InputDecoration(
                                  labelText: 'E-Mail-Adresse',
                                  labelStyle: TextStyle(color: Colors.grey[400]),
                                  prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                                  filled: true,
```

**formBitteGibDeine** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:227:44`
- ğŸ“ Original: `'Bitte gib deine E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                                validator: (value) {
                                  if (value == null || value.trim().isEmpty) {
                                    return 'Bitte gib deine E-Mail-Adresse ein';
                                  }
                                  if (!_emailRegex.hasMatch(value.trim())) {
                                    return 'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein';
```

**formLabelstyleTextstylecolorColorsgrey400** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:257:63`
- ğŸ“ Original: `',
                                      labelStyle: TextStyle(color: Colors.grey[400]),
                                      prefixIcon: const Icon(Icons.person, color: AppTheme.primaryColor),
                                      filled: true,
                                      fillColor: const Color(0xFF2D2D2D),
                                      border: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.grey[600]!),
                                      ),
                                      enabledBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.grey[600]!),
                                      ),
                                      focusedBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                      ),
                                      errorBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.red[400]!),
                                      ),
                                      focusedErrorBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                      ),
                                    ),
                                    validator: (value) {
                                      if (value == null || value.trim().isEmpty) {
                                        return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
                                    },
                                    decoration: InputDecoration(
                                      labelText: 'Benutzername',
                                      labelStyle: TextStyle(color: Colors.grey[400]),
                                      prefixIcon: const Icon(Icons.person, color: AppTheme.primaryColor),
                                      filled: true,
```

**formBitteGibDeinen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:285:48`
- ğŸ“ Original: `'Bitte gib deinen Benutzernamen ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                                    validator: (value) {
                                      if (value == null || value.trim().isEmpty) {
                                        return 'Bitte gib deinen Benutzernamen ein';
                                      }
                                      if (value.trim().length < 3) {
                                        return 'Benutzername muss mindestens 3 Zeichen lang sein';
```

**formBitteGibDein** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:350:48`
- ğŸ“ Original: `'Bitte gib dein Passwort ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                                    validator: (value) {
                                      if (value == null || value.isEmpty) {
                                        return 'Bitte gib dein Passwort ein';
                                      }
                                      if (_hasInteractedWithPassword && value.length < 6) {
                                        return 'Passwort muss mindestens 6 Zeichen lang sein';
```

**formLabelstyleTextstylecolorColorsgrey400** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:276:57`
- ğŸ“ Original: `',
                                labelStyle: TextStyle(color: Colors.grey[400]),
                                prefixIcon: const Icon(Icons.person, color: AppTheme.primaryColor),
                                filled: true,
                                fillColor: const Color(0xFF2D2D2D),
                                border: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.grey[600]!),
                                ),
                                enabledBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.grey[600]!),
                                ),
                                focusedBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                ),
                                errorBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.red[400]!),
                                ),
                                focusedErrorBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                ),
                              ),
                              validator: (value) {
                                if (value == null || value.trim().isEmpty) {
                                  return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
controller: _usernameController,
                              style: const TextStyle(color: Colors.white),
                              decoration: InputDecoration(
                                labelText: 'Benutzername',
                                labelStyle: TextStyle(color: Colors.grey[400]),
                                prefixIcon: const Icon(Icons.person, color: AppTheme.primaryColor),
                                filled: true,
```

**formLabelstyleTextstylecolorColorsgrey400** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\register_page.dart:323:51`
- ğŸ“ Original: `',
                                labelStyle: TextStyle(color: Colors.grey[400]),
                                prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                                filled: true,
                                fillColor: const Color(0xFF2D2D2D),
                                border: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.grey[600]!),
                                ),
                                enabledBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.grey[600]!),
                                ),
                                focusedBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                ),
                                errorBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.red[400]!),
                                ),
                                focusedErrorBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                ),
                              ),
                              validator: (value) {
                                if (value == null || value.trim().isEmpty) {
                                  return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
controller: _emailController,
                              style: const TextStyle(color: Colors.white),
                              decoration: InputDecoration(
                                labelText: 'E-Mail',
                                labelStyle: TextStyle(color: Colors.grey[400]),
                                prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                                filled: true,
```

**formBitteGibEin** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:288:46`
- ğŸ“ Original: `'Bitte gib ein neues Passwort ein'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                  validator: (value) {
                                    if (value == null || value.isEmpty) {
                                      return 'Bitte gib ein neues Passwort ein';
                                    }
                                    if (value.length < 6) {
                                      return 'Passwort muss mindestens 6 Zeichen lang sein';
```

**formDiePasswÃ¶rterStimmen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:358:46`
- ğŸ“ Original: `'Die PasswÃ¶rter stimmen nicht Ã¼berein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Bitte bestÃ¤tige dein neues Passwort';
                                    }
                                    if (value != _passwordController.text) {
                                      return 'Die PasswÃ¶rter stimmen nicht Ã¼berein';
                                    }
                                    return null;
                                  },
```

**formKeineLeerzeichen** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:388:57`
- ğŸ“ Original: `'Keine Leerzeichen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
                                      _buildRequirement('Mindestens 6 Zeichen', 
                                        _passwordController.text.length >= 6),
                                      _buildRequirement('Keine Leerzeichen', 
                                        !_passwordController.text.contains(' ')),
                                      _buildRequirement('PasswÃ¶rter stimmen Ã¼berein', 
                                        _passwordController.text.isNotEmpty &&
```

**formPasswÃ¶rterStimmenÃœberein** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:390:57`
- ğŸ“ Original: `'PasswÃ¶rter stimmen Ã¼berein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_passwordController.text.length >= 6),
                                      _buildRequirement('Keine Leerzeichen', 
                                        !_passwordController.text.contains(' ')),
                                      _buildRequirement('PasswÃ¶rter stimmen Ã¼berein', 
                                        _passwordController.text.isNotEmpty && 
                                        _passwordController.text == _confirmPasswordController.text),
                                    ],
```

**formBitteGibEin** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:288:46`
- ğŸ“ Original: `'Bitte gib ein neues Passwort ein'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                  validator: (value) {
                                    if (value == null || value.isEmpty) {
                                      return 'Bitte gib ein neues Passwort ein';
                                    }
                                    if (value.length < 6) {
                                      return 'Passwort muss mindestens 6 Zeichen lang sein';
```

**formBitteBestÃ¤tigeDein** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:355:46`
- ğŸ“ Original: `'Bitte bestÃ¤tige dein neues Passwort'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                                  validator: (value) {
                                    if (value == null || value.isEmpty) {
                                      return 'Bitte bestÃ¤tige dein neues Passwort';
                                    }
                                    if (value != _passwordController.text) {
                                      return 'Die PasswÃ¶rter stimmen nicht Ã¼berein';
```

**form_passwordcontrollertextisnotempty_passwordcontrollertext_confirmpasswordcontrollertext** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:390:84`
- ğŸ“ Original: `', 
                                        _passwordController.text.isNotEmpty && 
                                        _passwordController.text == _confirmPasswordController.text),
                                    ],
                                  ),
                                ),
                                const SizedBox(height: 16),
                              ],
                              
                              // Error message
                              if (_errorMessage != null)
                                Container(
                                  width: double.infinity,
                                  padding: const EdgeInsets.all(12),
                                  margin: const EdgeInsets.only(bottom: 16),
                                  decoration: BoxDecoration(
                                    color: Colors.red[900]!.withOpacity(0.3),
                                    borderRadius: BorderRadius.circular(8),
                                    border: Border.all(color: Colors.red[400]!.withOpacity(0.5)),
                                  ),
                                  child: Row(
                                    children: [
                                      Icon(Icons.error_outline, color: Colors.red[400], size: 20),
                                      const SizedBox(width: 8),
                                      Expanded(
                                        child: Text(
                                          _errorMessage!,
                                          style: TextStyle(color: Colors.red[200], fontSize: 14),
                                        ),
                                      ),
                                    ],
                                  ),
                                ),
                              
                              // Submit button
                              if (!_isSuccess)
                                SizedBox(
                                  width: double.infinity,
                                  height: 56,
                                  child: ElevatedButton(
                                    onPressed: _isLoading ? null : _resetPassword,
                                    style: ElevatedButton.styleFrom(
                                      backgroundColor: AppTheme.primaryColor,
                                      foregroundColor: Colors.white,
                                      shape: RoundedRectangleBorder(
                                        borderRadius: BorderRadius.circular(12),
                                      ),
                                      elevation: 8,
                                      shadowColor: AppTheme.primaryColor.withOpacity(0.5),
                                    ),
                                    child: _isLoading
                                        ? const SizedBox(
                                            height: 20,
                                            width: 20,
                                            child: CircularProgressIndicator(
                                              strokeWidth: 2,
                                              valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                                            ),
                                          )
                                        : const Text(
                                            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_passwordController.text.length >= 6),
                                      _buildRequirement('Keine Leerzeichen', 
                                        !_passwordController.text.contains(' ')),
                                      _buildRequirement('PasswÃ¶rter stimmen Ã¼berein', 
                                        _passwordController.text.isNotEmpty && 
                                        _passwordController.text == _confirmPasswordController.text),
                                    ],
```

**formClassWorldlistcontrollerExtends** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:8:35`
- ğŸ“ Original: `';

class WorldListController extends ChangeNotifier {
  final WorldService _worldService;
  final InviteService _inviteService;

  // State
  List<World> _worlds = [];
  List<World> _filteredWorlds = [];
  final Map<int, int> _playerCounts = {};
  final Map<int, bool> _preRegisteredWorlds = {};
  final Map<int, bool> _joinedWorlds = {};
  bool _isLoading = false;
  String? _error;

  // Filters & Sorting
  WorldStatus? _statusFilter;
  WorldCategory? _categoryFilter;
  String _sortBy = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../../core/services/world_service.dart';
import '../../../core/services/auth_service.dart';
import '../../../core/services/invite_service.dart';
import '../widgets/world_card.dart';

class WorldListController extends ChangeNotifier {
  final WorldService _worldService;
```

**formKeineInformationVerfÃ¼gbar** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1007:41`
- ğŸ“ Original: `'Keine Information verfÃ¼gbar'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        _infoMessage ?? 'Keine Information verfÃ¼gbar',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

**formStyleThemeofcontexttextthemebodylargecopywithColor** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1007:69`
- ğŸ“ Original: `',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // **NEUE INTELLIGENTE BUTTONS**
                      _buildActionButtons(),
                      
                      // **INVITE-FLOWS: Kein "ZurÃ¼ck"-Link (User kommt von externem Link)**
                      if (widget.inviteToken == null) ...[
                        const SizedBox(height: 16),
                        TextButton(
                          onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        _infoMessage ?? 'Keine Information verfÃ¼gbar',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

**formLabelstyleTextstylecolorColorsgrey400** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:82:43`
- ğŸ“ Original: `',
                labelStyle: TextStyle(color: Colors.grey[400]),
                prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                filled: true,
                fillColor: const Color(0xFF2D2D2D),
                border: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: BorderSide(color: Colors.grey[600]!),
                ),
                enabledBorder: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: BorderSide(color: Colors.grey[600]!),
                ),
                focusedBorder: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: const BorderSide(color: AppTheme.primaryColor),
                ),
                errorBorder: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: BorderSide(color: Colors.red[400]!),
                ),
              ),
              validator: (value) {
                if (value == null || value.isEmpty) {
                  return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
keyboardType: TextInputType.emailAddress,
              style: const TextStyle(color: Colors.white), // WeiÃŸe Schrift
              decoration: InputDecoration(
                labelText: 'E-Mail-Adresse',
                labelStyle: TextStyle(color: Colors.grey[400]),
                prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                filled: true,
```

**formLabelstyleTextstylecolorColorsgrey400** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:101:43`
- ğŸ“ Original: `',
                labelStyle: TextStyle(color: Colors.grey[400]),
                prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                filled: true,
                fillColor: const Color(0xFF2D2D2D),
                border: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: BorderSide(color: Colors.grey[600]!),
                ),
                enabledBorder: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: BorderSide(color: Colors.grey[600]!),
                ),
                focusedBorder: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: const BorderSide(color: AppTheme.primaryColor),
                ),
                errorBorder: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: BorderSide(color: Colors.red[400]!),
                ),
              ),
              validator: (value) {
                if (value == null || value.isEmpty) {
                  return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
keyboardType: TextInputType.emailAddress,
              style: const TextStyle(color: Colors.white), // WeiÃŸe Schrift
              decoration: InputDecoration(
                labelText: 'E-Mail-Adresse',
                labelStyle: TextStyle(color: Colors.grey[400]),
                prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                filled: true,
```

### ğŸ·ï¸ NAVIGATION

**navigationThemebackground_widgetdart** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:5:8`
- ğŸ“ Original: `'../../theme/background_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';

class ForgotPasswordPage extends StatefulWidget {
  const ForgotPasswordPage({super.key});
```

**navigationAsMapstringString** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:120:51`
- ğŸ“ Original: `'] as Map<String, String>?;
            
            if (params != null) {
              context.goNamed(routeName, pathParameters: params);
            } else {
              context.goNamed(routeName);
            }
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Redirect zur ursprÃ¼nglichen Invite-Seite
            final routeName = pendingRedirect['route'] as String;
            final params = pendingRedirect['params'] as Map<String, String>?;
            
            if (params != null) {
              context.goNamed(routeName, pathParameters: params);
```

**navigationAsMapstringString** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\login_page.dart:120:51`
- ğŸ“ Original: `'] as Map<String, String>?;
            
            if (params != null) {
              context.goNamed(routeName, pathParameters: params);
            } else {
              context.goNamed(routeName);
            }
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Redirect zur ursprÃ¼nglichen Invite-Seite
            final routeName = pendingRedirect['route'] as String;
            final params = pendingRedirect['params'] as Map<String, String>?;
            
            if (params != null) {
              context.goNamed(routeName, pathParameters: params);
```

**navigationThemebackground_widgetdart** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:5:8`
- ğŸ“ Original: `'../../theme/background_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';

class ResetPasswordPage extends StatefulWidget {
  final String token;
```

**navigationClassResetpasswordpageExtends** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\auth\reset_password_page.dart:5:43`
- ğŸ“ Original: `';

class ResetPasswordPage extends StatefulWidget {
  final String token;
  
  const ResetPasswordPage({
    super.key,
    required this.token,
  });

  @override
  State<ResetPasswordPage> createState() => _ResetPasswordPageState();
}

class _ResetPasswordPageState extends State<ResetPasswordPage> with SingleTickerProviderStateMixin {
  final _formKey = GlobalKey<FormState>();
  final _passwordController = TextEditingController();
  final _confirmPasswordController = TextEditingController();
  final AuthService _authService = AuthService();
  
  late AnimationController _animationController;
  late Animation<double> _fadeAnimation;
  
  bool _isLoading = false;
  bool _isSuccess = false;
  String? _errorMessage;
  bool _obscurePassword = true;
  bool _obscureConfirmPassword = true;
  
  // FÃ¼r bessere Validierung
  bool _hasInteractedWithPassword = false;
  bool _hasInteractedWithConfirmPassword = false;

  @override
  void initState() {
    super.initState();
    
    // Animation Setup
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 800),
      vsync: this,
    );
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeIn,
    ));
    
    _animationController.forward();
  }

  @override
  void dispose() {
    _animationController.dispose();
    _passwordController.dispose();
    _confirmPasswordController.dispose();
    super.dispose();
  }

  Future<void> _resetPassword() async {
    if (!_formKey.currentState!.validate()) {
      return;
    }

    setState(() {
      _isLoading = true;
      _errorMessage = null;
      _isSuccess = false;
    });

    try {
      final success = await _authService.resetPassword(
        widget.token,
        _passwordController.text,
      );

      if (success && mounted) {
        setState(() {
          _isSuccess = true;
        });
        
        // Erfolgsmeldung zeigen und nach 3 Sekunden zum Login
        await Future.delayed(const Duration(seconds: 3));
        if (mounted) {
          context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';

class ResetPasswordPage extends StatefulWidget {
  final String token;
```

**navigationPackageflutterfoundationdart** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:2:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/models/world.dart';
```

**navigationThemebackground_widgetdart** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:10:8`
- ğŸ“ Original: `'../../theme/background_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../core/services/auth_service.dart';
import '../../core/services/api_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';
```

**navigationServicelocatorImportFÃ¼r** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:12:52`
- ğŸ“ Original: `';

// ServiceLocator Import fÃ¼r DI
import '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';
```

**navigationFlowtypeenumFÃ¼rKlare** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:15:24`
- ğŸ“ Original: `';

// Flow-Type-Enum fÃ¼r klare Trennung der beiden User-Journeys
enum WorldJoinFlowType {
  normal,   // Normale Navigation: User kommt von World-List
  invite,   // Invite-Flow: User kommt Ã¼ber externen Link
}

class WorldJoinPage extends StatefulWidget {
  final String? worldId;
  final String? inviteToken;
  final WorldJoinFlowType flowType;
  
  const WorldJoinPage({
    super.key, 
    this.worldId, 
    this.inviteToken,
    required this.flowType,
  });

  @override
  State<WorldJoinPage> createState() => _WorldJoinPageState();
}

class _WorldJoinPageState extends State<WorldJoinPage> with SingleTickerProviderStateMixin {
  // DI-ready: ServiceLocator verwenden
  late final WorldService _worldService;
  late final AuthService _authService;
  
  // Tab Controller
  late TabController _tabController;
  
  bool _isLoading = false;
  bool _isJoining = false;
  bool _isPreRegistering = false;
  bool _isAuthenticated = false;
  bool _isJoined = false;
  bool _isPreRegistered = false;
  World? _world;
  String? _errorMessage;
  String? _infoMessage;
  String? _joinError;
  bool _showRegistrationButton = false;
  bool _showLogoutButton = false;
  String? _inviteEmail;
  bool _showLoginButton = false;
  bool _showAcceptInviteButton = false;
  bool isInviteValid = true; // Neue Variable fÃ¼r GÃ¼ltigkeit der Einladung

  @override
  void initState() {
    super.initState();
    
    _tabController = TabController(length: 1, vsync: this);
    _initializeServices();
    _loadWorldData();
  }
  
  @override
  void dispose() {
    _tabController.dispose();
    super.dispose();
  }

  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    // Authentication-Status bei Kontext-Ã„nderungen prÃ¼fen
    _checkAuthenticationStatus();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<WorldService>()) {
        _worldService = ServiceLocator.get<WorldService>();
      } else {
        _worldService = WorldService();
      }
      
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
      // Authentication-Status prÃ¼fen
      _checkAuthenticationStatus();
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../shared/widgets/navigation_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

// Flow-Type-Enum fÃ¼r klare Trennung der beiden User-Journeys
enum WorldJoinFlowType {
```

**navigationWidgetinvitetokenNavigationZu** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:699:80`
- ğŸ“ Original: `': widget.inviteToken});
  }

  // Navigation zu Login 
  void _navigateToLogin(String email) {
    AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('register', queryParameters: {'email': email, 'invite_token': widget.inviteToken});
  }

  // Navigation zu Login
```

**navigationWidgetworldidIsjoinedworld_isjoined** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:778:34`
- ğŸ“ Original: `': widget.worldId},
                isJoinedWorld: _isJoined,
              ),
          ],
        ),
      ),
    );
  }

  Widget _buildErrorState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.error_outline,
                        size: 80,
                        color: Colors.red[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (_isAuthenticated)
              NavigationWidget(
                currentRoute: 'world-join',
                routeParams: {'id': widget.worldId},
                isJoinedWorld: _isJoined,
              ),
          ],
```

**navigationFlowtypeenumFÃ¼rKlare** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:15:24`
- ğŸ“ Original: `';

// Flow-Type-Enum fÃ¼r klare Trennung der beiden User-Journeys
enum WorldJoinFlowType {
  normal,   // Normale Navigation: User kommt von World-List
  invite,   // Invite-Flow: User kommt Ã¼ber externen Link
}

class WorldJoinPage extends StatefulWidget {
  final String? worldId;
  final String? inviteToken;
  final WorldJoinFlowType flowType;
  
  const WorldJoinPage({
    super.key, 
    this.worldId, 
    this.inviteToken,
    required this.flowType,
  });

  @override
  State<WorldJoinPage> createState() => _WorldJoinPageState();
}

class _WorldJoinPageState extends State<WorldJoinPage> with SingleTickerProviderStateMixin {
  // DI-ready: ServiceLocator verwenden
  late final WorldService _worldService;
  late final AuthService _authService;
  
  // Tab Controller
  late TabController _tabController;
  
  bool _isLoading = false;
  bool _isJoining = false;
  bool _isPreRegistering = false;
  bool _isAuthenticated = false;
  bool _isJoined = false;
  bool _isPreRegistered = false;
  World? _world;
  String? _errorMessage;
  String? _infoMessage;
  String? _joinError;
  bool _showRegistrationButton = false;
  bool _showLogoutButton = false;
  String? _inviteEmail;
  bool _showLoginButton = false;
  bool _showAcceptInviteButton = false;
  bool isInviteValid = true; // Neue Variable fÃ¼r GÃ¼ltigkeit der Einladung

  @override
  void initState() {
    super.initState();
    
    _tabController = TabController(length: 1, vsync: this);
    _initializeServices();
    _loadWorldData();
  }
  
  @override
  void dispose() {
    _tabController.dispose();
    super.dispose();
  }

  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    // Authentication-Status bei Kontext-Ã„nderungen prÃ¼fen
    _checkAuthenticationStatus();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<WorldService>()) {
        _worldService = ServiceLocator.get<WorldService>();
      } else {
        _worldService = WorldService();
      }
      
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
      // Authentication-Status prÃ¼fen
      _checkAuthenticationStatus();
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../shared/widgets/navigation_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

// Flow-Type-Enum fÃ¼r klare Trennung der beiden User-Journeys
enum WorldJoinFlowType {
```

**navigationSuccessAwait_worldservicejoinworld_worldid** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:451:56`
- ğŸ“ Original: `');
        success = await _worldService.joinWorld(_world!.id);
      }
      
      if (success) {
        setState(() {
          _isJoined = true;
        });
        
        if (mounted) {
          final message = widget.inviteToken != null 
            ? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      } else {
        // **NORMALE NAVIGATION: Standard World-Join**
        AppLogger.app.i('ğŸŒ Versuche normalen World-Join');
        success = await _worldService.joinWorld(_world!.id);
      }
```

**navigationPackageflutterfoundationdart** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:2:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
```

**navigationServicelocatorImportFÃ¼r** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:17:37`
- ğŸ“ Original: `';

// ServiceLocator Import fÃ¼r DI
import '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';
import './widgets/world_card.dart';
import './widgets/world_filters.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';
```

**navigationAwait_authservicelogoutCache** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:135:81`
- ğŸ“ Original: `')) {
            await _authService.logout();
            // Cache invalidieren nach Logout
            AppRouter.invalidateAuthCache();
            if (mounted) {
              context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
          
          // If token is invalid, redirect to login
          if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
            await _authService.logout();
            // Cache invalidieren nach Logout
            AppRouter.invalidateAuthCache();
```

**navigationVoid_generatemockplayercountsFinal** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:140:37`
- ğŸ“ Original: `');
            }
          }
        }
      }
    }
  }

  void _generateMockPlayerCounts() {
    final random = DateTime.now().millisecondsSinceEpoch;
    for (final world in _worlds) {
      // Generate realistic player counts based on world status
      int baseCount = 0;
      switch (world.status) {
        case WorldStatus.upcoming:
          baseCount = 5 + (random % 15); // 5-20 players
          break;
        case WorldStatus.open:
          baseCount = 20 + (random % 30); // 20-50 players
          break;
        case WorldStatus.running:
          baseCount = 50 + (random % 100); // 50-150 players
          break;
        case WorldStatus.closed:
        case WorldStatus.archived:
          baseCount = 0 + (random % 10); // 0-10 players
          break;
      }
      _playerCounts[world.id] = baseCount;
    }
  }

  void _applyFiltersAndSorting() {
    List<World> filtered = List.from(_worlds);
    
    // Apply status filter
    if (_statusFilter != null) {
      filtered = filtered.where((world) => world.status == _statusFilter).toList();
    }
    
    // Apply category filter (mock implementation)
    if (_categoryFilter != null) {
      // In real app, this would be based on world.category field
      // For now, we'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Cache invalidieren nach Logout
            AppRouter.invalidateAuthCache();
            if (mounted) {
              context.goNamed('login');
            }
          }
        }
```

**navigationAwait_authservicelogoutCache** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:320:79`
- ğŸ“ Original: `')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
          if (mounted) {
            context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
```

**navigationAwait_authservicelogoutCache** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:358:79`
- ğŸ“ Original: `')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
          if (mounted) {
            context.goNamed('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
```

**navigationAwait_authservicelogoutCache** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:425:79`
- ğŸ“ Original: `')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
          if (mounted) {
            context.goNamed('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
```

**navigationAwait_authservicelogoutCache** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:464:79`
- ğŸ“ Original: `')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
          if (mounted) {
            context.goNamed('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
```

**navigationAwait_authservicelogoutCache** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:504:81`
- ğŸ“ Original: `')) {
            await _authService.logout();
            // Cache invalidieren nach Logout
            AppRouter.invalidateAuthCache();
            if (mounted) {
              context.goNamed('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
} catch (e) {
        if (mounted) {
          // PrÃ¼fe ob es ein Token-Problem ist
          if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
            await _authService.logout();
            // Cache invalidieren nach Logout
            AppRouter.invalidateAuthCache();
```

**navigationTokenFehlt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:135:69`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
          
          // If token is invalid, redirect to login
          if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
            await _authService.logout();
            // Cache invalidieren nach Logout
            AppRouter.invalidateAuthCache();
```

**navigationTokenFehlt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:320:67`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
```

**navigationTokenFehlt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:358:67`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
```

**navigationTokenFehlt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:425:67`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
```

**navigationTokenFehlt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:464:67`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
```

**navigationTokenFehlt** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_list_page.dart:504:69`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
} catch (e) {
        if (mounted) {
          // PrÃ¼fe ob es ein Token-Problem ist
          if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
            await _authService.logout();
            // Cache invalidieren nach Logout
            AppRouter.invalidateAuthCache();
```

### ğŸ·ï¸ UI

**uiStyleTextstylefontsize16** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1616:24`
- ğŸ“ Original: `',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
        ),
      );
    }

    // **REGISTRATION BUTTON**
    if (_showRegistrationButton && _inviteEmail != null) {
      buttons.add(
        Container(
          width: double.infinity,
          margin: const EdgeInsets.only(bottom: 12.0),
          child: ElevatedButton(
            onPressed: () {
              // Redirect auf Register-Seite mit E-Mail vorausgefÃ¼llt
              final registerRoute = '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
            ),
            child: const Text(
              'Anmelden',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
```

**uiStyleTextstylefontsize16** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1649:28`
- ğŸ“ Original: `',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
        ),
      );
    }

    // **ACCEPT INVITE BUTTON (wenn User korrekt angemeldet)**
    if (_showAcceptInviteButton && widget.inviteToken != null) {
      buttons.add(
        Container(
          width: double.infinity,
          margin: const EdgeInsets.only(bottom: 12.0),
          child: ElevatedButton(
            onPressed: _isJoining || !isInviteValid ? null : () => _joinWorld(),
            style: ElevatedButton.styleFrom(
              backgroundColor: Colors.green[600],
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: _isJoining
                ? const SizedBox(
                    height: 20,
                    width: 20,
                    child: CircularProgressIndicator(
                      strokeWidth: 2,
                      valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                    ),
                  )
                : const Text(
                    '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
            ),
            child: const Text(
              'Registrieren',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
```

**uiStyleTextstylefontsize16** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1714:24`
- ğŸ“ Original: `',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
        ),
      );
    }

    // FALLBACK: Normale World-Join-Buttons wenn keine spezifischen Buttons
    if (buttons.isEmpty) {
      // **NORMALE WORLD-JOIN LOGIC** (wenn kein Invite-Token)
      if (widget.inviteToken == null && _world != null) {
        final world = _world!;
        
        // **STATUS-BASIERTE INTELLIGENTE BUTTON-LOGIK**
        switch (world.status) {
          case WorldStatus.upcoming:
            // Vorregistrierung oder ZurÃ¼ckziehen
            if (_isPreRegistered) {
              buttons.add(
                Container(
                  width: double.infinity,
                  margin: const EdgeInsets.only(bottom: 12.0),
                  child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _cancelPreRegistration,
                    icon: const Icon(Icons.cancel),
                    label: Text(_isPreRegistering ? '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
            ),
            child: const Text(
              'Abmelden',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
```

**uiStyleTextstylefontsize16** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1649:28`
- ğŸ“ Original: `',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
        ),
      );
    }

    // **ACCEPT INVITE BUTTON (wenn User korrekt angemeldet)**
    if (_showAcceptInviteButton && widget.inviteToken != null) {
      buttons.add(
        Container(
          width: double.infinity,
          margin: const EdgeInsets.only(bottom: 12.0),
          child: ElevatedButton(
            onPressed: _isJoining || !isInviteValid ? null : () => _joinWorld(),
            style: ElevatedButton.styleFrom(
              backgroundColor: Colors.green[600],
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: _isJoining
                ? const SizedBox(
                    height: 20,
                    width: 20,
                    child: CircularProgressIndicator(
                      strokeWidth: 2,
                      valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                    ),
                  )
                : const Text(
                    '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
            ),
            child: const Text(
              'Registrieren',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
```

**uiStyleTextstylefontsize16** ğŸ”¥ (Confidence: 1.0)
- ğŸ“ `lib\features\world\world_join_page.dart:1714:24`
- ğŸ“ Original: `',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
        ),
      );
    }

    // FALLBACK: Normale World-Join-Buttons wenn keine spezifischen Buttons
    if (buttons.isEmpty) {
      // **NORMALE WORLD-JOIN LOGIC** (wenn kein Invite-Token)
      if (widget.inviteToken == null && _world != null) {
        final world = _world!;
        
        // **STATUS-BASIERTE INTELLIGENTE BUTTON-LOGIK**
        switch (world.status) {
          case WorldStatus.upcoming:
            // Vorregistrierung oder ZurÃ¼ckziehen
            if (_isPreRegistered) {
              buttons.add(
                Container(
                  width: double.infinity,
                  margin: const EdgeInsets.only(bottom: 12.0),
                  child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _cancelPreRegistration,
                    icon: const Icon(Icons.cancel),
                    label: Text(_isPreRegistering ? '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
            ),
            child: const Text(
              'Abmelden',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
```

### ğŸ·ï¸ AUTH

**authLevelKdebugmodeLeveldebug** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\config\logger.dart:29:46`
- ğŸ“ Original: `'),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );

    _navigationLogger = Logger(
      printer: _getLogPrinter(prefix: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

    _authLogger = Logger(
      printer: _getLogPrinter(prefix: '[AUTH]'),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );
```

**authFinalRefreshedAwait** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:123:84`
- ğŸ“ Original: `');
          
          final refreshed = await _authService.refreshTokenIfNeeded();
          if (refreshed) {
            final newToken = await _authService.getCurrentAccessToken();
            if (newToken != null) {
              setToken(newToken);
              
                          // Request mit neuem Token wiederholen
            return await _retryRequest(endpoint, response.request!.method);
            }
          }
        } catch (e) {
          AppLogger.api.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final expiresIn = int.tryParse(response.headers['x-token-expires-in'] ?? '0');
      if (expiresIn != null && expiresIn < 60) {
        try {
          AppLogger.api.i('ğŸ”„ Proaktive Token-Erneuerung - lÃ¤uft ab in ${expiresIn}s');
          
          final refreshed = await _authService.refreshTokenIfNeeded();
          if (refreshed) {
```

**authFinalRefreshedAwait** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:144:60`
- ğŸ“ Original: `');
        
        final refreshed = await _authService.refreshTokenIfNeeded();
        if (refreshed) {
          final newToken = await _authService.getCurrentAccessToken();
          if (newToken != null) {
            setToken(newToken);
            
            // Request mit neuem Token wiederholen
            return await _retryRequest(endpoint, response.request!.method);
          }
        }
      } catch (e) {
        AppLogger.api.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Reaktive Token-Erneuerung bei 401
    if (response.statusCode == 401 && !endpoint.startsWith('/auth/')) {
      try {
        AppLogger.api.i('ğŸ”„ Reactive Token-Refresh wegen 401');
        
        final refreshed = await _authService.refreshTokenIfNeeded();
        if (refreshed) {
```

**authAwait_ensurevalidtokenFinal** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:211:37`
- ğŸ“ Original: `')) {
      await _ensureValidToken();
    }
    
    final request = http.Request('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_requestBodies[endpoint] = data;
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
      await _ensureValidToken();
    }
```

**auth_sanitizeauthdatadataDataApploggerlogapirequest** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:302:48`
- ğŸ“ Original: `') ? _sanitizeAuthData(data) : data;
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_requestBodies[endpoint] = data;
    
    // Log API Request (ohne sensitive Daten fÃ¼r Auth-Endpoints)
    final logBody = endpoint.startsWith('/auth/') ? _sanitizeAuthData(data) : data;
    AppLogger.logApiRequest('POST', endpoint, headers: _headers, body: logBody);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
```

### ğŸ·ï¸ BUTTON

**buttonZurÃ¼ckZumLogin** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:304:46`
- ğŸ“ Original: `'ZurÃ¼ck zum Login'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                              onPressed: () => context.goNamed('login'),
                              child: Text(
                                _isSuccess ? 'ZurÃ¼ck zum Login' : 'Abbrechen',
                                style: const TextStyle(
                                  color: AppTheme.primaryColor,
                                  fontSize: 16,
```

**buttonZurÃ¼ckZurAnmeldung** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:466:37`
- ğŸ“ Original: `'ZurÃ¼ck zur Anmeldung'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                                  onPressed: () => context.goNamed('login'),
                                  child: const Text(
                                    'ZurÃ¼ck zur Anmeldung',
                                    style: TextStyle(
                                      color: AppTheme.primaryColor,
                                      fontSize: 16,
```

**buttonAlleZurÃ¼cksetzen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:289:31`
- ğŸ“ Original: `'Alle zurÃ¼cksetzen'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton.icon(
            onPressed: onResetFilters,
            icon: const Icon(Icons.clear_all, size: 16),
            label: const Text('Alle zurÃ¼cksetzen'),
            style: TextButton.styleFrom(
              foregroundColor: Colors.grey[400],
            ),
```

**buttonStyleOutlinedbuttonstylefromForegroundcolor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:871:77`
- ğŸ“ Original: `'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: AppTheme.primaryColor,
                              side: BorderSide(color: AppTheme.primaryColor),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else if (_showLogoutButton && _inviteEmail != null) ...[
                        // Logout Button fÃ¼r falschen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _logout,
                            icon: const Icon(Icons.logout),
                            label: const Text('`
- ğŸ¯ Widget: Widget: OutlinedButton
- ğŸ”§ Context:
```dart
child: OutlinedButton.icon(
                            onPressed: () => _navigateToLogin(_inviteEmail!),
                            icon: const Icon(Icons.login),
                            label: const Text('Bereits registriert? Anmelden'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: AppTheme.primaryColor,
                              side: BorderSide(color: AppTheme.primaryColor),
```

**buttonZurÃ¼ckZurStartseite** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:907:47`
- ğŸ“ Original: `'ZurÃ¼ck zur Startseite'`
- ğŸ¯ Widget: Widget: OutlinedButton
- ğŸ”§ Context:
```dart
child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('landing'),
                            icon: const Icon(Icons.arrow_back),
                            label: const Text('ZurÃ¼ck zur Startseite'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: Colors.grey,
                              side: BorderSide(color: Colors.grey),
```

**buttonZurÃ¼ckZuDen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:940:27`
- ğŸ“ Original: `'ZurÃ¼ck zu den Welten'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                        onPressed: () => context.goNamed('world-list'),
                        child: const Text(
                          'ZurÃ¼ck zu den Welten',
                          style: TextStyle(
                            color: AppTheme.primaryColor,
                            fontWeight: FontWeight.bold,
```

**buttonZurÃ¼ckZuDen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1024:29`
- ğŸ“ Original: `'ZurÃ¼ck zu den Welten'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                          onPressed: () => context.goNamed('world-list'),
                          child: const Text(
                            'ZurÃ¼ck zu den Welten',
                            style: TextStyle(
                              color: AppTheme.primaryColor,
                              fontWeight: FontWeight.bold,
```

**buttonPendingRedirectSetzen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1600:93`
- ğŸ“ Original: `';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
              
              context.go(loginRoute);
            },
            style: ElevatedButton.styleFrom(
              backgroundColor: AppTheme.primaryColor,
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: const Text(
              '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton(
            onPressed: () {
              // Redirect auf Login-Seite mit E-Mail vorausgefÃ¼llt
              final loginRoute = '/go/auth/login?email=${Uri.encodeComponent(_inviteEmail!)}';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
```

**buttonPendingRedirectSetzen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1633:99`
- ğŸ“ Original: `';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
              
              context.go(registerRoute);
            },
            style: ElevatedButton.styleFrom(
              backgroundColor: AppTheme.secondaryColor,
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: const Text(
              '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton(
            onPressed: () {
              // Redirect auf Register-Seite mit E-Mail vorausgefÃ¼llt
              final registerRoute = '/go/auth/register?email=${Uri.encodeComponent(_inviteEmail!)}';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
```

**buttonVorregistrierungZurÃ¼ckziehen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1740:79`
- ğŸ“ Original: `'Vorregistrierung zurÃ¼ckziehen'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _cancelPreRegistration,
                    icon: const Icon(Icons.cancel),
                    label: Text(_isPreRegistering ? 'Wird zurÃ¼ckgezogen...' : 'Vorregistrierung zurÃ¼ckziehen'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.red[600],
                      foregroundColor: Colors.white,
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1829:86`
- ğŸ“ Original: `'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
                      padding: const EdgeInsets.symmetric(vertical: 16),
                      shape: RoundedRectangleBorder(
                        borderRadius: BorderRadius.circular(12),
                      ),
                    ),
                  ),
                ),
              );
            }
            break;
            
          case WorldStatus.closed:
          case WorldStatus.archived:
            // Keine Aktionen mÃ¶glich - Status-Info
            buttons.add(
              Container(
                width: double.infinity,
                margin: const EdgeInsets.only(bottom: 12.0),
                padding: const EdgeInsets.all(16),
                decoration: BoxDecoration(
                  color: Colors.grey.withOpacity(0.1),
                  borderRadius: BorderRadius.circular(12),
                  border: Border.all(color: Colors.grey.withOpacity(0.3)),
                ),
                child: Column(
                  children: [
                    Icon(
                      Icons.lock_outline,
                      color: Colors.grey[600],
                      size: 32,
                    ),
                    const SizedBox(height: 8),
                    Text(
                      world.status == WorldStatus.closed
                          ? '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _joinWorld,
                    icon: const Icon(Icons.play_arrow),
                    label: Text(_isJoining ? 'Wird beigetreten...' : 'Jetzt beitreten'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
```

**buttonAlleWeltenAnzeigen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:601:39`
- ğŸ“ Original: `'Alle Welten anzeigen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
                    onPressed: () => context.goNamed('world-list'),
                    icon: const Icon(Icons.list),
                    label: const Text('Alle Welten anzeigen'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
```

### ğŸ·ï¸ ERROR

**errorLevelLevelwarningOutput** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\config\logger.dart:41:47`
- ğŸ“ Original: `'),
      level: Level.warning,
      output: _getLogOutput(),
    );
  }

  /// Custom Log Printer mit strukturiertem Format
  static LogPrinter _getLogPrinter({String? prefix}) {
    return PrettyPrinter(
      methodCount: 2, // Stack trace depth
      errorMethodCount: 8, // Error stack trace depth
      lineLength: 120, // Width of the output
      colors: kDebugMode, // Colorful log in debug mode
      printEmojis: true, // Print emoji for each log level
      dateTimeFormat: DateTimeFormat.onlyTimeAndSinceStart, // Include timestamp
      noBoxingByDefault: false,
    );
  }

  /// Log Output - Debug: Console, Release: File + Remote
  static LogOutput _getLogOutput() {
    if (kDebugMode) {
      return ConsoleOutput();
    } else {
      // In Production: File + Remote Upload
      return MultiOutput([
        ConsoleOutput(),
        FileOutput(), // Local file storage
        // TODO: RemoteOutput(), // Upload to backend
      ]);
    }
  }

  // === Public API ===

  /// General App Logger
  static Logger get app => _logger;

  /// API Calls & Responses
  static Logger get api => _apiLogger;

  /// Authentication Events
  static Logger get auth => _authLogger;

  /// Navigation & Routing
  static Logger get navigation => _navigationLogger;

  /// Errors & Crashes
  static Logger get error => _errorLogger;

  // === Convenience Methods ===

  /// Log API Request
  static void logApiRequest(String method, String url, {Map<String, dynamic>? headers, dynamic body}) {
    api.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

    _errorLogger = Logger(
      printer: _getLogPrinter(prefix: '[ERROR]'),
      level: Level.warning,
      output: _getLogOutput(),
    );
```

**errorErrorEBei** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:157:56`
- ğŸ“ Original: `', error: e);
        // Bei Token-Refresh-Fehlern automatisch ausloggen
        await _authService.logout();
        // Cache invalidieren nach Logout
        AppRouter.invalidateAuthCache();
      }
    }
    return response;
  }

  // VollstÃ¤ndige Request-Wiederholung fÃ¼r alle HTTP-Methoden mit erweiterter Kontext-Verwaltung
  Future<http.Response> _retryRequest(String endpoint, String method) async {
    switch (method) {
      case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        }
      } catch (e) {
        AppLogger.api.e('âŒ Token-Refresh fehlgeschlagen', error: e);
        // Bei Token-Refresh-Fehlern automatisch ausloggen
        await _authService.logout();
        // Cache invalidieren nach Logout
```

**errorEndpointErrorStacktrace** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:290:33`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> post(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Log API Request (ohne sensitive Daten fÃ¼r Auth-Endpoints)
    final logBody = endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('GET', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorEndpointErrorStacktrace** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:324:34`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> put(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Log API Request
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('POST', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorEndpointErrorStacktrace** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:356:33`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> delete(String endpoint) async {
    await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('PUT', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorWeltenwindappWirdGestartet** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\main.dart:37:19`
- ğŸ“ Original: `'ğŸš€ WeltenwindApp wird gestartet...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Initialisiere das Logging-System
  AppLogger.initialize();
  AppLogger.app.i('ğŸš€ WeltenwindApp wird gestartet...');

  // Flutter Error Handling
  FlutterError.onError = (FlutterErrorDetails details) {
```

**errorReturnConstAutherrorpage** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:338:46`
- ğŸ“ Original: `')) {
          return const AuthErrorPage();
        }
        
        // Welt nicht gefunden - robuste Erkennung
        if (goException.message.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final goException = state.error as GoException;
        
        // Auth-Fehler
        if (goException.message.contains('401')) {
          return const AuthErrorPage();
        }
```

### ğŸ·ï¸ INVITE

**inviteRequestheadersaddall_headersRequestbodyJsonencodedata** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:215:95`
- ğŸ“ Original: `'));
    request.headers.addAll(_headers);
    request.body = jsonEncode(data);
    
    final streamedResponse = await request.send();
    final response = await http.Response.fromStream(streamedResponse);
    
    return await _handleResponse(response, endpoint);
  }

  // Helper fÃ¼r das Sanitieren von sensiblen Daten aus dem Request-Body
  Map<String, dynamic> _sanitizeAuthData(Map<String, dynamic> data) {
    final sanitized = <String, dynamic>{};
    for (final entry in data.entries) {
      if (entry.key == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _ensureValidToken();
    }
    
    final request = http.Request('DELETE', Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'));
    request.headers.addAll(_headers);
    request.body = jsonEncode(data);
```

### ğŸ·ï¸ UI

**uiStyleTextstylecolorColorsgreen200** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:181:94`
- ğŸ“ Original: `',
                                        style: TextStyle(color: Colors.green[200], fontSize: 14),
                                      ),
                                    ),
                                  ],
                                ),
                              ),
                            
                            // Email field
                            if (!_isSuccess)
                              TextFormField(
                                controller: _emailController,
                                style: const TextStyle(color: Colors.white),
                                keyboardType: TextInputType.emailAddress,
                                autofillHints: const [AutofillHints.email],
                                textInputAction: TextInputAction.done,
                                onFieldSubmitted: (_) => _isLoading ? null : _requestPasswordReset(),
                                decoration: InputDecoration(
                                  labelText: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(width: 8),
                                    Expanded(
                                      child: Text(
                                        'E-Mail gesendet! Bitte Ã¼berprÃ¼fe deinen Posteingang.',
                                        style: TextStyle(color: Colors.green[200], fontSize: 14),
                                      ),
                                    ),
```

**uiEntscheidungenDerSpielleitung** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1388:32`
- ğŸ“ Original: `'Entscheidungen der Spielleitung sind final'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
          _buildRuleItem('5.', 'Entscheidungen der Spielleitung sind final'),
        ],
      ),
    );
```

### ğŸ·ï¸ WORLD

**worldClassWeltenwindappExtends** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:13:36`
- ğŸ“ Original: `';

class WeltenwindApp extends StatefulWidget {
  const WeltenwindApp({super.key});

  @override
  State<WeltenwindApp> createState() => _WeltenwindAppState();
}

class _WeltenwindAppState extends State<WeltenwindApp> {
  final LocaleProvider _localeProvider = LocaleProvider();
  
  @override
  void initState() {
    super.initState();
    // Listener fÃ¼r Locale-Ã„nderungen
    _localeProvider.addListener(() {
      setState(() {});
    });
  }
  
  @override
  void dispose() {
    _localeProvider.removeListener(() {});
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    AppLogger.app.d('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'core/services/world_service.dart';
import 'core/services/invite_service.dart';
import 'core/providers/locale_provider.dart';
import 'l10n/app_localizations.dart';

class WeltenwindApp extends StatefulWidget {
  const WeltenwindApp({super.key});
```

**worldZentraleLoggerkonfigurationFÃ¼r** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\config\logger.dart:2:40`
- ğŸ“ Original: `';

/// Zentrale Logger-Konfiguration fÃ¼r Weltenwind Flutter Client
class AppLogger {
  static late Logger _logger;
  static late Logger _apiLogger;
  static late Logger _authLogger;
  static late Logger _navigationLogger;
  static late Logger _errorLogger;

  /// Initialisiere alle Logger
  static void initialize() {
    // Base Logger mit Custom Printer
    _logger = Logger(
      printer: _getLogPrinter(),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );

    // Spezielle Logger fÃ¼r verschiedene Bereiche
    _apiLogger = Logger(
      printer: _getLogPrinter(prefix: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:logger/logger.dart';
import 'package:flutter/foundation.dart';

/// Zentrale Logger-Konfiguration fÃ¼r Weltenwind Flutter Client
class AppLogger {
```

**worldWeltdashboard** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:73:31`
- ğŸ“ Original: `'Welt-Dashboard'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Title
                            Text(
                              'Welt-Dashboard',
                              style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                color: Colors.white,
                                fontWeight: FontWeight.bold,
```

**worldWeltIdWorldid** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:83:31`
- ğŸ“ Original: `'Welt ID: $worldId'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Subtitle
                            Text(
                              'Welt ID: $worldId',
                              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                color: Colors.grey[300],
                              ),
```

**worldDeinPortalZu** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:267:43`
- ğŸ“ Original: `'Dein Portal zu unendlichen Welten'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Enhanced Subtitle
                                        Text(
                                          'Dein Portal zu unendlichen Welten',
                                          style: TextStyle(
                                            color: Colors.grey[200],
                                            fontSize: 22,
```

**worldWasMachtWeltenwind** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:479:29`
- ğŸ“ Original: `'Was macht Weltenwind besonders?'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Column(
                        children: [
                          const Text(
                            'Was macht Weltenwind besonders?',
                            style: TextStyle(
                              fontSize: 32,
                              fontWeight: FontWeight.bold,
```

**worldUnendlicheWelten** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:513:44`
- ğŸ“ Original: `'Unendliche Welten'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
children: [
                                  _buildFeatureCard(
                                    icon: Icons.public,
                                    title: 'Unendliche Welten',
                                    description: 'Erkunde hunderte einzigartige Spielwelten oder erschaffe deine eigene',
                                    color: Colors.blue,
                                  ),
```

**worldErkundeHunderteEinzigartige** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:514:50`
- ğŸ“ Original: `'Erkunde hunderte einzigartige Spielwelten oder erschaffe deine eigene'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.public,
                                    title: 'Unendliche Welten',
                                    description: 'Erkunde hunderte einzigartige Spielwelten oder erschaffe deine eigene',
                                    color: Colors.blue,
                                  ),
                                  _buildFeatureCard(
```

**worldVerbindeDichMit** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:520:50`
- ğŸ“ Original: `'Verbinde dich mit Spielern aus der ganzen Welt'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.group,
                                    title: 'Community',
                                    description: 'Verbinde dich mit Spielern aus der ganzen Welt',
                                    color: Colors.green,
                                  ),
                                  _buildFeatureCard(
```

**worldSchlieÃŸeDichTausenden** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:581:35`
- ğŸ“ Original: `'SchlieÃŸe dich tausenden Spielern an und starte noch heute!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                const SizedBox(height: 16),
                                Text(
                                  'SchlieÃŸe dich tausenden Spielern an und starte noch heute!',
                                  style: TextStyle(
                                    fontSize: 16,
                                    color: Colors.grey[300],
```

**world2024WeltenwindAlle** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:633:25`
- ğŸ“ Original: `'Â© 2024 Weltenwind. Alle Rechte vorbehalten.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Column(
                    children: [
                      Text(
                        'Â© 2024 Weltenwind. Alle Rechte vorbehalten.',
                        style: TextStyle(
                          color: Colors.grey[600],
                          fontSize: 14,
```

**worldZurÃ¼ckZuDen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1111:45`
- ğŸ“ Original: `'ZurÃ¼ck zu den Welten'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
borderRadius: BorderRadius.circular(12),
                            ),
                          ),
                          child: const Text('ZurÃ¼ck zu den Welten'),
                        ),
                      ),
                    ],
```

**worldWeltNichtGefunden** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:583:21`
- ğŸ“ Original: `'Welt nicht gefunden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 24),
                  Text(
                    'Welt nicht gefunden',
                    style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                      color: AppTheme.textPrimary,
                      fontWeight: FontWeight.bold,
```

**worldDieAngeforderteWelt** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:591:21`
- ğŸ“ Original: `'Die angeforderte Welt existiert nicht oder wurde entfernt.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 16),
                  Text(
                    'Die angeforderte Welt existiert nicht oder wurde entfernt.',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
```

**worldSieMÃ¼ssenDer** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:359:18`
- ğŸ“ Original: `'Sie mÃ¼ssen der Welt beitreten, um das Dashboard zu sehen'`
- ğŸ¯ Widget: Widget: Tooltip
- ğŸ”§ Context:
```dart
// Tooltip hinzufÃ¼gen wenn disabled
    if (isDisabled && item.label.contains('Dashboard')) {
      return Tooltip(
        message: 'Sie mÃ¼ssen der Welt beitreten, um das Dashboard zu sehen',
        child: widget,
      );
    }
```

**worldAssetsimagesweltenwindbackground1png** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\theme\background_widget.dart:19:29`
- ğŸ“ Original: `'assets/images/weltenwind-background-1.png'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return Container(
      decoration: const BoxDecoration(
        image: DecorationImage(
          image: AssetImage('assets/images/weltenwind-background-1.png'),
          fit: BoxFit.cover,
        ),
      ),
```

### ğŸ·ï¸ AUTH

**auth3TokenvalidierungBeim** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:103:47`
- ğŸ“ Original: `');
      
      // 3. Token-Validierung beim App-Start (VOR loadStoredUser)
      bool isValid = false;
      try {
        isValid = await authService.validateTokensOnStart();
        AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
ServiceLocator.register<WorldService>(worldService);
      ServiceLocator.register<InviteService>(inviteService);
      
      AppLogger.app.i('âš™ï¸ Services registriert');
      
      // 3. Token-Validierung beim App-Start (VOR loadStoredUser)
      bool isValid = false;
```

**authUserGeladenUnd** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:127:29`
- ğŸ“ Original: `'ğŸ‘¤ User geladen und authentifiziert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final user = await authService.loadStoredUser();
          if (user != null) {
            authService.isAuthenticated.value = true;
            AppLogger.app.i('ğŸ‘¤ User geladen und authentifiziert');
          } else {
            AppLogger.app.i('ğŸ‘¤ Kein gespeicherter User gefunden');
          }
```

**auth3TokenvalidierungBeim** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:103:47`
- ğŸ“ Original: `');
      
      // 3. Token-Validierung beim App-Start (VOR loadStoredUser)
      bool isValid = false;
      try {
        isValid = await authService.validateTokensOnStart();
        AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
ServiceLocator.register<WorldService>(worldService);
      ServiceLocator.register<InviteService>(inviteService);
      
      AppLogger.app.i('âš™ï¸ Services registriert');
      
      // 3. Token-Validierung beim App-Start (VOR loadStoredUser)
      bool isValid = false;
```

**authTokensUngÃ¼ltigLogout** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:112:27`
- ğŸ“ Original: `'âš ï¸ Tokens ungÃ¼ltig - logout'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('ğŸ”‘ Tokens valid: $isValid');
        
        if (!isValid) {
          AppLogger.app.w('âš ï¸ Tokens ungÃ¼ltig - logout');
          await authService.logout();
        }
      } catch (e) {
```

**authUserGeladenUnd** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:127:29`
- ğŸ“ Original: `'ğŸ‘¤ User geladen und authentifiziert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final user = await authService.loadStoredUser();
          if (user != null) {
            authService.isAuthenticated.value = true;
            AppLogger.app.i('ğŸ‘¤ User geladen und authentifiziert');
          } else {
            AppLogger.app.i('ğŸ‘¤ Kein gespeicherter User gefunden');
          }
```

**authStorageKeysStatic** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\config\env.dart:11:42`
- ğŸ“ Original: `';
  
  // Storage Keys
  static const String tokenKey = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// App Configuration
  static const String appName = 'Weltenwind';
  static const String appVersion = '1.0.0';
  
  // Storage Keys
  static const String tokenKey = 'auth_token';
```

**authStaticConstString** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\config\env.dart:14:45`
- ğŸ“ Original: `';
  static const String refreshTokenKey = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String appVersion = '1.0.0';
  
  // Storage Keys
  static const String tokenKey = 'auth_token';
  static const String refreshTokenKey = 'refresh_token';
  static const String userIdKey = 'user_id';
  static const String currentWorldKey = 'current_world';
```

**authReturnHeadersVollstÃ¤ndige** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:72:49`
- ğŸ“ Original: `';
    }
    
    return headers;
  }

  // VollstÃ¤ndige Token-Validierung mit JWT-Decoding (mit Rekursionsschutz)
  Future<void> _ensureValidToken() async {
    if (_token != null && !_isValidatingToken) {
      _isValidatingToken = true;
      try {
        final token = _token;
        if (token == null) return;
        final parts = token.split('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
};
    
    if (_token != null) {
      headers['Authorization'] = 'Bearer $_token';
    }
    
    return headers;
```

**authFinalRefreshedAwait** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:123:84`
- ğŸ“ Original: `');
          
          final refreshed = await _authService.refreshTokenIfNeeded();
          if (refreshed) {
            final newToken = await _authService.getCurrentAccessToken();
            if (newToken != null) {
              setToken(newToken);
              
                          // Request mit neuem Token wiederholen
            return await _retryRequest(endpoint, response.request!.method);
            }
          }
        } catch (e) {
          AppLogger.api.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final expiresIn = int.tryParse(response.headers['x-token-expires-in'] ?? '0');
      if (expiresIn != null && expiresIn < 60) {
        try {
          AppLogger.api.i('ğŸ”„ Proaktive Token-Erneuerung - lÃ¤uft ab in ${expiresIn}s');
          
          final refreshed = await _authService.refreshTokenIfNeeded();
          if (refreshed) {
```

**authFinalRefreshedAwait** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:144:60`
- ğŸ“ Original: `');
        
        final refreshed = await _authService.refreshTokenIfNeeded();
        if (refreshed) {
          final newToken = await _authService.getCurrentAccessToken();
          if (newToken != null) {
            setToken(newToken);
            
            // Request mit neuem Token wiederholen
            return await _retryRequest(endpoint, response.request!.method);
          }
        }
      } catch (e) {
        AppLogger.api.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Reaktive Token-Erneuerung bei 401
    if (response.statusCode == 401 && !endpoint.startsWith('/auth/')) {
      try {
        AppLogger.api.i('ğŸ”„ Reactive Token-Refresh wegen 401');
        
        final refreshed = await _authService.refreshTokenIfNeeded();
        if (refreshed) {
```

**authElseSanitizedentrykeyEntryvalue** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:230:36`
- ğŸ“ Original: `';
      } else {
        sanitized[entry.key] = entry.value;
      }
    }
    return sanitized;
  }

  // Helper fÃ¼r das Sanitieren von sensiblen Daten aus der Response-Body
  String _sanitizeAuthResponse(String body) {
    try {
      final decodedBody = jsonDecode(body);
      if (decodedBody is Map<String, dynamic>) {
        final sanitized = <String, dynamic>{};
        for (final entry in decodedBody.entries) {
          if (entry.key.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final sanitized = <String, dynamic>{};
    for (final entry in data.entries) {
      if (entry.key == 'password' || entry.key == 'token') {
        sanitized[entry.key] = '***';
      } else {
        sanitized[entry.key] = entry.value;
      }
```

**authEndpointHeaders_headers** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:265:33`
- ğŸ“ Original: `', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('GET', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authEndpointHeaders_headers** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:303:34`
- ğŸ“ Original: `', endpoint, headers: _headers, body: logBody);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Log API Request (ohne sensitive Daten fÃ¼r Auth-Endpoints)
    final logBody = endpoint.startsWith('/auth/') ? _sanitizeAuthData(data) : data;
    AppLogger.logApiRequest('POST', endpoint, headers: _headers, body: logBody);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authEndpointHeaders_headers** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:336:33`
- ğŸ“ Original: `', endpoint, headers: _headers, body: data);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_requestBodies[endpoint] = data;
    
    // Log API Request
    AppLogger.logApiRequest('PUT', endpoint, headers: _headers, body: data);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authEndpointHeaders_headers** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:365:36`
- ğŸ“ Original: `', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('DELETE', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authBearer_token** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:72:34`
- ğŸ“ Original: `'Bearer $_token'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
};
    
    if (_token != null) {
      headers['Authorization'] = 'Bearer $_token';
    }
    
    return headers;
```

**authFinalRefreshedAwait** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:94:83`
- ğŸ“ Original: `');
            
            final refreshed = await _authService.refreshTokenIfNeeded();
            if (refreshed) {
              final newToken = await _authService.getCurrentAccessToken();
              if (newToken != null) {
                setToken(newToken);
                AppLogger.api.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Token erneuern wenn weniger als 60 Sekunden gÃ¼ltig
          if (exp - now < 60) {
            // Log Token-Refresh
            AppLogger.api.i('ğŸ”„ Token lÃ¤uft ab in ${exp - now}s - erneuere proaktiv');
            
            final refreshed = await _authService.refreshTokenIfNeeded();
            if (refreshed) {
```

**authCatchEToken** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:101:62`
- ğŸ“ Original: `');
              }
            }
          }
        }
      } catch (e) {
        // Token validation error
        AppLogger.api.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final newToken = await _authService.getCurrentAccessToken();
              if (newToken != null) {
                setToken(newToken);
                AppLogger.api.i('âœ… Token erfolgreich erneuert');
              }
            }
          }
```

**authProaktiveTokenerneuerungLÃ¤uft** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:123:27`
- ğŸ“ Original: `'ğŸ”„ Proaktive Token-Erneuerung - lÃ¤uft ab in ${expiresIn}s'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final expiresIn = int.tryParse(response.headers['x-token-expires-in'] ?? '0');
      if (expiresIn != null && expiresIn < 60) {
        try {
          AppLogger.api.i('ğŸ”„ Proaktive Token-Erneuerung - lÃ¤uft ab in ${expiresIn}s');
          
          final refreshed = await _authService.refreshTokenIfNeeded();
          if (refreshed) {
```

**authReactiveTokenrefreshWegen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:144:25`
- ğŸ“ Original: `'ğŸ”„ Reactive Token-Refresh wegen 401'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Reaktive Token-Erneuerung bei 401
    if (response.statusCode == 401 && !endpoint.startsWith('/auth/')) {
      try {
        AppLogger.api.i('ğŸ”„ Reactive Token-Refresh wegen 401');
        
        final refreshed = await _authService.refreshTokenIfNeeded();
        if (refreshed) {
```

**authAwait_ensurevalidtokenFinal** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:211:37`
- ğŸ“ Original: `')) {
      await _ensureValidToken();
    }
    
    final request = http.Request('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_requestBodies[endpoint] = data;
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
      await _ensureValidToken();
    }
```

**authEndpointHeaders_headers** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:265:33`
- ğŸ“ Original: `', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('GET', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authAwait_ensurevalidtokenTry** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:268:37`
- ğŸ“ Original: `')) {
      await _ensureValidToken();
    }
    
    try {
      final response = await http.get(
        Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logApiRequest('GET', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
      await _ensureValidToken();
    }
```

**authEndpointHeaders_headers** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:303:34`
- ğŸ“ Original: `', endpoint, headers: _headers, body: logBody);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Log API Request (ohne sensitive Daten fÃ¼r Auth-Endpoints)
    final logBody = endpoint.startsWith('/auth/') ? _sanitizeAuthData(data) : data;
    AppLogger.logApiRequest('POST', endpoint, headers: _headers, body: logBody);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authAwait_ensurevalidtokenTry** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:306:37`
- ğŸ“ Original: `')) {
      await _ensureValidToken();
    }
    
    try {
      final response = await http.post(
        Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logApiRequest('POST', endpoint, headers: _headers, body: logBody);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
      await _ensureValidToken();
    }
```

**authEndpointHeaders_headers** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:336:33`
- ğŸ“ Original: `', endpoint, headers: _headers, body: data);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_requestBodies[endpoint] = data;
    
    // Log API Request
    AppLogger.logApiRequest('PUT', endpoint, headers: _headers, body: data);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authAwait_ensurevalidtokenTry** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:339:37`
- ğŸ“ Original: `')) {
      await _ensureValidToken();
    }
    
    try {
      final response = await http.put(
        Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logApiRequest('PUT', endpoint, headers: _headers, body: data);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
      await _ensureValidToken();
    }
```

**authEndpointHeaders_headers** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:365:36`
- ğŸ“ Original: `', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('DELETE', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authAwait_ensurevalidtokenTry** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:368:37`
- ğŸ“ Original: `')) {
      await _ensureValidToken();
    }
    
    try {
      final response = await http.delete(
        Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logApiRequest('DELETE', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
      await _ensureValidToken();
    }
```

**authPackageflutterfoundationdart** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:2:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'package:flutter/foundation.dart';
import '../models/user.dart';
import '../../config/logger.dart';
import 'api_service.dart';
```

**authUserdatenSpeichernAwait** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:260:59`
- ğŸ“ Original: `'],
          });
        }
        
        // User-Daten speichern
        await TokenStorage.saveUserData(jsonEncode(userData));
        
        _currentUser = User.fromJson(userData);
        isAuthenticated.value = true; // Reaktiven Status setzen
        
        // Fetch complete user data with roles
        await fetchCurrentUser();
        
        AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'userId': userData['id'],
            'username': userData['username'],
            'rolesCount': userData['_debug']['rolesCount'],
            'roleDetails': userData['_debug']['roleDetails'],
          });
        }
```

**authBenutzernameMussMindestens** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\login_page.dart:288:48`
- ğŸ“ Original: `'Benutzername muss mindestens 3 Zeichen lang sein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Bitte gib deinen Benutzernamen ein';
                                      }
                                      if (value.trim().length < 3) {
                                        return 'Benutzername muss mindestens 3 Zeichen lang sein';
                                      }
                                      return null;
                                    },
```

**authBenutzernameMussMindestens** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\register_page.dart:307:42`
- ğŸ“ Original: `'Benutzername muss mindestens 3 Zeichen lang sein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Benutzername ist erforderlich';
                                }
                                if (value.length < 3) {
                                  return 'Benutzername muss mindestens 3 Zeichen lang sein';
                                }
                                if (!RegExp(r'^[a-zA-Z0-9_]+$').hasMatch(value)) {
                                  return 'Benutzername darf nur Buchstaben, Zahlen und Unterstriche enthalten';
```

**authBenutzernameDarfNur** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\register_page.dart:310:42`
- ğŸ“ Original: `'Benutzername darf nur Buchstaben, Zahlen und Unterstriche enthalten'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Benutzername muss mindestens 3 Zeichen lang sein';
                                }
                                if (!RegExp(r'^[a-zA-Z0-9_]+$').hasMatch(value)) {
                                  return 'Benutzername darf nur Buchstaben, Zahlen und Unterstriche enthalten';
                                }
                                return null;
                              },
```

**authPasswortMussMindestens** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\register_page.dart:411:42`
- ğŸ“ Original: `'Passwort muss mindestens 6 Zeichen lang sein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Passwort ist erforderlich';
                                }
                                if (value.length < 6) {
                                  return 'Passwort muss mindestens 6 Zeichen lang sein';
                                }
                                return null;
                              },
```

**authReturnNullTextinputaction** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\register_page.dart:411:87`
- ğŸ“ Original: `';
                                }
                                return null;
                              },
                              textInputAction: TextInputAction.done,
                            ),
                            const SizedBox(height: 24),

                            // Error message
                            if (_registerError != null)
                              Container(
                                width: double.infinity,
                                padding: const EdgeInsets.all(12),
                                decoration: BoxDecoration(
                                  color: Colors.red[900]!.withOpacity(0.3),
                                  borderRadius: BorderRadius.circular(8),
                                  border: Border.all(color: Colors.red[400]!.withOpacity(0.5)),
                                ),
                                child: Text(
                                  _registerError!,
                                  style: TextStyle(color: Colors.red[200]),
                                  textAlign: TextAlign.center,
                                ),
                              ),
                            if (_registerError != null) const SizedBox(height: 16),

                            // Register button
                            SizedBox(
                              width: double.infinity,
                              height: 56,
                              child: ElevatedButton(
                                onPressed: _isLoading ? null : _register,
                                style: ElevatedButton.styleFrom(
                                  backgroundColor: AppTheme.primaryColor,
                                  foregroundColor: Colors.white,
                                  shape: RoundedRectangleBorder(
                                    borderRadius: BorderRadius.circular(12),
                                  ),
                                  elevation: 8,
                                  shadowColor: AppTheme.primaryColor.withOpacity(0.5),
                                ),
                                child: _isLoading
                                    ? const SizedBox(
                                        height: 20,
                                        width: 20,
                                        child: CircularProgressIndicator(
                                          strokeWidth: 2,
                                          valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                                        ),
                                      )
                                    : const Text(
                                        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Passwort ist erforderlich';
                                }
                                if (value.length < 6) {
                                  return 'Passwort muss mindestens 6 Zeichen lang sein';
                                }
                                return null;
                              },
```

**authPasswortMussMindestens** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:291:46`
- ğŸ“ Original: `'Passwort muss mindestens 6 Zeichen lang sein'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return 'Bitte gib ein neues Passwort ein';
                                    }
                                    if (value.length < 6) {
                                      return 'Passwort muss mindestens 6 Zeichen lang sein';
                                    }
                                    if (value.contains(' ')) {
                                      return 'Passwort darf keine Leerzeichen enthalten';
```

**authPasswortDarfKeine** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:294:46`
- ğŸ“ Original: `'Passwort darf keine Leerzeichen enthalten'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return 'Passwort muss mindestens 6 Zeichen lang sein';
                                    }
                                    if (value.contains(' ')) {
                                      return 'Passwort darf keine Leerzeichen enthalten';
                                    }
                                    return null;
                                  },
```

**authFeaturesworldworld_list_pagedart** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:8:8`
- ğŸ“ Original: `'../features/world/world_list_page.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../features/auth/register_page.dart';
import '../features/auth/forgot_password_page.dart';
import '../features/auth/reset_password_page.dart';
import '../features/world/world_list_page.dart';
import '../features/world/world_join_page.dart';
import '../features/dashboard/dashboard_page.dart';
import '../features/landing/landing_page.dart';
```

**authFeaturesdashboarddashboard_pagedart** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:10:8`
- ğŸ“ Original: `'../features/dashboard/dashboard_page.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../features/auth/reset_password_page.dart';
import '../features/world/world_list_page.dart';
import '../features/world/world_join_page.dart';
import '../features/dashboard/dashboard_page.dart';
import '../features/landing/landing_page.dart';
import '../core/services/auth_service.dart';
import '../theme/app_theme.dart';
```

### ğŸ·ï¸ BUTTON

**buttonWirklichVerlassenActions** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:600:59`
- ğŸ“ Original: `" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: const Text('Abbrechen'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
            style: TextButton.styleFrom(
              foregroundColor: Colors.red,
            ),
            child: const Text('Verlassen'),
          ),
        ],
      ),
    );
    
    if (confirmed != true) return;

    setState(() {
      _isJoining = true;
      _joinError = null;
    });

    try {
      await _worldService.leaveWorld(world.id);
      setState(() {
        _isJoined = false;
      });
      
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isJoining = false;
        });
      }
    }
  }
  
  void _playWorld() {
    final world = _world;
    if (world == null) return;
    // Navigate directly to world dashboard for playing
    context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
  }

  // Welt-Status bestimmen
  String _getWorldStatusText() {
    final world = _world;
    if (world == null) return 'Unbekannt';
    return world.statusText;
  }

  // Welt-Status-Farbe
  Color _getWorldStatusColor() {
    final world = _world;
    if (world == null) return Colors.grey;
    
    switch (world.status) {
      case WorldStatus.upcoming:
        return Colors.orange;
      case WorldStatus.open:
        return Colors.green;
      case WorldStatus.running:
        return Colors.blue;
      case WorldStatus.closed:
        return Colors.red;
      case WorldStatus.archived:
        return Colors.grey;
    }
  }

  // Kann der Benutzer beitreten?
  // Retry-Funktion
  Future<void> _retry() async {
    await _loadWorldData();
  }

  // Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('ğŸ« Navigation zur Registration mit Invite-E-Mail', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('register', queryParameters: {'email': email, 'invite_token': widget.inviteToken});
  }

  // Navigation zu Login 
  void _navigateToLogin(String email) {
    AppLogger.app.i('ğŸ« Navigation zum Login fÃ¼r Invite', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('login', queryParameters: {'invite_token': widget.inviteToken});
  }

  // User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('ğŸ« User logout fÃ¼r Invite-Umleitung', error: {'inviteEmail': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
        _authService.setPendingInviteRedirect(widget.inviteToken!);
      }
      
      await _authService.logout();
      
      if (mounted && _inviteEmail != null) {
        // Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('register', queryParameters: {
          'email': _inviteEmail!,
          'invite_token': widget.inviteToken ?? ''
        });
      }
    } catch (e) {
      AppLogger.logError('Logout fÃ¼r Invite fehlgeschlagen', e);
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('Fehler beim Abmelden'),
            backgroundColor: Colors.red,
          ),
        );
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    
    return Scaffold(
      body: BackgroundWidget(
        child: Stack(
          children: [
            // Main content
            SafeArea(
              child: _isLoading
                  ? const Center(
                      child: CircularProgressIndicator(
                        valueColor: AlwaysStoppedAnimation<Color>(AppTheme.primaryColor),
                      ),
                    )
                  : _errorMessage != null
                      ? _buildErrorState()
                      : _infoMessage != null
                          ? _buildInfoState()
                          : _world == null
                              ? _buildNotFoundState()
                              : _buildWorldContent(),
            ),
            
            // User info widget (only show when authenticated)
            if (_isAuthenticated)
              const UserInfoWidget(),
            
            // Navigation widget (only show when authenticated)
            if (_isAuthenticated)
              NavigationWidget(
                currentRoute: 'world-join',
                routeParams: {'id': widget.worldId},
                isJoinedWorld: _isJoined,
              ),
          ],
        ),
      ),
    );
  }

  Widget _buildErrorState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.error_outline,
                        size: 80,
                        color: Colors.red[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        'Fehler beim Laden',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        _errorMessage ?? 'Unbekannter Fehler',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // Verschiedene Action-Buttons je nach Szenario
                      if (_showRegistrationButton && _inviteEmail != null) ...[
                        // Registration Button fÃ¼r neuen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: () => _navigateToRegistration(_inviteEmail!),
                            icon: const Icon(Icons.person_add),
                            label: const Text('Jetzt registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Login Button als Alternative
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => _navigateToLogin(_inviteEmail!),
                            icon: const Icon(Icons.login),
                            label: const Text('Bereits registriert? Anmelden'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: AppTheme.primaryColor,
                              side: BorderSide(color: AppTheme.primaryColor),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else if (_showLogoutButton && _inviteEmail != null) ...[
                        // Logout Button fÃ¼r falschen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _logout,
                            icon: const Icon(Icons.logout),
                            label: const Text('Abmelden & neu registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: Colors.orange,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Abbrechen Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('landing'),
                            icon: const Icon(Icons.arrow_back),
                            label: const Text('ZurÃ¼ck zur Startseite'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: Colors.grey,
                              side: BorderSide(color: Colors.grey),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else ...[
                        // Standard Retry Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _retry,
                            icon: const Icon(Icons.refresh),
                            label: const Text('Erneut versuchen'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ],
                      const SizedBox(height: 16),
                      TextButton(
                        onPressed: () => context.goNamed('world-list'),
                        child: const Text(
                          'ZurÃ¼ck zu den Welten',
                          style: TextStyle(
                            color: AppTheme.primaryColor,
                            fontWeight: FontWeight.bold,
                          ),
                        ),
                      ),
                    ],
                  ),
                ),
              ),
            ),
          ),
        ),
      ),
    );
  }

  Widget _buildInfoState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.info_outline,
                        size: 80,
                        color: Colors.blue[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        'Information',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        _infoMessage ?? 'Keine Information verfÃ¼gbar',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // **NEUE INTELLIGENTE BUTTONS**
                      _buildActionButtons(),
                      
                      // **INVITE-FLOWS: Kein "`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:448:54`
- ğŸ“ Original: `'),
                        style: ElevatedButton.styleFrom(
                          backgroundColor: AppTheme.primaryColor,
                          foregroundColor: Colors.white,
                        ),
                      ),
                      ElevatedButton.icon(
                        onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
                        onPressed: () => context.goNamed('landing'),
                        icon: const Icon(Icons.home),
                        label: const Text('Startseite'),
                        style: ElevatedButton.styleFrom(
                          backgroundColor: AppTheme.primaryColor,
                          foregroundColor: Colors.white,
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:457:50`
- ğŸ“ Original: `'),
                        style: ElevatedButton.styleFrom(
                          backgroundColor: AppTheme.surfaceColor,
                          foregroundColor: AppTheme.textPrimary,
                        ),
                      ),
                    ],
                  ),
                ],
              ),
            ),
          ),
        ),
      ),
    );
  }
}

class AuthErrorPage extends StatelessWidget {
  const AuthErrorPage({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Container(
        decoration: BoxDecoration(
          gradient: LinearGradient(
            begin: Alignment.topCenter,
            end: Alignment.bottomCenter,
            colors: [
              AppTheme.errorColor.withOpacity(0.1),
              AppTheme.surfaceColor,
            ],
          ),
        ),
        child: Center(
          child: Card(
            elevation: 8,
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(16),
            ),
            child: Padding(
              padding: const EdgeInsets.all(32.0),
              child: Column(
                mainAxisSize: MainAxisSize.min,
                children: [
                  const Icon(
                    Icons.lock_outline,
                    size: 64,
                    color: AppTheme.errorColor,
                  ),
                  const SizedBox(height: 24),
                  Text(
                    '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
                        onPressed: () => context.goNamed('world-list'),
                        icon: const Icon(Icons.public),
                        label: const Text('Welten'),
                        style: ElevatedButton.styleFrom(
                          backgroundColor: AppTheme.surfaceColor,
                          foregroundColor: AppTheme.textPrimary,
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:528:48`
- ğŸ“ Original: `'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
                      padding: const EdgeInsets.symmetric(
                        horizontal: 24,
                        vertical: 12,
                      ),
                    ),
                  ),
                ],
              ),
            ),
          ),
        ),
      ),
    );
  }
}

class WorldNotFoundPage extends StatelessWidget {
  const WorldNotFoundPage({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Container(
        decoration: BoxDecoration(
          gradient: LinearGradient(
            begin: Alignment.topCenter,
            end: Alignment.bottomCenter,
            colors: [
              AppTheme.primaryColor.withOpacity(0.1),
              AppTheme.surfaceColor,
            ],
          ),
        ),
        child: Center(
          child: Card(
            elevation: 8,
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(16),
            ),
            child: Padding(
              padding: const EdgeInsets.all(32.0),
              child: Column(
                mainAxisSize: MainAxisSize.min,
                children: [
                  Icon(
                    Icons.public_off,
                    size: 64,
                    color: AppTheme.primaryColor.withOpacity(0.7),
                  ),
                  const SizedBox(height: 24),
                  Text(
                    '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
                    onPressed: () => context.goNamed('login'),
                    icon: const Icon(Icons.login),
                    label: const Text('Anmelden'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
```

**buttonWorldlist** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:599:54`
- ğŸ“ Original: `'world-list'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 32),
                  ElevatedButton.icon(
                    onPressed: () => context.goNamed('world-list'),
                    icon: const Icon(Icons.list),
                    label: const Text('Alle Welten anzeigen'),
                    style: ElevatedButton.styleFrom(
```

### ğŸ·ï¸ DIALOG

**dialogBitteGebenSie** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:128:26`
- ğŸ“ Original: `'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'E-Mail-Adresse ist erforderlich';
                }
                if (!RegExp(r'^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$').hasMatch(value)) {
                  return 'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein';
                }
                return null;
              },
```

**dialogBitteGebenSie** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:128:26`
- ğŸ“ Original: `'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'E-Mail-Adresse ist erforderlich';
                }
                if (!RegExp(r'^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$').hasMatch(value)) {
                  return 'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein';
                }
                return null;
              },
```

### ğŸ·ï¸ ERROR

**errorTokenvalidierungFehlgeschlagen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:116:25`
- ğŸ“ Original: `'âŒ Token-Validierung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await authService.logout();
        }
      } catch (e) {
        AppLogger.app.e('âŒ Token-Validierung fehlgeschlagen', error: e);
        // Bei Token-Validierungsfehlern einfach ausloggen
        await authService.logout();
      }
```

**errorKeinGespeicherterUser** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:129:29`
- ğŸ“ Original: `'ğŸ‘¤ Kein gespeicherter User gefunden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
authService.isAuthenticated.value = true;
            AppLogger.app.i('ğŸ‘¤ User geladen und authentifiziert');
          } else {
            AppLogger.app.i('ğŸ‘¤ Kein gespeicherter User gefunden');
          }
        } catch (e) {
          AppLogger.app.e('âŒ User-Load fehlgeschlagen', error: e);
```

**errorKeineGÃ¼ltigenTokens** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:135:25`
- ğŸ“ Original: `'ğŸ‘¤ Keine gÃ¼ltigen Tokens - User-Load Ã¼bersprungen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.e('âŒ User-Load fehlgeschlagen', error: e);
        }
      } else {
        AppLogger.app.i('ğŸ‘¤ Keine gÃ¼ltigen Tokens - User-Load Ã¼bersprungen');
      }
      
      // Auth-Cache beim App-Start invalidieren
```

**errorErrorEBei** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:143:64`
- ğŸ“ Original: `', error: e);
      // Bei Auth-Service-Fehlern einfach weitermachen
      // Die App kann auch ohne gÃ¼ltige Tokens funktionieren
    }
  }
  
  // Timeout-Callback fÃ¼r SplashScreen
  void _onTimeout() {
    AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('âœ… Initialisierung abgeschlossen');
    } catch (e) {
      AppLogger.app.e('âŒ Service-Initialisierung fehlgeschlagen', error: e);
      // Bei Auth-Service-Fehlern einfach weitermachen
      // Die App kann auch ohne gÃ¼ltige Tokens funktionieren
    }
```

**errorTokenvalidierungFehlgeschlagen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:116:25`
- ğŸ“ Original: `'âŒ Token-Validierung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await authService.logout();
        }
      } catch (e) {
        AppLogger.app.e('âŒ Token-Validierung fehlgeschlagen', error: e);
        // Bei Token-Validierungsfehlern einfach ausloggen
        await authService.logout();
      }
```

**errorKeineGÃ¼ltigenTokens** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:135:25`
- ğŸ“ Original: `'ğŸ‘¤ Keine gÃ¼ltigen Tokens - User-Load Ã¼bersprungen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.e('âŒ User-Load fehlgeschlagen', error: e);
        }
      } else {
        AppLogger.app.i('ğŸ‘¤ Keine gÃ¼ltigen Tokens - User-Load Ã¼bersprungen');
      }
      
      // Auth-Cache beim App-Start invalidieren
```

**errorErrorEBei** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:143:64`
- ğŸ“ Original: `', error: e);
      // Bei Auth-Service-Fehlern einfach weitermachen
      // Die App kann auch ohne gÃ¼ltige Tokens funktionieren
    }
  }
  
  // Timeout-Callback fÃ¼r SplashScreen
  void _onTimeout() {
    AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('âœ… Initialisierung abgeschlossen');
    } catch (e) {
      AppLogger.app.e('âŒ Service-Initialisierung fehlgeschlagen', error: e);
      // Bei Auth-Service-Fehlern einfach weitermachen
      // Die App kann auch ohne gÃ¼ltige Tokens funktionieren
    }
```

**errorLevelLevelwarningOutput** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\config\logger.dart:41:47`
- ğŸ“ Original: `'),
      level: Level.warning,
      output: _getLogOutput(),
    );
  }

  /// Custom Log Printer mit strukturiertem Format
  static LogPrinter _getLogPrinter({String? prefix}) {
    return PrettyPrinter(
      methodCount: 2, // Stack trace depth
      errorMethodCount: 8, // Error stack trace depth
      lineLength: 120, // Width of the output
      colors: kDebugMode, // Colorful log in debug mode
      printEmojis: true, // Print emoji for each log level
      dateTimeFormat: DateTimeFormat.onlyTimeAndSinceStart, // Include timestamp
      noBoxingByDefault: false,
    );
  }

  /// Log Output - Debug: Console, Release: File + Remote
  static LogOutput _getLogOutput() {
    if (kDebugMode) {
      return ConsoleOutput();
    } else {
      // In Production: File + Remote Upload
      return MultiOutput([
        ConsoleOutput(),
        FileOutput(), // Local file storage
        // TODO: RemoteOutput(), // Upload to backend
      ]);
    }
  }

  // === Public API ===

  /// General App Logger
  static Logger get app => _logger;

  /// API Calls & Responses
  static Logger get api => _apiLogger;

  /// Authentication Events
  static Logger get auth => _authLogger;

  /// Navigation & Routing
  static Logger get navigation => _navigationLogger;

  /// Errors & Crashes
  static Logger get error => _errorLogger;

  // === Convenience Methods ===

  /// Log API Request
  static void logApiRequest(String method, String url, {Map<String, dynamic>? headers, dynamic body}) {
    api.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

    _errorLogger = Logger(
      printer: _getLogPrinter(prefix: '[ERROR]'),
      level: Level.warning,
      output: _getLogOutput(),
    );
```

**errorTokenvalidierungFehlgeschlagen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:108:25`
- ğŸ“ Original: `'âš ï¸ Token-Validierung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      } catch (e) {
        // Token validation error
        AppLogger.api.w('âš ï¸ Token-Validierung fehlgeschlagen', error: e);
        await _authService.refreshTokenIfNeeded();
      } finally {
        _isValidatingToken = false;
```

**errorErrorEBei** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:157:56`
- ğŸ“ Original: `', error: e);
        // Bei Token-Refresh-Fehlern automatisch ausloggen
        await _authService.logout();
        // Cache invalidieren nach Logout
        AppRouter.invalidateAuthCache();
      }
    }
    return response;
  }

  // VollstÃ¤ndige Request-Wiederholung fÃ¼r alle HTTP-Methoden mit erweiterter Kontext-Verwaltung
  Future<http.Response> _retryRequest(String endpoint, String method) async {
    switch (method) {
      case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        }
      } catch (e) {
        AppLogger.api.e('âŒ Token-Refresh fehlgeschlagen', error: e);
        // Bei Token-Refresh-Fehlern automatisch ausloggen
        await _authService.logout();
        // Cache invalidieren nach Logout
```

**errorPreregisterme** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:283:66`
- ğŸ“ Original: `'/pre-register/me'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Don't log 404 errors for player status checks
      if (response.statusCode == 404 && 
          (endpoint.contains('/players/me') || endpoint.contains('/pre-register/me'))) {
        return response;
      }
```

**errorEndpointErrorStacktrace** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:290:33`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> post(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Log API Request (ohne sensitive Daten fÃ¼r Auth-Endpoints)
    final logBody = endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('GET', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorEndpointErrorStacktrace** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:324:34`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> put(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Log API Request
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('POST', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorEndpointErrorStacktrace** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:356:33`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> delete(String endpoint) async {
    await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('PUT', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorErrorEAwait** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:108:61`
- ğŸ“ Original: `', error: e);
        await _authService.refreshTokenIfNeeded();
      } finally {
        _isValidatingToken = false;
      }
    }
  }

  // Response-Interceptor mit Header-Parsing fÃ¼r proaktive Token-Erneuerung
  Future<http.Response> _handleResponse(http.Response response, String endpoint) async {
    // Proaktive Token-Erneuerung basierend auf Response-Headers
    if (response.headers['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      } catch (e) {
        // Token validation error
        AppLogger.api.w('âš ï¸ Token-Validierung fehlgeschlagen', error: e);
        await _authService.refreshTokenIfNeeded();
      } finally {
        _isValidatingToken = false;
```

**errorProaktiveTokenerneuerungFehlgeschlagen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:136:27`
- ğŸ“ Original: `'âŒ Proaktive Token-Erneuerung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          }
        } catch (e) {
          AppLogger.api.e('âŒ Proaktive Token-Erneuerung fehlgeschlagen', error: e);
        }
      }
    }
```

**errorTokenrefreshFehlgeschlagen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:157:25`
- ğŸ“ Original: `'âŒ Token-Refresh fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        }
      } catch (e) {
        AppLogger.api.e('âŒ Token-Refresh fehlgeschlagen', error: e);
        // Bei Token-Refresh-Fehlern automatisch ausloggen
        await _authService.logout();
        // Cache invalidieren nach Logout
```

**errorEndpointErrorStacktrace** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:290:33`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> post(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Log API Request (ohne sensitive Daten fÃ¼r Auth-Endpoints)
    final logBody = endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('GET', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorEndpointErrorStacktrace** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:324:34`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> put(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Log API Request
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('POST', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorReturnServiceAs** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\main.dart:18:49`
- ğŸ“ Original: `');
    }
    return service as T;
  }

  static bool has<T>() {
    return _services.containsKey(T);
  }

  static void clear() {
    _services.clear();
  }
}

void main() async {
  WidgetsFlutterBinding.ensureInitialized();

  // Initialisiere das Logging-System
  AppLogger.initialize();
  AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static T get<T>() {
    final service = _services[T];
    if (service == null) {
      throw Exception('Service $T not registered');
    }
    return service as T;
  }
```

**errorStaticConstString** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:52:51`
- ğŸ“ Original: `';
  static const String worldDashboardRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String registerRoute = 'register';
  static const String forgotPasswordRoute = 'forgot-password';
  static const String resetPasswordRoute = 'reset-password';
  static const String worldListRoute = 'world-list';
  static const String worldDashboardRoute = 'world-dashboard';
  static const String worldJoinRoute = 'world-join';
  static const String errorRoute = 'error';
```

**errorNavigatorkeyFÃ¼rZukÃ¼nftige** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:55:42`
- ğŸ“ Original: `';

  // NavigatorKey fÃ¼r zukÃ¼nftige Shell-Integration (z.B. BottomNav)
  static final GlobalKey<NavigatorState> _rootNavigatorKey = GlobalKey<NavigatorState>();

  static GoRouter? _routerInstance;
  static bool _isInitialized = false;
  
  // Helper method to safely get AuthService - komplett unabhÃ¤ngig von ServiceLocator
  static AuthService? _getAuthService() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        return ServiceLocator.get<AuthService>();
      }
    } catch (e) {
      AppLogger.navigation.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String worldListRoute = 'world-list';
  static const String worldDashboardRoute = 'world-dashboard';
  static const String worldJoinRoute = 'world-join';
  static const String errorRoute = 'error';

  // NavigatorKey fÃ¼r zukÃ¼nftige Shell-Integration (z.B. BottomNav)
  static final GlobalKey<NavigatorState> _rootNavigatorKey = GlobalKey<NavigatorState>();
```

**errorErrorEKein** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:70:55`
- ğŸ“ Original: `', error: e);
    }
    // Kein Fallback - Services sind nicht verfÃ¼gbar
    return null;
  }
  
  static GoRouter get router {
    AppLogger.navigation.d('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return ServiceLocator.get<AuthService>();
      }
    } catch (e) {
      AppLogger.navigation.w('âš ï¸ ServiceLocator Fehler', error: e);
    }
    // Kein Fallback - Services sind nicht verfÃ¼gbar
    return null;
```

**error_routerinstanceNullIf** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:77:78`
- ğŸ“ Original: `': _routerInstance != null});
    
    if (_routerInstance != null) {
      return _routerInstance!;
    }
    
    // Router nur einmal initialisieren
    if (!_isInitialized) {
      AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
  
  static GoRouter get router {
    AppLogger.navigation.d('ğŸ” Router-Instanz angefragt', error: {'initialized': _routerInstance != null});
    
    if (_routerInstance != null) {
      return _routerInstance!;
```

**errorRedirectZuLogin** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:114:36`
- ğŸ“ Original: `'ğŸ”’ Redirect zu Login'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
!isInviteRoute; // Invite-Routen ausschlieÃŸen

          if (!isLoggedIn && isProtectedRoute) {
            AppLogger.navigation.i('ğŸ”’ Redirect zu Login', error: {'from': state.matchedLocation});
            return '/go/auth/login';
          }
```

**errorRedirectZuWorlds** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:119:36`
- ğŸ“ Original: `'ğŸ  Redirect zu Worlds'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}

          if (isLoggedIn && isAuthRoute) {
            AppLogger.navigation.i('ğŸ  Redirect zu Worlds', error: {'from': state.matchedLocation});
            return '/go/worlds';
          }
```

**errorInviteroutenWerdenDurchgelassen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:120:31`
- ğŸ“ Original: `';
          }

          // Invite-Routen werden durchgelassen (keine Weiterleitung)
          if (isInviteRoute) {
            AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (isLoggedIn && isAuthRoute) {
            AppLogger.navigation.i('ğŸ  Redirect zu Worlds', error: {'from': state.matchedLocation});
            return '/go/worlds';
          }

          // Invite-Routen werden durchgelassen (keine Weiterleitung)
```

**errorErrorEStacktrace** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:130:59`
- ğŸ“ Original: `', error: e, stackTrace: StackTrace.current);
          // Bei Fehlern zur Login-Seite weiterleiten
          return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
        } catch (e) {
          AppLogger.navigation.e('âŒ Router Redirect Fehler', error: e, stackTrace: StackTrace.current);
          // Bei Fehlern zur Login-Seite weiterleiten
          return '/go/auth/login';
        }
```

**errorIfWorldidNull** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:212:51`
- ğŸ“ Original: `'];
          if (worldId == null) {
            return CustomTransitionPage(
              child: const ErrorPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
                SlideTransition(
                  position: Tween<Offset>(
                    begin: const Offset(0.0, 1.0),
                    end: Offset.zero,
                  ).animate(CurvedAnimation(
                    parent: animation,
                    curve: Curves.easeInOut,
                  )),
                  child: child,
                ),
            );
          }
          return CustomTransitionPage(
            child: DashboardPage(worldId: worldId),
            transitionsBuilder: (context, animation, secondaryAnimation, child) =>
              SlideTransition(
                position: Tween<Offset>(
                  begin: const Offset(0.0, 1.0),
                  end: Offset.zero,
                ).animate(CurvedAnimation(
                  parent: animation,
                  curve: Curves.easeInOut,
                )),
                child: child,
              ),
          );
        },
      ),
      // NORMALE WORLD-JOIN Route (Ã¼ber interne Navigation)
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
path: '/go/worlds/:id',
        name: worldDashboardRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['id'];
          if (worldId == null) {
            return CustomTransitionPage(
              child: const ErrorPage(),
```

**errorIfWorldidNull** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:250:51`
- ğŸ“ Original: `'];
          if (worldId == null) {
            return CustomTransitionPage(
              child: const ErrorPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
                SlideTransition(
                  position: Tween<Offset>(
                    begin: const Offset(0.0, 1.0),
                    end: Offset.zero,
                  ).animate(CurvedAnimation(
                    parent: animation,
                    curve: Curves.easeInOut,
                  )),
                  child: child,
                ),
            );
          }
          return CustomTransitionPage(
            child: WorldJoinPage(
              worldId: worldId,
              flowType: WorldJoinFlowType.normal, // KLARE FLOW-KENNZEICHNUNG
            ),
            transitionsBuilder: (context, animation, secondaryAnimation, child) =>
              SlideTransition(
                position: Tween<Offset>(
                  begin: const Offset(0.0, 1.0),
                  end: Offset.zero,
                ).animate(CurvedAnimation(
                  parent: animation,
                  curve: Curves.easeInOut,
                )),
                child: child,
              ),
          );
        },
      ),
      // INVITE-FLOW Route (externe Links)
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
path: '/go/worlds/:id/join',
        name: worldJoinRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['id'];
          if (worldId == null) {
            return CustomTransitionPage(
              child: const ErrorPage(),
```

**errorStatematchedlocationReturnCustomtransitionpage** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:293:74`
- ğŸ“ Original: `': state.matchedLocation});
            return CustomTransitionPage(
              child: const ErrorPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
                SlideTransition(
                  position: Tween<Offset>(
                    begin: const Offset(0.0, 1.0),
                    end: Offset.zero,
                  ).animate(CurvedAnimation(
                    parent: animation,
                    curve: Curves.easeInOut,
                  )),
                  child: child,
                ),
            );
          }
          AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
pageBuilder: (context, state) {
          final token = state.pathParameters['token'];
          if (token == null || token.isEmpty) {
            AppLogger.navigation.w('âš ï¸ Invite-Token fehlt', error: {'path': state.matchedLocation});
            return CustomTransitionPage(
              child: const ErrorPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
```

**errorReturnCustomtransitionpageChild** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:309:105`
- ğŸ“ Original: `'});
          return CustomTransitionPage(
            child: WorldJoinPage(
              inviteToken: token,
              flowType: WorldJoinFlowType.invite, // KLARE FLOW-KENNZEICHNUNG
            ),
            transitionsBuilder: (context, animation, secondaryAnimation, child) =>
              SlideTransition(
                position: Tween<Offset>(
                  begin: const Offset(0.0, 1.0),
                  end: Offset.zero,
                ).animate(CurvedAnimation(
                  parent: animation,
                  curve: Curves.easeInOut,
                )),
                child: child,
              ),
          );
        },
      ),
    ],
    
    // Verbesserte Fehlerbehandlung mit robuster 404-Erkennung
    errorBuilder: (context, state) {
      // Spezifische Fehlerbehandlung basierend auf Error-Typ
      if (state.error is GoException) {
        final goException = state.error as GoException;
        
        // Auth-Fehler
        if (goException.message.contains('`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
            );
          }
          AppLogger.navigation.i('ğŸ« Invite-Token erkannt', error: {'token': token.substring(0, 8) + '...'});
          return CustomTransitionPage(
            child: WorldJoinPage(
              inviteToken: token,
```

**errorReturnConstAutherrorpage** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:338:46`
- ğŸ“ Original: `')) {
          return const AuthErrorPage();
        }
        
        // Welt nicht gefunden - robuste Erkennung
        if (goException.message.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final goException = state.error as GoException;
        
        // Auth-Fehler
        if (goException.message.contains('401')) {
          return const AuthErrorPage();
        }
```

**errorReturnConstWorldnotfoundpage** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:345:53`
- ğŸ“ Original: `'))) {
          return const WorldNotFoundPage();
        }
      }
      
      // Standard 404-Fehlerseite
      return const ErrorPage();
    },
  );
        
        _isInitialized = true;
      } catch (e) {
        // Bei Fehler wÃ¤hrend der Initialisierung
        AppLogger.navigation.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Welt nicht gefunden - robuste Erkennung
        if (goException.message.contains('404') && 
            (state.matchedLocation.contains('/worlds/') || 
             state.uri.pathSegments.contains('worlds'))) {
          return const WorldNotFoundPage();
        }
      }
```

**errorErrorEFallback** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:358:65`
- ğŸ“ Original: `', error: e);
        // Fallback: Minimaler Router nur mit Error Page
        _routerInstance = GoRouter(
          initialLocation: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_isInitialized = true;
      } catch (e) {
        // Bei Fehler wÃ¤hrend der Initialisierung
        AppLogger.navigation.e('âŒ Router Initialisierungs-Fehler', error: e);
        // Fallback: Minimaler Router nur mit Error Page
        _routerInstance = GoRouter(
          initialLocation: '/go',
```

**errorBuilderContextState** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:364:25`
- ğŸ“ Original: `',
              builder: (context, state) => const ErrorPage(),
            ),
          ],
        );
        _isInitialized = true;
      }
    }
    return _routerInstance!;
  }

  // Getter fÃ¼r NavigatorKey (fÃ¼r zukÃ¼nftige Shell-Integration)
  static GlobalKey<NavigatorState> get rootNavigatorKey => _rootNavigatorKey;
  
  // Public Methoden fÃ¼r Cache-Management
  static void invalidateAuthCache() {
    // Caching entfernt, daher keine Cache-Invalidierung mehr nÃ¶tig
  }
  static bool? get cachedLoginState => null; // Caching entfernt
  
  // Cache beim App-Start invalidieren
  static void invalidateCacheOnStart() {
    // Caching entfernt, daher keine Cache-Invalidierung mehr nÃ¶tig
    AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
initialLocation: '/go',
          routes: [
            GoRoute(
              path: '/go',
              builder: (context, state) => const ErrorPage(),
            ),
          ],
```

**errorServicelocatorFehler** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:70:30`
- ğŸ“ Original: `'âš ï¸ ServiceLocator Fehler'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return ServiceLocator.get<AuthService>();
      }
    } catch (e) {
      AppLogger.navigation.w('âš ï¸ ServiceLocator Fehler', error: e);
    }
    // Kein Fallback - Services sind nicht verfÃ¼gbar
    return null;
```

**errorInviteroutenWerdenDurchgelassen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:120:31`
- ğŸ“ Original: `';
          }

          // Invite-Routen werden durchgelassen (keine Weiterleitung)
          if (isInviteRoute) {
            AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (isLoggedIn && isAuthRoute) {
            AppLogger.navigation.i('ğŸ  Redirect zu Worlds', error: {'from': state.matchedLocation});
            return '/go/worlds';
          }

          // Invite-Routen werden durchgelassen (keine Weiterleitung)
```

**errorRouterRedirectFehler** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:130:34`
- ğŸ“ Original: `'âŒ Router Redirect Fehler'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
        } catch (e) {
          AppLogger.navigation.e('âŒ Router Redirect Fehler', error: e, stackTrace: StackTrace.current);
          // Bei Fehlern zur Login-Seite weiterleiten
          return '/go/auth/login';
        }
```

**errorInvitetokenFehlt** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:293:36`
- ğŸ“ Original: `'âš ï¸ Invite-Token fehlt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
pageBuilder: (context, state) {
          final token = state.pathParameters['token'];
          if (token == null || token.isEmpty) {
            AppLogger.navigation.w('âš ï¸ Invite-Token fehlt', error: {'path': state.matchedLocation});
            return CustomTransitionPage(
              child: const ErrorPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
```

**errorInvitetokenErkannt** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:309:34`
- ğŸ“ Original: `'ğŸ« Invite-Token erkannt'`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
            );
          }
          AppLogger.navigation.i('ğŸ« Invite-Token erkannt', error: {'token': token.substring(0, 8) + '...'});
          return CustomTransitionPage(
            child: WorldJoinPage(
              inviteToken: token,
```

**errorReturnCustomtransitionpageChild** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:309:105`
- ğŸ“ Original: `'});
          return CustomTransitionPage(
            child: WorldJoinPage(
              inviteToken: token,
              flowType: WorldJoinFlowType.invite, // KLARE FLOW-KENNZEICHNUNG
            ),
            transitionsBuilder: (context, animation, secondaryAnimation, child) =>
              SlideTransition(
                position: Tween<Offset>(
                  begin: const Offset(0.0, 1.0),
                  end: Offset.zero,
                ).animate(CurvedAnimation(
                  parent: animation,
                  curve: Curves.easeInOut,
                )),
                child: child,
              ),
          );
        },
      ),
    ],
    
    // Verbesserte Fehlerbehandlung mit robuster 404-Erkennung
    errorBuilder: (context, state) {
      // Spezifische Fehlerbehandlung basierend auf Error-Typ
      if (state.error is GoException) {
        final goException = state.error as GoException;
        
        // Auth-Fehler
        if (goException.message.contains('`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
            );
          }
          AppLogger.navigation.i('ğŸ« Invite-Token erkannt', error: {'token': token.substring(0, 8) + '...'});
          return CustomTransitionPage(
            child: WorldJoinPage(
              inviteToken: token,
```

**errorReturnConstWorldnotfoundpage** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:345:53`
- ğŸ“ Original: `'))) {
          return const WorldNotFoundPage();
        }
      }
      
      // Standard 404-Fehlerseite
      return const ErrorPage();
    },
  );
        
        _isInitialized = true;
      } catch (e) {
        // Bei Fehler wÃ¤hrend der Initialisierung
        AppLogger.navigation.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Welt nicht gefunden - robuste Erkennung
        if (goException.message.contains('404') && 
            (state.matchedLocation.contains('/worlds/') || 
             state.uri.pathSegments.contains('worlds'))) {
          return const WorldNotFoundPage();
        }
      }
```

**errorEIfMounted** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:88:70`
- ğŸ“ Original: `', e);
      
      if (mounted) {
        setState(() {
          _error = e.toString();
        });
      }
    }
  }

  Future<void> _runInitializationWithSteps() async {
    final initSteps = widget.initSteps;
    if (initSteps != null && initSteps.isNotEmpty) {
      for (int i = 0; i < initSteps.length; i++) {
        if (mounted) {
          setState(() {
            _currentStepIndex = i;
            _currentStepName = initSteps[i];
          });
        }
        
        // Simuliere Schritt-fÃ¼r-Schritt Initialisierung
        await Future.delayed(const Duration(milliseconds: 300));
      }
    }
    
    // FÃ¼hre die eigentliche Initialisierung aus
    await widget.initializationFunction();
  }

  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    if (_error != null) {
      return _buildErrorScreen();
    }
    
    if (_isInitialized) {
      // Direkt das Child anzeigen ohne FadeTransition die ausblendet
      return widget.child;
    }
    
    return _buildSplashScreen();
  }

  Widget _buildSplashScreen() {
    final initSteps = widget.initSteps;
    final loadingText = widget.loadingText;
    
    return Scaffold(
      backgroundColor: Theme.of(context).primaryColor,
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            // App Logo/Icon
            widget.logo ?? Container(
              width: 120,
              height: 120,
              decoration: BoxDecoration(
                color: Colors.white,
                borderRadius: BorderRadius.circular(20),
                boxShadow: [
                  BoxShadow(
                    color: Colors.black.withOpacity(0.1),
                    blurRadius: 10,
                    offset: const Offset(0, 5),
                  ),
                ],
              ),
              child: const Icon(
                Icons.public,
                size: 60,
                color: Colors.blue,
              ),
            ),
            
            const SizedBox(height: 40),
            
            // App Name
            Text(
              widget.appName ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// _animationController.reverse(); // ENTFERNT
      }
    } catch (e) {
      AppLogger.logError('SplashScreen Initialisierung fehlgeschlagen', e);
      
      if (mounted) {
        setState(() {
```

**errorUnbekannterFehler** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:290:27`
- ğŸ“ Original: `'Unbekannter Fehler'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 10),
              
              Text(
                _error ?? 'Unbekannter Fehler',
                textAlign: TextAlign.center,
                style: const TextStyle(
                  fontSize: 16,
```

### ğŸ·ï¸ INVITE

**inviteDatetimenowmillisecondssinceepochtostringIf_token** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:68:21`
- ğŸ“ Original: `': DateTime.now().millisecondsSinceEpoch.toString(),
    };
    
    if (_token != null) {
      headers['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'Content-Type': 'application/json',
      'X-Device-Fingerprint': deviceFingerprint,
      'X-Client-Timezone': 'Europe/Berlin',
      'X-Client-Time': DateTime.now().millisecondsSinceEpoch.toString(),
    };
    
    if (_token != null) {
```

**inviteAsIntFinal** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:88:35`
- ğŸ“ Original: `'] as int;
          final now = DateTime.now().millisecondsSinceEpoch ~/ 1000;
          
          // Token erneuern wenn weniger als 60 Sekunden gÃ¼ltig
          if (exp - now < 60) {
            // Log Token-Refresh
            AppLogger.api.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final parts = token.split('.');
        if (parts.length == 3) {
          final payload = jsonDecode(utf8.decode(base64Url.decode(base64Url.normalize(parts[1]))));
          final exp = payload['exp'] as int;
          final now = DateTime.now().millisecondsSinceEpoch ~/ 1000;
          
          // Token erneuern wenn weniger als 60 Sekunden gÃ¼ltig
```

**inviteFinalExpiresinInttryparseresponseheaders** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:119:58`
- ğŸ“ Original: `') {
      final expiresIn = int.tryParse(response.headers['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Response-Interceptor mit Header-Parsing fÃ¼r proaktive Token-Erneuerung
  Future<http.Response> _handleResponse(http.Response response, String endpoint) async {
    // Proaktive Token-Erneuerung basierend auf Response-Headers
    if (response.headers['x-token-expires-soon'] == 'true') {
      final expiresIn = int.tryParse(response.headers['x-token-expires-in'] ?? '0');
      if (expiresIn != null && expiresIn < 60) {
        try {
```

**inviteRequestheadersaddall_headersRequestbodyJsonencodedata** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:215:95`
- ğŸ“ Original: `'));
    request.headers.addAll(_headers);
    request.body = jsonEncode(data);
    
    final streamedResponse = await request.send();
    final response = await http.Response.fromStream(streamedResponse);
    
    return await _handleResponse(response, endpoint);
  }

  // Helper fÃ¼r das Sanitieren von sensiblen Daten aus dem Request-Body
  Map<String, dynamic> _sanitizeAuthData(Map<String, dynamic> data) {
    final sanitized = <String, dynamic>{};
    for (final entry in data.entries) {
      if (entry.key == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _ensureValidToken();
    }
    
    final request = http.Request('DELETE', Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'));
    request.headers.addAll(_headers);
    request.body = jsonEncode(data);
```

**inviteDatetimenowmillisecondssinceepochtostringIf_token** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:68:21`
- ğŸ“ Original: `': DateTime.now().millisecondsSinceEpoch.toString(),
    };
    
    if (_token != null) {
      headers['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'Content-Type': 'application/json',
      'X-Device-Fingerprint': deviceFingerprint,
      'X-Client-Timezone': 'Europe/Berlin',
      'X-Client-Time': DateTime.now().millisecondsSinceEpoch.toString(),
    };
    
    if (_token != null) {
```

**inviteAsIntFinal** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:88:35`
- ğŸ“ Original: `'] as int;
          final now = DateTime.now().millisecondsSinceEpoch ~/ 1000;
          
          // Token erneuern wenn weniger als 60 Sekunden gÃ¼ltig
          if (exp - now < 60) {
            // Log Token-Refresh
            AppLogger.api.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final parts = token.split('.');
        if (parts.length == 3) {
          final payload = jsonDecode(utf8.decode(base64Url.decode(base64Url.normalize(parts[1]))));
          final exp = payload['exp'] as int;
          final now = DateTime.now().millisecondsSinceEpoch ~/ 1000;
          
          // Token erneuern wenn weniger als 60 Sekunden gÃ¼ltig
```

**inviteXtokenexpiresin** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:120:55`
- ğŸ“ Original: `'x-token-expires-in'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<http.Response> _handleResponse(http.Response response, String endpoint) async {
    // Proaktive Token-Erneuerung basierend auf Response-Headers
    if (response.headers['x-token-expires-soon'] == 'true') {
      final expiresIn = int.tryParse(response.headers['x-token-expires-in'] ?? '0');
      if (expiresIn != null && expiresIn < 60) {
        try {
          AppLogger.api.i('ğŸ”„ Proaktive Token-Erneuerung - lÃ¤uft ab in ${expiresIn}s');
```

**inviteClassTokenstorageStatic** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\token_storage.dart:3:59`
- ğŸ“ Original: `';

class TokenStorage {
  static const _accessTokenKey = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/foundation.dart' show kIsWeb;
import 'package:flutter_secure_storage/flutter_secure_storage.dart';
import 'package:shared_preferences/shared_preferences.dart';

class TokenStorage {
  static const _accessTokenKey = 'access_token';
```

**inviteStaticConst_refreshtokenkey** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\token_storage.dart:6:47`
- ğŸ“ Original: `';
  static const _refreshTokenKey = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:shared_preferences/shared_preferences.dart';

class TokenStorage {
  static const _accessTokenKey = 'access_token';
  static const _refreshTokenKey = 'refresh_token';
  static const _userDataKey = 'user_data';
```

**inviteBitteGebenSie** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:109:26`
- ğŸ“ Original: `'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'E-Mail-Adresse ist erforderlich';
                }
                if (!RegExp(r'^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$').hasMatch(value)) {
                  return 'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein';
                }
                return null;
              },
```

**inviteBitteGebenSie** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:109:26`
- ğŸ“ Original: `'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'E-Mail-Adresse ist erforderlich';
                }
                if (!RegExp(r'^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$').hasMatch(value)) {
                  return 'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein';
                }
                return null;
              },
```

### ğŸ·ï¸ NAVIGATION

**navigationLevelKdebugmodeLeveldebug** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\config\logger.dart:35:45`
- ğŸ“ Original: `'),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );

    _errorLogger = Logger(
      printer: _getLogPrinter(prefix: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

    _navigationLogger = Logger(
      printer: _getLogPrinter(prefix: '[NAV]'),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );
```

**navigationClassApiserviceStatic** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:7:38`
- ğŸ“ Original: `';

class ApiService {
  static final ApiService _instance = ApiService._internal();
  factory ApiService() => _instance;
  ApiService._internal();

  String? _token;
  late final AuthService _authService;
  String? _deviceFingerprint;
  bool _initialized = false;
  bool _isValidatingToken = false; // Verhindert rekursive Token-Validierung
  
  // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
  final Map<String, Map<String, dynamic>> _requestBodies = {};

  // Dependency Injection fÃ¼r bessere Testbarkeit
  ApiService.withAuth(AuthService authService) : _authService = authService;

  // Initialisierung beim ersten Zugriff
  Future<void> _ensureInitialized() async {
    if (!_initialized) {
      _authService = AuthService(); // Fallback fÃ¼r Singleton-Pattern
      try {
        final accessToken = await _authService.getCurrentAccessToken();
        if (accessToken != null) {
          _token = accessToken;
        }
      } catch (e) {
        // Error loading token
      }
      _initialized = true;
    }
  }

  void setToken(String token) {
    _token = token;
  }

  void clearToken() {
    _token = null;
  }

  // Einfacher Device-Fingerprint
  String get deviceFingerprint {
    final currentFingerprint = _deviceFingerprint;
    if (currentFingerprint != null) {
      return currentFingerprint;
    }
    final fingerprint = kIsWeb 
        ? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../config/env.dart';
import '../../config/logger.dart';
import 'auth_service.dart';
import '../../routing/app_router.dart';

class ApiService {
  static final ApiService _instance = ApiService._internal();
```

**navigationClassNavigationwidgetExtends** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:3:35`
- ğŸ“ Original: `';

class NavigationWidget extends StatefulWidget {
  final String? currentRoute;
  final Map<String, dynamic>? routeParams;
  final bool? isJoinedWorld; // Ob der User in der aktuellen Welt registriert ist
  
  const NavigationWidget({
    super.key,
    this.currentRoute,
    this.routeParams,
    this.isJoinedWorld,
  });

  @override
  State<NavigationWidget> createState() => _NavigationWidgetState();
}

class _NavigationWidgetState extends State<NavigationWidget> with SingleTickerProviderStateMixin {
  late AnimationController _animationController;
  late Animation<double> _fadeAnimation;
  bool _isExpanded = false;
  
  @override
  void initState() {
    super.initState();
    
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 300),
      vsync: this,
    );
    
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeInOut,
    ));
    
    _animationController.forward();
  }
  
  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }
  
  void _toggleExpanded() {
    setState(() {
      _isExpanded = !_isExpanded;
    });
  }
  
  void _showJoinRequiredMessage() {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(
        content: const Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../theme/app_theme.dart';

class NavigationWidget extends StatefulWidget {
  final String? currentRoute;
```

**navigationOntapIsdividerTrue** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:83:17`
- ğŸ“ Original: `',
        onTap: () {},
        isDivider: true,
      ));
    }
    
    // Immer zur Welten-Liste
    items.add(NavigationItem(
      icon: Icons.public,
      label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
items.add(NavigationItem(
        icon: Icons.remove,
        label: '',
        onTap: () {},
        isDivider: true,
      ));
```

**navigationWeltdetailsAnzeigenVon** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:94:51`
- ğŸ“ Original: `',
    ));
    
    // Welt-Details anzeigen (von Dashboard oder wenn auf Join-Page)
    if ((widget.currentRoute == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
icon: Icons.public,
      label: 'Welten-Ãœbersicht',
      onTap: () => context.goNamed('world-list'),
      isActive: widget.currentRoute == 'world-list',
    ));
    
    // Welt-Details anzeigen (von Dashboard oder wenn auf Join-Page)
```

**navigationWeltdetails** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:104:18`
- ğŸ“ Original: `'Welt-Details'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (worldIdParam != null) {
        items.add(NavigationItem(
          icon: Icons.info_outline,
          label: 'Welt-Details',
          onTap: () => context.goNamed('world-join', 
            pathParameters: {'id': worldIdParam.toString()}
          ),
```

**navigationDashboardLinkNur** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:108:55`
- ğŸ“ Original: `',
        ));
      }
    }
    
    // Dashboard Link - nur aktiv wenn User in der Welt ist
    if ((widget.currentRoute == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
onTap: () => context.goNamed('world-join', 
            pathParameters: {'id': worldIdParam.toString()}
          ),
          isActive: widget.currentRoute == 'world-join',
        ));
      }
    }
```

**navigationDashboardBeitretenErforderlich** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:123:47`
- ğŸ“ Original: `'Dashboard (Beitreten erforderlich)'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
items.add(NavigationItem(
          icon: Icons.dashboard,
          label: isJoined ? 'Zum Dashboard' : 'Dashboard (Beitreten erforderlich)',
          onTap: isJoined 
            ? () => context.goNamed('world-dashboard', pathParameters: {'id': worldId})
            : () => _showJoinRequiredMessage(),
```

### ğŸ·ï¸ UI

**uiGibDeineEmailadresse** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:155:31`
- ğŸ“ Original: `'Gib deine E-Mail-Adresse ein und wir senden dir einen Link zum ZurÃ¼cksetzen deines Passworts.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
                            
                            Text(
                              'Gib deine E-Mail-Adresse ein und wir senden dir einen Link zum ZurÃ¼cksetzen deines Passworts.',
                              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                color: Colors.grey[300],
                                fontSize: 14,
```

**uiEmailGesendetBitte** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:181:41`
- ğŸ“ Original: `'E-Mail gesendet! Bitte Ã¼berprÃ¼fe deinen Posteingang.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(width: 8),
                                    Expanded(
                                      child: Text(
                                        'E-Mail gesendet! Bitte Ã¼berprÃ¼fe deinen Posteingang.',
                                        style: TextStyle(color: Colors.green[200], fontSize: 14),
                                      ),
                                    ),
```

**uiPasswortZurÃ¼cksetzen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:145:31`
- ğŸ“ Original: `'Passwort zurÃ¼cksetzen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 20),
                            
                            Text(
                              'Passwort zurÃ¼cksetzen',
                              style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                color: Colors.white,
                                fontWeight: FontWeight.bold,
```

**uiGibDeineEmailadresse** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:155:31`
- ğŸ“ Original: `'Gib deine E-Mail-Adresse ein und wir senden dir einen Link zum ZurÃ¼cksetzen deines Passworts.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
                            
                            Text(
                              'Gib deine E-Mail-Adresse ein und wir senden dir einen Link zum ZurÃ¼cksetzen deines Passworts.',
                              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                color: Colors.grey[300],
                                fontSize: 14,
```

**uiEmailGesendetBitte** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:181:41`
- ğŸ“ Original: `'E-Mail gesendet! Bitte Ã¼berprÃ¼fe deinen Posteingang.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(width: 8),
                                    Expanded(
                                      child: Text(
                                        'E-Mail gesendet! Bitte Ã¼berprÃ¼fe deinen Posteingang.',
                                        style: TextStyle(color: Colors.green[200], fontSize: 14),
                                      ),
                                    ),
```

**uiStyleTextstyleFontsize** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\login_page.dart:474:58`
- ğŸ“ Original: `',
                                                style: TextStyle(
                                                  fontSize: 16,
                                                  fontWeight: FontWeight.bold,
                                                ),
                                              ),
                                      ),
                                    ),
                                  ),
                                  const SizedBox(height: 24),
                                  
                                  // Divider with text
                                  Row(
                                    children: [
                                      Expanded(
                                        child: Divider(
                                          color: Colors.grey[600],
                                          thickness: 1,
                                        ),
                                      ),
                                      Padding(
                                        padding: const EdgeInsets.symmetric(horizontal: 16),
                                        child: Text(
                                          '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                              )
                                            : const Text(
                                                'Anmelden',
                                                style: TextStyle(
                                                  fontSize: 16,
                                                  fontWeight: FontWeight.bold,
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\login_page.dart:497:48`
- ğŸ“ Original: `',
                                          style: TextStyle(
                                            color: Colors.grey[400],
                                            fontSize: 14,
                                          ),
                                        ),
                                      ),
                                      Expanded(
                                        child: Divider(
                                          color: Colors.grey[600],
                                          thickness: 1,
                                        ),
                                      ),
                                    ],
                                  ),
                                  const SizedBox(height: 16),
                                  
                                  // Social Login Buttons (Placeholder)
                                  Row(
                                    mainAxisAlignment: MainAxisAlignment.center,
                                    children: [
                                      // Google Login
                                      _buildSocialLoginButton(
                                        onPressed: () {
                                          ScaffoldMessenger.of(context).showSnackBar(
                                            const SnackBar(
                                              content: Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Padding(
                                        padding: const EdgeInsets.symmetric(horizontal: 16),
                                        child: Text(
                                          'oder',
                                          style: TextStyle(
                                            color: Colors.grey[400],
                                            fontSize: 14,
```

**uiConstSizedboxheight20** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\login_page.dart:541:55`
- ğŸ“ Original: `',
                                      ),
                                    ],
                                  ),
                                  const SizedBox(height: 20),
                                  
                                  // Register link
                                  Row(
                                    mainAxisAlignment: MainAxisAlignment.center,
                                    children: [
                                      Text(
                                        '`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
);
                                        },
                                        icon: Icons.code,
                                        label: 'GitHub',
                                      ),
                                    ],
                                  ),
```

**uiPasswortErfolgreichGeÃ¤ndert** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:191:46`
- ğŸ“ Original: `'Passwort erfolgreich geÃ¤ndert!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 20),
                              
                              Text(
                                _isSuccess ? 'Passwort erfolgreich geÃ¤ndert!' : 'Neues Passwort festlegen',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.white,
                                  fontWeight: FontWeight.bold,
```

**uiDuWirstAutomatisch** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:202:37`
- ğŸ“ Original: `'Du wirst automatisch zur Anmeldung weitergeleitet...'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
                                _isSuccess 
                                  ? 'Du wirst automatisch zur Anmeldung weitergeleitet...'
                                  : 'Bitte gib dein neues Passwort ein.',
                                style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                  color: Colors.grey[300],
```

**uiBitteGibDein** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:203:37`
- ğŸ“ Original: `'Bitte gib dein neues Passwort ein.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
                                _isSuccess 
                                  ? 'Du wirst automatisch zur Anmeldung weitergeleitet...'
                                  : 'Bitte gib dein neues Passwort ein.',
                                style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                  color: Colors.grey[300],
                                  fontSize: 14,
```

**uiPasswortanforderungen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:378:41`
- ğŸ“ Original: `'Passwort-Anforderungen:'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
crossAxisAlignment: CrossAxisAlignment.start,
                                    children: [
                                      const Text(
                                        'Passwort-Anforderungen:',
                                        style: TextStyle(
                                          color: Colors.white,
                                          fontSize: 14,
```

**uiPasswortZurÃ¼cksetzen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:450:45`
- ğŸ“ Original: `'Passwort zurÃ¼cksetzen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                          )
                                        : const Text(
                                            'Passwort zurÃ¼cksetzen',
                                            style: TextStyle(
                                              fontSize: 16,
                                              fontWeight: FontWeight.bold,
```

**uiPasswortErfolgreichGeÃ¤ndert** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:191:46`
- ğŸ“ Original: `'Passwort erfolgreich geÃ¤ndert!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 20),
                              
                              Text(
                                _isSuccess ? 'Passwort erfolgreich geÃ¤ndert!' : 'Neues Passwort festlegen',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.white,
                                  fontWeight: FontWeight.bold,
```

**uiDuWirstAutomatisch** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:202:37`
- ğŸ“ Original: `'Du wirst automatisch zur Anmeldung weitergeleitet...'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
                                _isSuccess 
                                  ? 'Du wirst automatisch zur Anmeldung weitergeleitet...'
                                  : 'Bitte gib dein neues Passwort ein.',
                                style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                  color: Colors.grey[300],
```

**uiBitteGibDein** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:203:37`
- ğŸ“ Original: `'Bitte gib dein neues Passwort ein.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
                                _isSuccess 
                                  ? 'Du wirst automatisch zur Anmeldung weitergeleitet...'
                                  : 'Bitte gib dein neues Passwort ein.',
                                style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                  color: Colors.grey[300],
                                  fontSize: 14,
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_card.dart:368:79`
- ğŸ“ Original: `',
                        style: TextStyle(
                          color: Colors.grey[400],
                          fontSize: 14,
                        ),
                      ),
                    ],
                  ),
                ],
              );
            }
          ),
        ],
      ],
    );
  }

  Widget _buildActionButtons() {
    final List<Widget> buttons = [];
    
    // Status-basierte Button-Logik
    switch (world.status) {
      case WorldStatus.upcoming:
        // Vorregistrierung oder ZurÃ¼ckziehen
        if (isPreRegistered) {
          if (onCancelPreRegistration != null) {
            buttons.add(_buildButton(
              onPressed: onCancelPreRegistration,
              icon: Icons.cancel,
              label: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(width: 4),
                      Text(
                        'Ende: ${endDate.day}.${endDate.month}.${endDate.year}',
                        style: TextStyle(
                          color: Colors.grey[400],
                          fontSize: 14,
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_card.dart:368:79`
- ğŸ“ Original: `',
                        style: TextStyle(
                          color: Colors.grey[400],
                          fontSize: 14,
                        ),
                      ),
                    ],
                  ),
                ],
              );
            }
          ),
        ],
      ],
    );
  }

  Widget _buildActionButtons() {
    final List<Widget> buttons = [];
    
    // Status-basierte Button-Logik
    switch (world.status) {
      case WorldStatus.upcoming:
        // Vorregistrierung oder ZurÃ¼ckziehen
        if (isPreRegistered) {
          if (onCancelPreRegistration != null) {
            buttons.add(_buildButton(
              onPressed: onCancelPreRegistration,
              icon: Icons.cancel,
              label: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(width: 4),
                      Text(
                        'Ende: ${endDate.day}.${endDate.month}.${endDate.year}',
                        style: TextStyle(
                          color: Colors.grey[400],
                          fontSize: 14,
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:60:22`
- ğŸ“ Original: `',
            style: TextStyle(
              color: Colors.grey[300],
              fontWeight: FontWeight.w600,
            ),
          ),
          const SizedBox(width: 8),
          ...WorldStatus.values.map((status) {
            final isSelected = statusFilter == status;
            return Padding(
              padding: const EdgeInsets.only(right: 8),
              child: FilterChip(
                selected: isSelected,
                label: Text(
                  _getStatusLabel(status),
                  style: TextStyle(
                    color: isSelected ? Colors.white : Colors.grey[300],
                  ),
                ),
                avatar: Icon(
                  _getStatusIcon(status),
                  size: 16,
                  color: isSelected ? Colors.white : _getStatusColor(status),
                ),
                onSelected: (selected) {
                  onStatusChanged(selected ? status : null);
                },
                backgroundColor: const Color(0xFF2D2D2D),
                selectedColor: _getStatusColor(status).withOpacity(0.3),
                checkmarkColor: Colors.white,
                side: BorderSide(
                  color: isSelected ? _getStatusColor(status) : Colors.grey[600]!,
                ),
              ),
            );
          }),
        ],
      ),
    );
  }

  Widget _buildCategoryFilter() {
    return SingleChildScrollView(
      scrollDirection: Axis.horizontal,
      padding: const EdgeInsets.symmetric(horizontal: 16),
      child: Row(
        children: [
          Text(
            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Row(
        children: [
          Text(
            'Status: ',
            style: TextStyle(
              color: Colors.grey[300],
              fontWeight: FontWeight.w600,
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:108:25`
- ğŸ“ Original: `',
            style: TextStyle(
              color: Colors.grey[300],
              fontWeight: FontWeight.w600,
            ),
          ),
          const SizedBox(width: 8),
          ...WorldCategory.values.map((category) {
            final isSelected = categoryFilter == category;
            return Padding(
              padding: const EdgeInsets.only(right: 8),
              child: FilterChip(
                selected: isSelected,
                label: Row(
                  mainAxisSize: MainAxisSize.min,
                  children: [
                    Icon(
                      _getCategoryIcon(category),
                      size: 16,
                      color: isSelected ? Colors.white : _getCategoryColor(category),
                    ),
                    const SizedBox(width: 4),
                    Text(
                      _getCategoryLabel(category),
                      style: TextStyle(
                        color: isSelected ? Colors.white : Colors.grey[300],
                      ),
                    ),
                  ],
                ),
                onSelected: (selected) {
                  onCategoryChanged(selected ? category : null);
                },
                backgroundColor: const Color(0xFF2D2D2D),
                selectedColor: _getCategoryColor(category).withOpacity(0.3),
                checkmarkColor: Colors.white,
                side: BorderSide(
                  color: isSelected ? _getCategoryColor(category) : Colors.grey[600]!,
                ),
              ),
            );
          }),
        ],
      ),
    );
  }

  Widget _buildSortOptions() {
    return Container(
      padding: const EdgeInsets.symmetric(horizontal: 16),
      child: Row(
        children: [
          Text(
            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Row(
        children: [
          Text(
            'Kategorie: ',
            style: TextStyle(
              color: Colors.grey[300],
              fontWeight: FontWeight.w600,
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:161:30`
- ğŸ“ Original: `',
            style: TextStyle(
              color: Colors.grey[300],
              fontWeight: FontWeight.w600,
            ),
          ),
          const SizedBox(width: 8),
          Container(
            height: 40,
            padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 4),
            decoration: BoxDecoration(
              color: const Color(0xFF2D2D2D),
              borderRadius: BorderRadius.circular(8),
              border: Border.all(color: Colors.grey[600]!),
            ),
            child: DropdownButton<String>(
              value: sortBy,
              dropdownColor: const Color(0xFF2D2D2D),
              style: const TextStyle(color: Colors.white),
              underline: Container(),
              icon: Icon(Icons.arrow_drop_down, color: Colors.grey[300]),
              items: const [
                DropdownMenuItem(
                  value: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Row(
        children: [
          Text(
            'Sortieren nach: ',
            style: TextStyle(
              color: Colors.grey[300],
              fontWeight: FontWeight.w600,
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:236:29`
- ğŸ“ Original: `',
            style: TextStyle(
              color: Colors.grey[400],
              fontSize: 12,
            ),
          ),
          const SizedBox(width: 8),
          if (statusFilter != null)
            Builder(
              builder: (context) {
                final filter = statusFilter!;
                return Padding(
                  padding: const EdgeInsets.only(right: 8),
                  child: Chip(
                    label: Text(
                      _getStatusLabel(filter),
                      style: const TextStyle(fontSize: 12),
                    ),
                    backgroundColor: _getStatusColor(filter).withOpacity(0.2),
                    deleteIcon: const Icon(Icons.close, size: 16),
                    onDeleted: () => onStatusChanged(null),
                    side: BorderSide(
                      color: _getStatusColor(filter).withOpacity(0.5),
                    ),
                  ),
                );
              }
            ),
          if (categoryFilter != null)
            Builder(
              builder: (context) {
                final filter = categoryFilter!;
                return Padding(
                  padding: const EdgeInsets.only(right: 8),
                  child: Chip(
                    label: Text(
                      _getCategoryLabel(filter),
                      style: const TextStyle(fontSize: 12),
                    ),
                    backgroundColor: _getCategoryColor(filter).withOpacity(0.2),
                    deleteIcon: const Icon(Icons.close, size: 16),
                    onDeleted: () => onCategoryChanged(null),
                    side: BorderSide(
                      color: _getCategoryColor(filter).withOpacity(0.5),
                    ),
                  ),
                );
              }
            ),
          const Spacer(),
          TextButton.icon(
            onPressed: onResetFilters,
            icon: const Icon(Icons.clear_all, size: 16),
            label: const Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Row(
        children: [
          Text(
            'Aktive Filter: ',
            style: TextStyle(
              color: Colors.grey[400],
              fontSize: 12,
```

**uiEntscheidungenDerSpielleitung** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1388:32`
- ğŸ“ Original: `'Entscheidungen der Spielleitung sind final'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
          _buildRuleItem('5.', 'Entscheidungen der Spielleitung sind final'),
        ],
      ),
    );
```

**uiStyleThemeofcontexttextthemebodysmallcopywithColor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1568:23`
- ğŸ“ Original: `',
              style: Theme.of(context).textTheme.bodySmall?.copyWith(
                color: Colors.grey[400],
                fontWeight: FontWeight.w500,
              ),
            ),
          ),
          Expanded(
            child: Text(
              value,
              style: Theme.of(context).textTheme.bodySmall?.copyWith(
                color: Colors.white,
              ),
            ),
          ),
        ],
      ),
    );
  }
  
  Widget _buildActionButtons() {
    List<Widget> buttons = [];

    // **LOGIN BUTTON (wenn User existiert aber nicht angemeldet)**
    if (_showLoginButton && _inviteEmail != null) {
      buttons.add(
        Container(
          width: double.infinity,
          margin: const EdgeInsets.only(bottom: 12.0),
          child: ElevatedButton(
            onPressed: () {
              // Redirect auf Login-Seite mit E-Mail vorausgefÃ¼llt
              final loginRoute = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
SizedBox(
            width: 80,
            child: Text(
              '$label:',
              style: Theme.of(context).textTheme.bodySmall?.copyWith(
                color: Colors.grey[400],
                fontWeight: FontWeight.w500,
```

**uiGÃ¼ltigkeitstextErstellenString** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:264:21`
- ğŸ“ Original: `';
    
    // GÃ¼ltigkeitstext erstellen
    String validityText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
final actionTypeText = isUpcoming 
      ? 'dich vorab zu registrieren fÃ¼r' 
      : 'beizutreten';
    
    // GÃ¼ltigkeitstext erstellen
    String validityText = '';
```

**uiTabContentSizedbox** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1261:41`
- ğŸ“ Original: `',
                    ),
                  ],
                ),
              ),
              
              // Tab Content
              SizedBox(
                height: 300, // Feste HÃ¶he fÃ¼r Tab-Content
                child: TabBarView(
                  controller: _tabController,
                  children: [
                    _buildDescriptionTab(),
                    _buildRulesTab(),
                    _buildStatisticsTab(),
                  ],
                ),
              ),
              
              // Action Buttons
              Container(
                padding: const EdgeInsets.all(24),
                decoration: const BoxDecoration(
                  color: Color(0xFF1A1A1A),
                  borderRadius: BorderRadius.only(
                    bottomLeft: Radius.circular(24),
                    bottomRight: Radius.circular(24),
                  ),
                ),
                child: Column(
                  children: [
                    _buildActionButtons(),
                    
                    // Join-Fehler anzeigen
                    if (_joinError != null) ...[
                      const SizedBox(height: 16),
                      Container(
                        padding: const EdgeInsets.all(12),
                        decoration: BoxDecoration(
                          color: Colors.red.withOpacity(0.1),
                          borderRadius: BorderRadius.circular(8),
                          border: Border.all(color: Colors.red.withOpacity(0.3)),
                        ),
                        child: Row(
                          children: [
                            Icon(Icons.error_outline, color: Colors.red[400], size: 20),
                            const SizedBox(width: 8),
                            Expanded(
                              child: Text(
                                _joinError ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                    Tab(
                      icon: Icon(Icons.analytics_outlined),
                      text: 'Statistiken',
                    ),
                  ],
                ),
```

**uiVersucheAndereFiltereinstellungen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_list_page.dart:731:41`
- ğŸ“ Original: `'Versuche andere Filter-Einstellungen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      const SizedBox(height: 8),
                                      Text(
                                        'Versuche andere Filter-Einstellungen.',
                                        style: Theme.of(context).textTheme.bodyMedium?.copyWith(
                                          color: Colors.grey[400],
                                        ),
```

**uiGebenSieDie** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:70:15`
- ğŸ“ Original: `'Geben Sie die E-Mail-Adresse der Person ein, die Sie einladen mÃ¶chten:'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisSize: MainAxisSize.min,
          children: [
            Text(
              'Geben Sie die E-Mail-Adresse der Person ein, die Sie einladen mÃ¶chten:',
              style: TextStyle(
                color: Colors.grey[300],
              ),
```

**uiGebenSieDie** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:70:15`
- ğŸ“ Original: `'Geben Sie die E-Mail-Adresse der Person ein, die Sie einladen mÃ¶chten:'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisSize: MainAxisSize.min,
          children: [
            Text(
              'Geben Sie die E-Mail-Adresse der Person ein, die Sie einladen mÃ¶chten:',
              style: TextStyle(
                color: Colors.grey[300],
              ),
```

**uiBackgroundcolorColorsgreenCatch** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:43:57`
- ğŸ“ Original: `'),
            backgroundColor: Colors.green,
          ),
        );
      }
    } catch (e) {
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
Navigator.of(context).pop(true);
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('Vorregistrierung erfolgreich!'),
            backgroundColor: Colors.green,
          ),
        );
```

**uiVorregistrierungErfolgreich** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:43:27`
- ğŸ“ Original: `'Vorregistrierung erfolgreich!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
Navigator.of(context).pop(true);
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('Vorregistrierung erfolgreich!'),
            backgroundColor: Colors.green,
          ),
        );
```

### ğŸ·ï¸ WORLD

**worldCoreproviderslocale_providerdart** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:12:8`
- ğŸ“ Original: `'core/providers/locale_provider.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'core/services/api_service.dart';
import 'core/services/world_service.dart';
import 'core/services/invite_service.dart';
import 'core/providers/locale_provider.dart';
import 'l10n/app_localizations.dart';

class WeltenwindApp extends StatefulWidget {
```

**worldClassWeltenwindappExtends** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:13:36`
- ğŸ“ Original: `';

class WeltenwindApp extends StatefulWidget {
  const WeltenwindApp({super.key});

  @override
  State<WeltenwindApp> createState() => _WeltenwindAppState();
}

class _WeltenwindAppState extends State<WeltenwindApp> {
  final LocaleProvider _localeProvider = LocaleProvider();
  
  @override
  void initState() {
    super.initState();
    // Listener fÃ¼r Locale-Ã„nderungen
    _localeProvider.addListener(() {
      setState(() {});
    });
  }
  
  @override
  void dispose() {
    _localeProvider.removeListener(() {});
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    AppLogger.app.d('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'core/services/world_service.dart';
import 'core/services/invite_service.dart';
import 'core/providers/locale_provider.dart';
import 'l10n/app_localizations.dart';

class WeltenwindApp extends StatefulWidget {
  const WeltenwindApp({super.key});
```

**worldPackageflutterfoundationdart** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\config\logger.dart:2:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:logger/logger.dart';
import 'package:flutter/foundation.dart';

/// Zentrale Logger-Konfiguration fÃ¼r Weltenwind Flutter Client
class AppLogger {
```

**worldStyleThemeofcontexttextthemebodylargecopywithColor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:83:49`
- ğŸ“ Original: `',
                              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                color: Colors.grey[300],
                              ),
                            ),
                            const SizedBox(height: 32),
                            
                            // Info message
                            Container(
                              padding: const EdgeInsets.all(16),
                              decoration: BoxDecoration(
                                color: AppTheme.primaryColor.withOpacity(0.1),
                                borderRadius: BorderRadius.circular(12),
                                border: Border.all(
                                  color: AppTheme.primaryColor.withOpacity(0.3),
                                ),
                              ),
                              child: Row(
                                children: [
                                  const Icon(
                                    Icons.construction,
                                    color: AppTheme.primaryColor,
                                    size: 24,
                                  ),
                                  const SizedBox(width: 12),
                                  Expanded(
                                    child: Text(
                                      '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Subtitle
                            Text(
                              'Welt ID: $worldId',
                              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                color: Colors.grey[300],
                              ),
```

**worldDeinPortalZu** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:267:43`
- ğŸ“ Original: `'Dein Portal zu unendlichen Welten'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Enhanced Subtitle
                                        Text(
                                          'Dein Portal zu unendlichen Welten',
                                          style: TextStyle(
                                            color: Colors.grey[200],
                                            fontSize: 22,
```

**worldErkundeHunderteEinzigartige** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:514:50`
- ğŸ“ Original: `'Erkunde hunderte einzigartige Spielwelten oder erschaffe deine eigene'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.public,
                                    title: 'Unendliche Welten',
                                    description: 'Erkunde hunderte einzigartige Spielwelten oder erschaffe deine eigene',
                                    color: Colors.blue,
                                  ),
                                  _buildFeatureCard(
```

**worldVerbindeDichMit** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:520:50`
- ğŸ“ Original: `'Verbinde dich mit Spielern aus der ganzen Welt'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.group,
                                    title: 'Community',
                                    description: 'Verbinde dich mit Spielern aus der ganzen Welt',
                                    color: Colors.green,
                                  ),
                                  _buildFeatureCard(
```

**worldSchlieÃŸeDichTausenden** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:581:35`
- ğŸ“ Original: `'SchlieÃŸe dich tausenden Spielern an und starte noch heute!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                const SizedBox(height: 16),
                                Text(
                                  'SchlieÃŸe dich tausenden Spielern an und starte noch heute!',
                                  style: TextStyle(
                                    fontSize: 16,
                                    color: Colors.grey[300],
```

**world_sortascendingTrue_applyfiltersandsorting** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:117:25`
- ğŸ“ Original: `';
    _sortAscending = true;
    _applyFiltersAndSorting();
  }

  void _applyFiltersAndSorting() {
    var filtered = List<World>.from(_worlds);

    // Apply status filter
    if (_statusFilter != null) {
      filtered = filtered.where((world) => world.status == _statusFilter).toList();
    }

    // Apply category filter
    if (_categoryFilter != null) {
      filtered = filtered.where((world) {
        return _getWorldCategory(world) == _categoryFilter;
      }).toList();
    }

    // Apply sorting
    filtered.sort((a, b) {
      int comparison = 0;

      switch (_sortBy) {
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void resetFilters() {
    _statusFilter = null;
    _categoryFilter = null;
    _sortBy = 'startDate';
    _sortAscending = true;
    _applyFiltersAndSorting();
  }
```

**worldDefaultComparisonAstartsatcomparetobstartsat** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:153:24`
- ğŸ“ Original: `':
        default:
          comparison = a.startsAt.compareTo(b.startsAt);
          break;
      }

      return _sortAscending ? comparison : -comparison;
    });

    _filteredWorlds = filtered;
    notifyListeners();
  }

  WorldCategory _getWorldCategory(World world) {
    // This is a placeholder logic - you might want to adjust based on your needs
    if (world.name.toLowerCase().contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final countB = _playerCounts[b.id] ?? 0;
          comparison = countA.compareTo(countB);
          break;
        case 'startDate':
        default:
          comparison = a.startsAt.compareTo(b.startsAt);
          break;
```

**worldWidget_buildactivefiltersReturn** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:222:67`
- ğŸ“ Original: `',
            ),
          ),
        ],
      ),
    );
  }

  Widget _buildActiveFilters() {
    return Container(
      padding: const EdgeInsets.symmetric(horizontal: 16),
      child: Row(
        children: [
          Text(
            '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
size: 20,
              ),
              onPressed: onSortOrderChanged,
              tooltip: sortAscending ? 'Aufsteigend' : 'Absteigend',
            ),
          ),
        ],
```

**world_sortascendingTrue_applyfiltersandsorting** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_list_page.dart:652:59`
- ğŸ“ Original: `';
                                      _sortAscending = true;
                                    });
                                    _applyFiltersAndSorting();
                                  },
                                ),
                                const SizedBox(height: 16),
                              ],
                              
                              // World list
                              if (_isLoading)
                                const Center(
                                  child: CircularProgressIndicator(
                                    valueColor: AlwaysStoppedAnimation<Color>(AppTheme.primaryColor),
                                  ),
                                )
                              else if (_error != null)
                                Container(
                                  padding: const EdgeInsets.all(16),
                                  decoration: BoxDecoration(
                                    color: (Colors.red[900] ?? Colors.red).withOpacity(0.3),
                                    borderRadius: BorderRadius.circular(12),
                                    border: Border.all(
                                      color: (Colors.red[400] ?? Colors.red).withOpacity(0.5),
                                    ),
                                  ),
                                  child: Column(
                                    children: [
                                      Icon(
                                        Icons.error,
                                        size: 48,
                                        color: Colors.red[400],
                                      ),
                                      const SizedBox(height: 16),
                                      Text(
                                        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {
                                      _statusFilter = null;
                                      _categoryFilter = null;
                                      _sortBy = 'startDate';
                                      _sortAscending = true;
                                    });
                                    _applyFiltersAndSorting();
```

**worldDieAngeforderteWelt** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:591:21`
- ğŸ“ Original: `'Die angeforderte Welt existiert nicht oder wurde entfernt.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 16),
                  Text(
                    'Die angeforderte Welt existiert nicht oder wurde entfernt.',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
```

**worldBackgroundcolorColorsorange700Duration** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:61:91`
- ğŸ“ Original: `'),
        backgroundColor: Colors.orange[700],
        duration: const Duration(seconds: 3),
      ),
    );
  }
  
  List<NavigationItem> _getNavigationItems() {
    final items = <NavigationItem>[];
    
    // ZurÃ¼ck-Button (wenn nicht auf world-list)
    if (widget.currentRoute != '`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
void _showJoinRequiredMessage() {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(
        content: const Text('Sie mÃ¼ssen erst der Welt beitreten, um das Dashboard zu sehen'),
        backgroundColor: Colors.orange[700],
        duration: const Duration(seconds: 3),
      ),
```

**worldSieMÃ¼ssenDer** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:359:18`
- ğŸ“ Original: `'Sie mÃ¼ssen der Welt beitreten, um das Dashboard zu sehen'`
- ğŸ¯ Widget: Widget: Tooltip
- ğŸ”§ Context:
```dart
// Tooltip hinzufÃ¼gen wenn disabled
    if (isDisabled && item.label.contains('Dashboard')) {
      return Tooltip(
        message: 'Sie mÃ¼ssen der Welt beitreten, um das Dashboard zu sehen',
        child: widget,
      );
    }
```

**worldBackgroundcolorColorsorange700Duration** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:61:91`
- ğŸ“ Original: `'),
        backgroundColor: Colors.orange[700],
        duration: const Duration(seconds: 3),
      ),
    );
  }
  
  List<NavigationItem> _getNavigationItems() {
    final items = <NavigationItem>[];
    
    // ZurÃ¼ck-Button (wenn nicht auf world-list)
    if (widget.currentRoute != '`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
void _showJoinRequiredMessage() {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(
        content: const Text('Sie mÃ¼ssen erst der Welt beitreten, um das Dashboard zu sehen'),
        backgroundColor: Colors.orange[700],
        duration: const Duration(seconds: 3),
      ),
```

**worldThislogoOverrideStatesplashscreen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:22:31`
- ğŸ“ Original: `',
    this.logo,
  });

  @override
  State<SplashScreen> createState() => _SplashScreenState();
}

class _SplashScreenState extends State<SplashScreen> with TickerProviderStateMixin {
  late AnimationController _animationController;
  bool _isInitialized = false;
  String? _error;
  bool _timedOut = false;
  int _currentStepIndex = 0;
  String? _currentStepName;

  @override
  void initState() {
    super.initState();
    
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 1500),
      vsync: this,
    );
    
    _initialize();
  }

  Future<void> _initialize() async {
    try {
      _animationController.forward();
      
      // Timeout fÃ¼r Initialisierung
      final timeout = widget.timeout;
      if (timeout != null) {
        final result = await Future.any([
          _runInitializationWithSteps().then((_) => '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
this.timeout,
    this.onTimeout,
    this.initSteps,
    this.appName = 'Weltenwind',
    this.logo,
  });
```

**worldDefaultReturnColorsgreen400** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:75:17`
- ğŸ“ Original: `':
      default:
        return Colors.green[400] ?? Colors.green;
    }
  }
  
  @override
  Widget build(BuildContext context) {
    final user = _authService.currentUser;
    if (user == null) return const SizedBox.shrink();
    
    return Positioned(
      top: 16,
      left: 16,
      child: FadeTransition(
        opacity: _fadeAnimation,
        child: GestureDetector(
          onTap: _toggleExpanded,
          child: AnimatedContainer(
            duration: const Duration(milliseconds: 300),
            width: _isExpanded ? 320 : 180,
            decoration: BoxDecoration(
              color: const Color(0xFF1A1A1A).withOpacity(0.95),
              borderRadius: BorderRadius.circular(16),
              border: Border.all(
                color: AppTheme.primaryColor.withOpacity(0.3),
                width: 1,
              ),
              boxShadow: [
                BoxShadow(
                  color: Colors.black.withOpacity(0.3),
                  blurRadius: 12,
                  offset: const Offset(0, 4),
                ),
              ],
            ),
            child: Material(
              color: Colors.transparent,
              child: InkWell(
                onTap: _toggleExpanded,
                borderRadius: BorderRadius.circular(16),
                child: Padding(
                  padding: const EdgeInsets.all(12.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      // Header mit Avatar und Name
                      Row(
                        children: [
                          // Avatar
                          Container(
                            width: 40,
                            height: 40,
                            decoration: BoxDecoration(
                              color: AppTheme.primaryColor.withOpacity(0.2),
                              shape: BoxShape.circle,
                              border: Border.all(
                                color: AppTheme.primaryColor.withOpacity(0.5),
                                width: 2,
                              ),
                            ),
                            child: Center(
                              child: Text(
                                user.username.substring(0, 1).toUpperCase(),
                                style: const TextStyle(
                                  color: AppTheme.primaryColor,
                                  fontSize: 18,
                                  fontWeight: FontWeight.bold,
                                ),
                              ),
                            ),
                          ),
                          const SizedBox(width: 12),
                          // Name und Status
                          Expanded(
                            child: Column(
                              crossAxisAlignment: CrossAxisAlignment.start,
                              children: [
                                Row(
                                  children: [
                                    Flexible(
                                      child: Text(
                                        user.username,
                                        style: const TextStyle(
                                          color: Colors.white,
                                          fontSize: 16,
                                          fontWeight: FontWeight.bold,
                                        ),
                                        overflow: TextOverflow.ellipsis,
                                      ),
                                    ),
                                    if (user.isLocked ?? false) ...[
                                      const SizedBox(width: 8),
                                      Icon(
                                        Icons.lock,
                                        color: Colors.red[400],
                                        size: 16,
                                      ),
                                    ],
                                  ],
                                ),
                                if (!_isExpanded)
                                  Text(
                                    '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return Colors.orange[400] ?? Colors.orange;
      case 'world-admin':
        return Colors.indigo[400] ?? Colors.indigo;
      case 'user':
      default:
        return Colors.green[400] ?? Colors.green;
    }
```

### ğŸ·ï¸ AUTH

**authClassAuthserviceStatic** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:6:27`
- ğŸ“ Original: `';

class AuthService {
  static final AuthService _instance = AuthService._internal();
  factory AuthService() => _instance;
  AuthService._internal();

  final ApiService _apiService = ApiService();
  User? _currentUser;
  bool _refreshing = false; // Rate-Limiting fÃ¼r parallele Refreshes

  // Reaktiver Auth-Status fÃ¼r GoRouter
  final ValueNotifier<bool> isAuthenticated = ValueNotifier(false);

  // HINZUGEFÃœGT: Post-Auth-Redirect System fÃ¼r Invite-Flow
  String? _pendingInviteToken;
  String? _pendingRedirectRoute;
  Map<String, String>? _pendingRouteParams;

  User? get currentUser => _currentUser;

  // HINZUGEFÃœGT: Invite-Redirect Management
  void setPendingInviteRedirect(String inviteToken) {
    _pendingInviteToken = inviteToken;
    _pendingRedirectRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../models/user.dart';
import '../../config/logger.dart';
import 'api_service.dart';
import 'token_storage.dart';

class AuthService {
  static final AuthService _instance = AuthService._internal();
```

**authExpiresattoiso8601stringStrukturierteFehlercodes** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:42:17`
- ğŸ“ Original: `': expiresAt?.toIso8601String(),
    };
  }
}

// Strukturierte Fehlercodes fÃ¼r bessere Wartbarkeit
enum InviteErrorCode {
  inviteAlreadySent,
  permissionDenied,
  worldNotFound,
  worldNotOpen,
  invalidEmail,
  networkError,
  unknown,
}

class InviteService {
  static final InviteService _instance = InviteService._internal();
  factory InviteService() => _instance;
  InviteService._internal();

  final ApiService _apiService = ApiService();

  // Strukturierte Fehlerbehandlung mit Error-Codes
  InviteErrorCode _parseErrorCode(Map<String, dynamic> errorData) {
    final errorCode = errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'email': email,
      'status': status,
      'createdAt': createdAt?.toIso8601String(),
      'expiresAt': expiresAt?.toIso8601String(),
    };
  }
}
```

**authPreregistrationstatusmodelFÃ¼rBessere** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:7:33`
- ğŸ“ Original: `';

// PreRegistrationStatus-Model fÃ¼r bessere Typisierung
class PreRegistrationStatus {
  final bool isPreRegistered;
  final DateTime? registeredAt;
  final String? status;
  final Map<String, dynamic>? config;

  PreRegistrationStatus({
    required this.isPreRegistered,
    this.registeredAt,
    this.status,
    this.config,
  });

  factory PreRegistrationStatus.fromJson(Map<String, dynamic> json) {
    return PreRegistrationStatus(
      isPreRegistered: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../models/world.dart';
import 'api_service.dart';
import 'auth_service.dart';
import '../../config/logger.dart';

// PreRegistrationStatus-Model fÃ¼r bessere Typisierung
class PreRegistrationStatus {
```

**authConfigStrukturierteFehlercodes** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:39:14`
- ğŸ“ Original: `': config,
    };
  }
}

// Strukturierte Fehlercodes fÃ¼r bessere Wartbarkeit
enum WorldErrorCode {
  worldNotFound,
  permissionDenied,
  worldArchived,
  alreadyRegistered,
  alreadyPreRegistered,
  preRegistrationClosed,
  notAuthenticated,
  networkError,
  unknown,
}

class WorldService {
  static final WorldService _instance = WorldService._internal();
  factory WorldService() => _instance;
  WorldService._internal();

  final ApiService _apiService = ApiService();
  final AuthService _authService = AuthService();

  // Strukturierte Fehlerbehandlung mit Error-Codes
  WorldErrorCode _parseErrorCode(Map<String, dynamic> errorData) {
    final errorCode = errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'isPreRegistered': isPreRegistered,
      'registeredAt': registeredAt?.toIso8601String(),
      'status': status,
      'config': config,
    };
  }
}
```

**authBitteGibEine** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:230:44`
- ğŸ“ Original: `'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Bitte gib deine E-Mail-Adresse ein';
                                  }
                                  if (!_emailRegex.hasMatch(value.trim())) {
                                    return 'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein';
                                  }
                                  return null;
                                },
```

**authServicelocatorImportFÃ¼r** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\login_page.dart:6:43`
- ğŸ“ Original: `';

// ServiceLocator Import fÃ¼r DI
import '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';
```

**authClassLoginpageExtends** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\login_page.dart:9:24`
- ğŸ“ Original: `';

class LoginPage extends StatefulWidget {
  const LoginPage({super.key});

  @override
  State<LoginPage> createState() => _LoginPageState();
}

class _LoginPageState extends State<LoginPage> with SingleTickerProviderStateMixin {
  final _formKey = GlobalKey<FormState>();
  final _usernameController = TextEditingController();
  final _passwordController = TextEditingController();
  
  late final AuthService _authService;
  late AnimationController _animationController;
  late Animation<double> _fadeAnimation;
  
  bool _isLoading = false;
  bool _obscurePassword = true;
  String? _loginError;
  bool _rememberMe = false;
  
  // Invite-Parameter
  String? _inviteToken;
  
  // FÃ¼r bessere Validierung
  bool _hasInteractedWithUsername = false;
  bool _hasInteractedWithPassword = false;

  @override
  void initState() {
    super.initState();
    _initializeServices();
    _loadQueryParameters();
    
    // Animation Setup
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 800),
      vsync: this,
    );
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeIn,
    ));
    
    _animationController.forward();
  }

  @override
  void dispose() {
    _animationController.dispose();
    _usernameController.dispose();
    _passwordController.dispose();
    super.dispose();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

class LoginPage extends StatefulWidget {
  const LoginPage({super.key});
```

**authGoogleLoginWird** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\login_page.dart:523:61`
- ğŸ“ Original: `'Google Login wird bald verfÃ¼gbar sein'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
onPressed: () {
                                          ScaffoldMessenger.of(context).showSnackBar(
                                            const SnackBar(
                                              content: Text('Google Login wird bald verfÃ¼gbar sein'),
                                            ),
                                          );
                                        },
```

**authGithubLoginWird** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\login_page.dart:536:61`
- ğŸ“ Original: `'GitHub Login wird bald verfÃ¼gbar sein'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
onPressed: () {
                                          ScaffoldMessenger.of(context).showSnackBar(
                                            const SnackBar(
                                              content: Text('GitHub Login wird bald verfÃ¼gbar sein'),
                                            ),
                                          );
                                        },
```

**authServicelocatorImportFÃ¼r** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\register_page.dart:7:43`
- ğŸ“ Original: `';

// ServiceLocator Import fÃ¼r DI
import '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../core/services/auth_service.dart';
import '../../core/services/world_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';
```

**auth_prefilledemailEmailVorbefÃ¼llen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\register_page.dart:71:13`
- ğŸ“ Original: `': _prefilledEmail
    });
    
    // E-Mail vorbefÃ¼llen wenn vorhanden
    if (_prefilledEmail != null && _prefilledEmail!.isNotEmpty) {
      _emailController.text = _prefilledEmail!;
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'hasInviteToken': _inviteToken != null,
      'hasPrefilledEmail': _prefilledEmail != null,
      'inviteToken': _inviteToken?.substring(0, 8),
      'email': _prefilledEmail
    });
    
    // E-Mail vorbefÃ¼llen wenn vorhanden
```

**authBitteGibEine** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\register_page.dart:354:42`
- ğŸ“ Original: `'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'E-Mail ist erforderlich';
                                }
                                if (!_emailRegex.hasMatch(value)) {
                                  return 'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein';
                                }
                                return null;
                              },
```

**authWasauthenticated_isauthenticatedUi** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:122:17`
- ğŸ“ Original: `': wasAuthenticated != _isAuthenticated
      });
      
      // UI aktualisieren wenn sich Status geÃ¤ndert hat
      if (wasAuthenticated != _isAuthenticated && mounted) {
        setState(() {});
      }
    } catch (e) {
      AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'isAuthenticated': _isAuthenticated,
        'userId': currentUser?.id,
        'username': currentUser?.username,
        'changed': wasAuthenticated != _isAuthenticated
      });
      
      // UI aktualisieren wenn sich Status geÃ¤ndert hat
```

### ğŸ·ï¸ BUTTON

**buttonPasswortBestÃ¤tigen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:316:48`
- ğŸ“ Original: `'Passwort bestÃ¤tigen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
                                  },
                                  decoration: InputDecoration(
                                    labelText: 'Passwort bestÃ¤tigen',
                                    labelStyle: TextStyle(color: Colors.grey[400]),
                                    prefixIcon: const Icon(Icons.lock_outline, color: AppTheme.primaryColor),
                                    suffixIcon: IconButton(
```

**buttonColorColorsorange600Break** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_card.dart:406:38`
- ğŸ“ Original: `',
              color: Colors.orange[600],
            ));
          }
        }
        break;
        
      case WorldStatus.open:
      case WorldStatus.running:
        // Beitreten oder Verlassen
        if (isJoined) {
          // Spielen Button immer zuerst anzeigen wenn verfÃ¼gbar
          if (onPlay != null) {
            buttons.add(_buildButton(
              onPressed: onPlay,
              icon: Icons.play_circle_filled,
              label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
buttons.add(_buildButton(
              onPressed: onPreRegister,
              icon: Icons.how_to_reg,
              label: 'Vorregistrieren',
              color: Colors.orange[600],
            ));
          }
```

**buttonColorAppthemeprimarycolorBreak** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_card.dart:440:32`
- ğŸ“ Original: `',
              color: AppTheme.primaryColor,
            ));
          }
        }
        break;
        
      case WorldStatus.closed:
      case WorldStatus.archived:
        // Keine Aktions-Buttons bei geschlossenen/archivierten Welten
        return _buildStatusBadge();
    }
    
    // Invite Button fÃ¼r upcoming, open und running
    if ([WorldStatus.upcoming, WorldStatus.open, WorldStatus.running].contains(world.status) && 
        onInvite != null) {
      buttons.add(_buildButton(
        onPressed: onInvite,
        icon: Icons.person_add,
        label: null,
        color: Colors.purple[600],
        iconOnly: true,
        tooltip: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
buttons.add(_buildButton(
              onPressed: onJoin,
              icon: Icons.play_arrow,
              label: 'Beitreten',
              color: AppTheme.primaryColor,
            ));
          }
```

**buttonBoolShowloginbuttonFalse** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:253:24`
- ğŸ“ Original: `';
    bool showLoginButton = false;
    bool showRegisterButton = false;
    bool showAcceptButton = false;
    bool showLogoutButton = false;
    
    // Basis-Info-Text mit Einlader, Welt und GÃ¼ltigkeitsstatus
    final inviterText = invitedByName;
    
    final actionTypeText = isUpcoming 
      ? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// **NEUE INTELLIGENTE BUTTON-LOGIK**
    String actionText = '';
    String infoText = '';
    bool showLoginButton = false;
    bool showRegisterButton = false;
    bool showAcceptButton = false;
```

**buttonShowregisterbuttonIsinvitevalidNur** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:289:51`
- ğŸ“ Original: `';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
          infoText = '$baseInfoText\n\n$actionText';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
```

**buttonShowloginbuttonIsinvitevalidNur** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:298:51`
- ğŸ“ Original: `';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
```

**buttonDieseEinladungIst** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:307:24`
- ğŸ“ Original: `'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
```

**buttonShowlogoutbuttonIsinvitevalidNur** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:308:129`
- ğŸ“ Original: `';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
```

**buttonShowacceptbuttonIsinvitevalidNur** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:317:51`
- ğŸ“ Original: `';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
          
          // Auto-Accept entfernt: User soll bewusst entscheiden!
        }
        break;
        
      default:
        AppLogger.app.w('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
          
          // Auto-Accept entfernt: User soll bewusst entscheiden!
```

### ğŸ·ï¸ DIALOG

**dialogClassInvitedialogExtends** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:2:35`
- ğŸ“ Original: `';

class InviteDialog extends StatefulWidget {
  final String worldName;

  const InviteDialog({
    super.key,
    required this.worldName,
  });

  @override
  State<InviteDialog> createState() => _InviteDialogState();
}

class _InviteDialogState extends State<InviteDialog> {
  final _formKey = GlobalKey<FormState>();
  final _emailController = TextEditingController();
  bool _isLoading = false;

  @override
  void dispose() {
    _emailController.dispose();
    super.dispose();
  }

  void _submit() async {
    final formState = _formKey.currentState;
    if (formState == null || !formState.validate()) return;
    
    setState(() {
      _isLoading = true;
    });

    // Simuliere API-Aufruf fÃ¼r E-Mail-Versand
    await Future.delayed(const Duration(seconds: 1));
    
    if (mounted) {
      setState(() {
        _isLoading = false;
      });
      Navigator.of(context).pop(_emailController.text.trim());
    }
  }

  @override
  Widget build(BuildContext context) {
    return AlertDialog(
      backgroundColor: const Color(0xFF1A1A1A), // Dunkler Hintergrund
      shape: RoundedRectangleBorder(
        borderRadius: BorderRadius.circular(20),
        side: BorderSide(
          color: AppTheme.primaryColor.withOpacity(0.3),
          width: 1,
        ),
      ),
      title: Text(
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../theme/app_theme.dart';

class InviteDialog extends StatefulWidget {
  final String worldName;
```

### ğŸ·ï¸ ERROR

**errorPendingredirectGelÃ¶scht** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:55:22`
- ğŸ“ Original: `'ğŸ§¹ Pending-Redirect gelÃ¶scht'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}

  void clearPendingRedirect() {
    AppLogger.auth.i('ğŸ§¹ Pending-Redirect gelÃ¶scht', error: {
      'hadRoute': _pendingRedirectRoute != null,
      'hadInvite': _pendingInviteToken != null
    });
```

**errorPrÃ¼feAuthenticationStatus** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:67:24`
- ğŸ“ Original: `'ğŸ” PrÃ¼fe Authentication Status'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<bool> isLoggedIn() async {
    try {
      final accessToken = await TokenStorage.getAccessToken();
      AppLogger.auth.d('ğŸ” PrÃ¼fe Authentication Status', error: {
        'hasToken': accessToken != null,
      });
```

**errorErrorEAwait** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:98:54`
- ğŸ“ Original: `', error: e);
      await logout();
      return false;
    }
  }

  // VollstÃ¤ndige Token-Validierung beim App-Start (ohne API-Calls)
  Future<bool> validateTokensOnStart() async {
    try {
      final accessToken = await TokenStorage.getAccessToken();
      final refreshToken = await TokenStorage.getRefreshToken();
      
      if (accessToken == null || refreshToken == null) {
        return false;
      }

      // JWT-Token Format validieren
      if (!_isValidJWT(accessToken) || !_isValidJWT(refreshToken)) {
        return false;
      }

      // Token-Ablauf prÃ¼fen (nur lokale Validierung, keine API-Calls)
      final accessExp = _getTokenExpiration(accessToken);
      final refreshExp = _getTokenExpiration(refreshToken);
      
      if (accessExp == null || refreshExp == null) {
        return false;
      }

      final now = DateTime.now();
      
      // Refresh-Token ist abgelaufen
      if (refreshExp.isBefore(now)) {
        return false;
      }
      
      // Access-Token ist abgelaufen, aber Refresh-Token ist noch gÃ¼ltig
      if (accessExp.isBefore(now)) {
        // Token ist abgelaufen, aber wir versuchen nicht zu erneuern
        // Das wird beim ersten API-Call automatisch gemacht
        return true; // Erlaube App-Start, Token-Refresh erfolgt bei Bedarf
      }

      // Beide Token sind gÃ¼ltig
      return true;
    } catch (e) {
      return false;
    }
  }

  // JWT-Token Format validieren
  bool _isValidJWT(String token) {
    try {
      final parts = token.split('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
isAuthenticated.value = false;
      return false;
    } catch (e) {
      AppLogger.auth.e('âŒ isLoggedIn() fehlgeschlagen', error: e);
      await logout();
      return false;
    }
```

**errorEmailRethrowErweitertes** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:309:15`
- ğŸ“ Original: `': email,
      });
      rethrow;
    }
  }

  // Erweitertes Logout mit Server-Call und vollstÃ¤ndigem Cleanup
  Future<void> logout() async {
    final username = _currentUser?.username ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      AppLogger.logAuthEvent('register_error', username: username, metadata: {
        'error': e.toString(),
        'email': email,
      });
      rethrow;
    }
```

**errorErrorERatelimited** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:344:40`
- ğŸ“ Original: `', error: e);
    }
  }

  // Rate-Limited Token-Refresh mit parallelem Schutz
  Future<bool> refreshTokenIfNeeded() async {
    if (_refreshing) {
      // Warten bis aktueller Refresh abgeschlossen ist
      while (_refreshing) {
        await Future.delayed(const Duration(milliseconds: 100));
      }
      return true; // Annahme: Refresh war erfolgreich
    }

    _refreshing = true;
    try {
      final refreshToken = await TokenStorage.getRefreshToken();
      if (refreshToken == null) {
        await logout();
        return false;
      }

      // Refresh-Token Format validieren
      if (!_isValidJWT(refreshToken)) {
        await logout();
        return false;
      }

      // Refresh-Token Ablauf prÃ¼fen
      final refreshExp = _getTokenExpiration(refreshToken);
      if (refreshExp == null || refreshExp.isBefore(DateTime.now())) {
        await logout();
        return false;
      }

      _apiService.setToken(refreshToken);
      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('logout_success', username: username);
    } catch (e) {
      AppLogger.auth.e('âŒ Logout-Fehler', error: e);
    }
  }
```

**errorErrorERethrow** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:481:64`
- ğŸ“ Original: `', error: e);
      rethrow;
    }
  }

  // Passwort zurÃ¼cksetzen mit Token
  Future<bool> resetPassword(String token, String newPassword) async {
    try {
      AppLogger.auth.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorData['message'] ?? 'Passwort-Reset Anfrage fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset Anfrage fehlgeschlagen', error: e);
      rethrow;
    }
  }
```

**errorPasswordErfolgreichZurÃ¼ckgesetzt** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:497:26`
- ğŸ“ Original: `'âœ… Password erfolgreich zurÃ¼ckgesetzt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});

      if (response.statusCode == 200) {
        AppLogger.auth.i('âœ… Password erfolgreich zurÃ¼ckgesetzt');
        return true;
      } else {
        final errorData = jsonDecode(response.body);
```

**errorPasswortzurÃ¼cksetzungFehlgeschlagen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:505:71`
- ğŸ“ Original: `'Passwort-ZurÃ¼cksetzung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'statusCode': response.statusCode,
          'response': errorData
        });
        throw Exception(errorData['error'] ?? errorData['message'] ?? 'Passwort-ZurÃ¼cksetzung fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset fehlgeschlagen', error: e);
```

**errorErrorERethrow** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:508:56`
- ğŸ“ Original: `', error: e);
      rethrow;
    }
  }

  // Token-Status Ã¼berprÃ¼fen (fÃ¼r Debugging und Monitoring)
  Future<Map<String, dynamic>> getTokenStatus() async {
    try {
      final accessToken = await TokenStorage.getAccessToken();
      final refreshToken = await TokenStorage.getRefreshToken();
      
      if (accessToken == null || refreshToken == null) {
        return {
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorData['error'] ?? errorData['message'] ?? 'Passwort-ZurÃ¼cksetzung fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset fehlgeschlagen', error: e);
      rethrow;
    }
  }
```

**errorReturnInviteerrorcodeinvalidemailDefault** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:80:28`
- ğŸ“ Original: `':
          return InviteErrorCode.invalidEmail;
        default:
          return InviteErrorCode.unknown;
      }
    }
    
    // Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return InviteErrorCode.worldNotFound;
        case 'WORLD_NOT_OPEN':
          return InviteErrorCode.worldNotOpen;
        case 'INVALID_EMAIL':
          return InviteErrorCode.invalidEmail;
        default:
          return InviteErrorCode.unknown;
```

**errorNichtGeÃ¶ffnet** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:94:33`
- ğŸ“ Original: `'nicht geÃ¶ffnet'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return InviteErrorCode.permissionDenied;
    } else if (message.contains('nicht gefunden')) {
      return InviteErrorCode.worldNotFound;
    } else if (message.contains('nicht geÃ¶ffnet')) {
      return InviteErrorCode.worldNotOpen;
    } else if (message.contains('E-Mail')) {
      return InviteErrorCode.invalidEmail;
```

**errorDieseWeltIst** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:113:16`
- ğŸ“ Original: `'Diese Welt ist nicht fÃ¼r Einladungen geÃ¶ffnet'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case InviteErrorCode.worldNotOpen:
        return 'Diese Welt ist nicht fÃ¼r Einladungen geÃ¶ffnet';
      case InviteErrorCode.invalidEmail:
        return 'UngÃ¼ltige E-Mail-Adresse';
      case InviteErrorCode.networkError:
```

**errorUngÃ¼ltigeEmailadresse** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:115:16`
- ğŸ“ Original: `'UngÃ¼ltige E-Mail-Adresse'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.worldNotOpen:
        return 'Diese Welt ist nicht fÃ¼r Einladungen geÃ¶ffnet';
      case InviteErrorCode.invalidEmail:
        return 'UngÃ¼ltige E-Mail-Adresse';
      case InviteErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case InviteErrorCode.unknown:
```

**errorUngÃ¼ltigeServerantwortE** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:142:23`
- ğŸ“ Original: `'UngÃ¼ltige Server-Antwort: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
```

**errorÃ–ffentlicheEinladungFehlgeschlagen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:173:25`
- ğŸ“ Original: `'Ã–ffentliche Einladung fehlgeschlagen: ${response.statusCode}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final errorMessage = _getErrorMessage(errorCode, errorData['message']);
        throw Exception(errorMessage);
      } else {
        throw Exception('Ã–ffentliche Einladung fehlgeschlagen: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorUngÃ¼ltigeServerantwortE** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:176:23`
- ğŸ“ Original: `'UngÃ¼ltige Server-Antwort: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Ã–ffentliche Einladung fehlgeschlagen: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
```

**errorÃ–ffentlicheEinladungFehlgeschlagen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:185:23`
- ğŸ“ Original: `'Ã–ffentliche Einladung fehlgeschlagen: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Ã–ffentliche Einladung fehlgeschlagen: $e');
    }
  }
```

**errorUngÃ¼ltigeServerantwortE** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:200:23`
- ğŸ“ Original: `'UngÃ¼ltige Server-Antwort: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Einladungen konnten nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
```

**errorBackwardskompatibilitÃ¤tAlteMethode** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:209:68`
- ğŸ“ Original: `');
    }
  }

  // Backwards-KompatibilitÃ¤t: Alte Methode mit Map-RÃ¼ckgabe
  Future<List<Map<String, dynamic>>> getInvitesAsMap(int worldId) async {
    final invites = await getInvites(worldId);
    return invites.map((invite) => invite.toJson()).toList();
  }

  Future<bool> deleteInvite(int worldId, int inviteId, {String? token}) async {
    try {
      if (token != null) {
        final data = <String, dynamic>{
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Einladungen konnten nicht geladen werden: $e');
    }
  }
```

**errorUngÃ¼ltigeServerantwortE** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:232:23`
- ğŸ“ Original: `'UngÃ¼ltige Server-Antwort: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return response.statusCode == 200;
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
```

**errorEinladungKonnteNicht** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:241:23`
- ğŸ“ Original: `'Einladung konnte nicht gelÃ¶scht werden: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Einladung konnte nicht gelÃ¶scht werden: $e');
    }
  }
}
```

**errorReturnWorlderrorcodenotauthenticatedDefault** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:84:32`
- ğŸ“ Original: `':
          return WorldErrorCode.notAuthenticated;
        default:
          return WorldErrorCode.unknown;
      }
    }
    
    // Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.alreadyPreRegistered;
        case 'PRE_REGISTRATION_CLOSED':
          return WorldErrorCode.preRegistrationClosed;
        case 'NOT_AUTHENTICATED':
          return WorldErrorCode.notAuthenticated;
        default:
          return WorldErrorCode.unknown;
```

**errorDuHastKeine** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:117:16`
- ğŸ“ Original: `'Du hast keine Berechtigung fÃ¼r diese Aktion'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case WorldErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung fÃ¼r diese Aktion';
      case WorldErrorCode.worldArchived:
        return 'Diese Welt ist nicht mehr verfÃ¼gbar';
      case WorldErrorCode.alreadyRegistered:
```

**errorDieseWeltIst** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:119:16`
- ğŸ“ Original: `'Diese Welt ist nicht mehr verfÃ¼gbar'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung fÃ¼r diese Aktion';
      case WorldErrorCode.worldArchived:
        return 'Diese Welt ist nicht mehr verfÃ¼gbar';
      case WorldErrorCode.alreadyRegistered:
        return 'Du bist bereits Mitglied dieser Welt';
      case WorldErrorCode.alreadyPreRegistered:
```

**errorDuBistBereits** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:123:16`
- ğŸ“ Original: `'Du bist bereits fÃ¼r diese Welt vorregistriert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.alreadyRegistered:
        return 'Du bist bereits Mitglied dieser Welt';
      case WorldErrorCode.alreadyPreRegistered:
        return 'Du bist bereits fÃ¼r diese Welt vorregistriert';
      case WorldErrorCode.preRegistrationClosed:
        return 'Vorregistrierung fÃ¼r diese Welt ist nicht mÃ¶glich';
      case WorldErrorCode.notAuthenticated:
```

**errorVorregistrierungFÃ¼rDiese** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:125:16`
- ğŸ“ Original: `'Vorregistrierung fÃ¼r diese Welt ist nicht mÃ¶glich'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.alreadyPreRegistered:
        return 'Du bist bereits fÃ¼r diese Welt vorregistriert';
      case WorldErrorCode.preRegistrationClosed:
        return 'Vorregistrierung fÃ¼r diese Welt ist nicht mÃ¶glich';
      case WorldErrorCode.notAuthenticated:
        return 'Du musst angemeldet sein';
      case WorldErrorCode.networkError:
```

**errorUngÃ¼ltigeServerantwortE** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:146:23`
- ğŸ“ Original: `'UngÃ¼ltige Server-Antwort: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Welten konnten nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorUngÃ¼ltigeServerantwortE** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:170:23`
- ğŸ“ Original: `'UngÃ¼ltige Server-Antwort: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Welt konnte nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorUngÃ¼ltigeServerantwortE** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:198:23`
- ğŸ“ Original: `'UngÃ¼ltige Server-Antwort: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorUngÃ¼ltigeServerantwortE** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:233:23`
- ğŸ“ Original: `'UngÃ¼ltige Server-Antwort: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorUngÃ¼ltigeServerantwortE** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:273:23`
- ğŸ“ Original: `'UngÃ¼ltige Server-Antwort: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorUngÃ¼ltigeServerantwortE** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:292:23`
- ğŸ“ Original: `'UngÃ¼ltige Server-Antwort: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return response.statusCode == 200;
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorUngÃ¼ltigeServerantwortE** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:327:23`
- ğŸ“ Original: `'UngÃ¼ltige Server-Antwort: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return response.statusCode == 200;
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorTLogThis** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:364:13`
- ğŸ“ Original: `'t log this as an error
      return PreRegistrationStatus(isPreRegistered: false);
    }
  }

  // Backwards-KompatibilitÃ¤t: Alte Methode mit bool-RÃ¼ckgabe
  Future<bool> isPreRegisteredForWorld(int worldId) async {
    final status = await getPreRegistrationStatus(worldId);
    return status.isPreRegistered;
  }

  // Invite-Token Validierung
  Future<Map<String, dynamic>?> validateInviteToken(String token) async {
    try {
      // API-Call ohne Authentifizierung (Ã¶ffentlicher Endpoint)
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return PreRegistrationStatus(isPreRegistered: false);
    } catch (e) {
      // 404 means user is not pre-registered, which is normal
      // Don't log this as an error
      return PreRegistrationStatus(isPreRegistered: false);
    }
  }
```

**errorFallbackFÃ¼rBessere** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:390:108`
- ğŸ“ Original: `'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
  }

  // Invite akzeptieren und User der Welt hinzufÃ¼gen
  Future<Map<String, dynamic>?> acceptInvite(String token) async {
    try {
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Token-Validierung', e, context: {'token': token.substring(0, 8) + '...'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
```

**errorDieseEinladungIst** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:421:25`
- ğŸ“ Original: `'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Invite bereits akzeptiert');
      } else if (response.statusCode == 403) {
        AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
      } else if (response.statusCode == 410) {
        AppLogger.app.w('âš ï¸ Invite-Token abgelaufen', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite-Token ist abgelaufen');
```

**errorOverrideVoidDispose** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:24:66`
- ğŸ“ Original: `');

  @override
  void dispose() {
    _emailController.dispose();
    super.dispose();
  }

  Future<void> _requestPasswordReset() async {
    if (!_formKey.currentState!.validate()) {
      return;
    }

    setState(() {
      _isLoading = true;
      _errorMessage = null;
      _isSuccess = false;
    });

    try {
      final success = await _authService.requestPasswordReset(
        _emailController.text.trim(),
      );

      if (success && mounted) {
        setState(() {
          _isSuccess = true;
        });
        
        // Nach 3 Sekunden zurÃ¼ck zum Login
        Future.delayed(const Duration(seconds: 3), () {
          if (mounted) {
            context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
String? _errorMessage;
  
  // E-Mail-Validierung Regex
  static final RegExp _emailRegex = RegExp(r'^[^@]+@[^@]+\.[^@]+$');

  @override
  void dispose() {
```

**errorUserusernameIfMounted** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\login_page.dart:108:84`
- ğŸ“ Original: `': user.username});
        
        if (mounted) {
          // HINZUGEFÃœGT: Post-Auth-Redirect prÃ¼fen
          final pendingRedirect = _authService.getPendingRedirect();
          
          if (pendingRedirect != null) {
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

      if (user != null) {
        AppLogger.app.i('âœ… Login erfolgreich', error: {'userId': user.id, 'username': user.username});
        
        if (mounted) {
          // HINZUGEFÃœGT: Post-Auth-Redirect prÃ¼fen
```

**errorErrorPendingredirect_authserviceclearpendingredirect** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\login_page.dart:115:58`
- ğŸ“ Original: `', error: pendingRedirect);
            _authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
            final routeName = pendingRedirect['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final pendingRedirect = _authService.getPendingRedirect();
          
          if (pendingRedirect != null) {
            AppLogger.app.i('ğŸ« Post-Auth-Redirect erkannt', error: pendingRedirect);
            _authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
```

**errorUseremailIfMounted** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\register_page.dart:111:17`
- ğŸ“ Original: `': user.email,
        });
        
        if (mounted) {
          // HINZUGEFÃœGT: Post-Auth-Redirect prÃ¼fen
          final pendingRedirect = _authService.getPendingRedirect();
          
          if (pendingRedirect != null) {
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('âœ… Registrierung erfolgreich', error: {
          'userId': user.id,
          'username': user.username,
          'email': user.email,
        });
        
        if (mounted) {
```

**errorErrorPendingredirect_authserviceclearpendingredirect** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\register_page.dart:119:76`
- ğŸ“ Original: `', error: pendingRedirect);
            _authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
            final routeName = pendingRedirect['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final pendingRedirect = _authService.getPendingRedirect();
          
          if (pendingRedirect != null) {
            AppLogger.app.i('ğŸ« Post-Auth-Redirect nach Registration erkannt', error: pendingRedirect);
            _authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
```

**errorDerResetlinkIst** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\reset_password_page.dart:99:29`
- ğŸ“ Original: `'Der Reset-Link ist ungÃ¼ltig oder abgelaufen. Bitte fordere einen neuen Link an.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {
          final error = e.toString().replaceAll('Exception: ', '');
          if (error.contains('expired') || error.contains('invalid')) {
            _errorMessage = 'Der Reset-Link ist ungÃ¼ltig oder abgelaufen. Bitte fordere einen neuen Link an.';
          } else {
            _errorMessage = error;
          }
```

**errorVorregistrierungKonnteNicht** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:217:25`
- ğŸ“ Original: `'Vorregistrierung konnte nicht zurÃ¼ckgezogen werden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_preRegisteredWorlds[world.id] = false;
        notifyListeners();
      } else {
        throw Exception('Vorregistrierung konnte nicht zurÃ¼ckgezogen werden');
      }
    } catch (e) {
      _error = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung: $e';
```

**errorFehlerBeimZurÃ¼ckziehen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:220:16`
- ğŸ“ Original: `'Fehler beim ZurÃ¼ckziehen der Vorregistrierung: $e'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Vorregistrierung konnte nicht zurÃ¼ckgezogen werden');
      }
    } catch (e) {
      _error = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung: $e';
      notifyListeners();
      rethrow;
    }
```

**errorErrorE_worldservice** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:103:79`
- ğŸ“ Original: `', error: e);
      _worldService = WorldService();
      _authService = AuthService();
      
      // Auch bei Fallback Authentication-Status prÃ¼fen
      _checkAuthenticationStatus();
    }
  }

  void _checkAuthenticationStatus() {
    try {
      final currentUser = _authService.currentUser;
      final wasAuthenticated = _isAuthenticated;
      _isAuthenticated = currentUser != null;
      
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Authentication-Status prÃ¼fen
      _checkAuthenticationStatus();
    } catch (e) {
      AppLogger.app.w('âš ï¸ ServiceLocator Fehler - nutze direkte Instanziierung', error: e);
      _worldService = WorldService();
      _authService = AuthService();
```

**error_isloadingFalseReturn** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:170:48`
- ğŸ“ Original: `';
        _isLoading = false;
      });
      return;
    }
    
    // World laden
    _world = await _worldService.getWorld(int.parse(widget.worldId!));
    
    // Status prÃ¼fen
    await _checkWorldStatus();
    
    // Fertig!
    setState(() {
      _isLoading = false;
    });
  }

  // **INVITE-FLOW: Komplex mit Auth-PrÃ¼fung**
  Future<void> _handleInviteFlow() async {
    if (widget.inviteToken == null) {
      setState(() {
        _errorMessage = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<void> _handleNormalFlow() async {
    if (widget.worldId == null) {
      setState(() {
        _errorMessage = 'Keine Welt-ID gefunden';
        _isLoading = false;
      });
      return;
```

**errorUngÃ¼ltigerOderAbgelaufener** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:203:25`
- ğŸ“ Original: `'UngÃ¼ltiger oder abgelaufener Einladungslink'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (tokenData == null || tokenData['world'] == null) {
      setState(() {
        _errorMessage = 'UngÃ¼ltiger oder abgelaufener Einladungslink';
        _isLoading = false;
      });
      return;
```

**errorFehlerBeimPrÃ¼fen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:370:26`
- ğŸ“ Original: `'Fehler beim PrÃ¼fen des World-Status'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'isPreRegistered': _isPreRegistered
      });
    } catch (e) {
      AppLogger.logError('Fehler beim PrÃ¼fen des World-Status', e);
    }
  }
```

**errorNichtFÃ¼rDeine** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:491:42`
- ğŸ“ Original: `'nicht fÃ¼r deine E-Mail-Adresse'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
```

**errorDieseEinladungIst** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:492:24`
- ğŸ“ Original: `'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
```

**errorFehlerBeimZurÃ¼ckziehen** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:575:24`
- ğŸ“ Original: `'Fehler beim ZurÃ¼ckziehen der Vorregistrierung'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
      } else {
        setState(() {
          _joinError = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung';
        });
      }
    } catch (e) {
```

**errorFinallyIfMounted** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:580:62`
- ğŸ“ Original: `');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _leaveWorld() async {
    final world = _world;
    if (world == null) return;
    
    // BestÃ¤tigungsdialog anzeigen
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
```

**errorEmailFixedInvitetoken** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:692:86`
- ğŸ“ Original: `': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('ğŸ« Navigation zur Registration mit Invite-E-Mail', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
```

**errorNavigationZumLogin** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:704:21`
- ğŸ“ Original: `'ğŸ« Navigation zum Login fÃ¼r Invite'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation zu Login 
  void _navigateToLogin(String email) {
    AppLogger.app.i('ğŸ« Navigation zum Login fÃ¼r Invite', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
```

**errorEmailFixedInvitetoken** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:704:72`
- ğŸ“ Original: `': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation zu Login 
  void _navigateToLogin(String email) {
    AppLogger.app.i('ğŸ« Navigation zum Login fÃ¼r Invite', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
```

**errorUserLogoutFÃ¼r** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:717:23`
- ğŸ“ Original: `'ğŸ« User logout fÃ¼r Invite-Umleitung'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('ğŸ« User logout fÃ¼r Invite-Umleitung', error: {'inviteEmail': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
```

**error_inviteemailFixedInvitetoken** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:717:81`
- ğŸ“ Original: `': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
        _authService.setPendingInviteRedirect(widget.inviteToken!);
      }
      
      await _authService.logout();
      
      if (mounted && _inviteEmail != null) {
        // Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('ğŸ« User logout fÃ¼r Invite-Umleitung', error: {'inviteEmail': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
```

**errorLogoutFÃ¼rInvite** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:734:26`
- ğŸ“ Original: `'Logout fÃ¼r Invite fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
      }
    } catch (e) {
      AppLogger.logError('Logout fÃ¼r Invite fehlgeschlagen', e);
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
```

**errorStyleThemeofcontexttextthemebodylargecopywithColor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:836:61`
- ğŸ“ Original: `',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // Verschiedene Action-Buttons je nach Szenario
                      if (_showRegistrationButton && _inviteEmail != null) ...[
                        // Registration Button fÃ¼r neuen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: () => _navigateToRegistration(_inviteEmail!),
                            icon: const Icon(Icons.person_add),
                            label: const Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        _errorMessage ?? 'Unbekannter Fehler',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

**errorErrorE_authservice** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_list_page.dart:82:79`
- ğŸ“ Original: `', error: e);
      _authService = AuthService();
      _worldService = WorldService();
      _inviteService = InviteService();
    }
  }

  Future<void> _loadWorlds() async {
    setState(() {
      _isLoading = true;
      _error = null;
    });

    try {
      final worlds = await _worldService.getWorlds();
      if (mounted) {
        setState(() {
          _worlds = worlds;
          _isLoading = false;
        });
        
        // Simuliere Spieleranzahl fÃ¼r Demo-Zwecke
        _generateMockPlayerCounts();
        
        // Check player status for each world (silently handle 404s)
        _checkPlayerStatuses();
        _checkPreRegistrationStatuses();
        
        // Initial filter anwenden
        _applyFiltersAndSorting();
      }
    } catch (e) {
      if (mounted) {
        // Only show error for non-401/404 errors
        if (!e.toString().contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_inviteService = InviteService();
      }
    } catch (e) {
      AppLogger.app.w('âš ï¸ ServiceLocator Fehler - nutze direkte Instanziierung', error: e);
      _authService = AuthService();
      _worldService = WorldService();
      _inviteService = InviteService();
```

**errorScaffoldmessengerofcontextshowsnackbarSnackbarContent** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_list_page.dart:366:72`
- ğŸ“ Original: `');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
              backgroundColor: AppTheme.errorColor,
            ),
          );
        }
      }
    }
  }

  Future<void> _leaveWorld(World world) async {
    // Zeige BestÃ¤tigungsdialog
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
```

### ğŸ·ï¸ INVITE

**inviteFinalCurrentrefreshtokenAwait** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\auth_service.dart:387:51`
- ğŸ“ Original: `'];
        final currentRefreshToken = await TokenStorage.getRefreshToken();
        final finalRefreshToken = newRefreshToken ?? currentRefreshToken;
        
        // Tokens speichern und API-Service aktualisieren
        await _saveTokensAndUpdateService(newAccessToken, finalRefreshToken);
        return true;
      } else {
        await logout();
        return false;
      }
    } catch (e) {
      await logout();
      return false;
    } finally {
      _refreshing = false;
    }
  }

  // Optionaler Force-Refresh fÃ¼r manuelle Token-Erneuerung
  Future<bool> forceRefreshToken() async {
    final tokenValid = await refreshTokenIfNeeded();
    if (!tokenValid) {
      await logout();
    }
    return tokenValid;
  }

  // Fetch current user data with roles from server
  Future<User?> fetchCurrentUser() async {
    try {
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final newAccessToken = data['accessToken'];
        
        // Refresh-Token-Rotation: Neuen Refresh-Token verwenden falls vorhanden
        final newRefreshToken = data['refreshToken'];
        final currentRefreshToken = await TokenStorage.getRefreshToken();
        final finalRefreshToken = newRefreshToken ?? currentRefreshToken;
```

**inviteInvitemodelFÃ¼rBessere** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\invite_service.dart:4:25`
- ğŸ“ Original: `';

// Invite-Model fÃ¼r bessere Typisierung
class Invite {
  final int id;
  final String email;
  final String status;
  final DateTime? createdAt;
  final DateTime? expiresAt;

  Invite({
    required this.id,
    required this.email,
    required this.status,
    this.createdAt,
    this.expiresAt,
  });

  factory Invite.fromJson(Map<String, dynamic> json) {
    return Invite(
      id: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'dart:io';
import 'package:http/http.dart' as http;
import 'api_service.dart';

// Invite-Model fÃ¼r bessere Typisierung
class Invite {
```

**inviteBackgroundcolorColorsgreenDuration** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\register_page.dart:128:99`
- ğŸ“ Original: `'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
            );
            
            // Kurze VerzÃ¶gerung fÃ¼r bessere UX
            await Future.delayed(const Duration(milliseconds: 500));
            
            if (mounted) {
              if (params != null) {
                context.goNamed(routeName, pathParameters: params);
              } else {
                context.goNamed(routeName);
              }
            }
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**inviteBackgroundcolorColorsgreenDuration** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\register_page.dart:150:99`
- ğŸ“ Original: `'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
            );
            
            // Kurze VerzÃ¶gerung fÃ¼r bessere UX
            await Future.delayed(const Duration(milliseconds: 500));
            
            if (mounted) {
              context.goNamed('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**inviteNnGÃ¼ltigBis** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:277:24`
- ğŸ“ Original: `'\n\nâ° GÃ¼ltig bis: $dateStr'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
} else if (isExpired) {
        validityText = '\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.';
      } else {
        validityText = '\n\nâ° GÃ¼ltig bis: $dateStr';
      }
    }
```

**inviteBeiUngÃ¼ltigenInvites** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:327:49`
- ğŸ“ Original: `';
    }
    
    // Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
default:
        AppLogger.app.w('âŒ Unbekannter User-Status: $status');
        actionText = 'Unbekannter Status: $status';
        infoText = '$baseInfoText\n\n$actionText';
    }
    
    // Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
```

**inviteSetstate_infomessageInfotext** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:332:76`
- ğŸ“ Original: `';
    }
    
    setState(() {
      _infoMessage = infoText;
      _inviteEmail = inviteEmail;
      
      // Button-Flags setzen
      _showLoginButton = showLoginButton;
      _showRegistrationButton = showRegisterButton; 
      _showLogoutButton = showLogoutButton;
      _showAcceptInviteButton = showAcceptButton;
      
      // WICHTIG: Alte Fehlermeldung zurÃ¼cksetzen!
      _errorMessage = null;
      
      _isLoading = false;
    });
  }

  // Neue Methode: World-Status fÃ¼r normale Navigation prÃ¼fen
  Future<void> _checkWorldStatus() async {
    if (_world == null) return;
    
    try {
      // PrÃ¼fe ob User bereits Mitglied ist
      _isJoined = await _worldService.isPlayerInWorld(_world!.id);
      
      // PrÃ¼fe Vorregistrierung
      final preRegStatus = await _worldService.getPreRegistrationStatus(_world!.id);
      _isPreRegistered = preRegStatus.isPreRegistered;
      
      AppLogger.app.d('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.';
    }
    
    setState(() {
```

**inviteBackgroundcolorColorsgreenCatch** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_list_page.dart:496:62`
- ğŸ“ Original: `'),
              backgroundColor: Colors.green,
            ),
          );
        }
      } catch (e) {
        if (mounted) {
          // PrÃ¼fe ob es ein Token-Problem ist
          if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (success && mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            const SnackBar(
              content: Text('Einladung erfolgreich versendet!'),
              backgroundColor: Colors.green,
            ),
          );
```

### ğŸ·ï¸ WORLD

**worldLÃ¤uft** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\models\world.dart:58:16`
- ğŸ“ Original: `'LÃ¤uft'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
case WorldStatus.open:
        return 'Offen';
      case WorldStatus.running:
        return 'LÃ¤uft';
      case WorldStatus.closed:
        return 'Geschlossen';
      case WorldStatus.archived:
```

**worldFehlerbehandlungFÃ¼rSpezifische** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\world_service.dart:411:36`
- ğŸ“ Original: `'];
        }
      }
      
      // Fehlerbehandlung fÃ¼r spezifische HTTP-Status-Codes
      if (response.statusCode == 409) {
        AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'worldId': responseData['data']['world']?['id'],
            'worldName': responseData['data']['world']?['name']
          });
          return responseData['data'];
        }
      }
```

**worldErstelleDeinKonto** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\auth\register_page.dart:262:31`
- ğŸ“ Original: `'Erstelle dein Konto fÃ¼r Weltenwind'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                            const SizedBox(height: 8),
                            Text(
                              'Erstelle dein Konto fÃ¼r Weltenwind',
                              style: Theme.of(context).textTheme.bodyMedium?.copyWith(
                                color: Colors.grey[300],
                                fontSize: 16,
```

**worldWennKeineButtons** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_card.dart:462:35`
- ğŸ“ Original: `',
      ));
    }
    
    // Wenn keine Buttons verfÃ¼gbar sind
    if (buttons.isEmpty) {
      return _buildStatusBadge();
    }
    
    return Wrap(
      spacing: 8,
      runSpacing: 4,
      children: buttons,
    );
  }
  
  Widget _buildButton({
    required VoidCallback? onPressed,
    required IconData icon,
    required String? label,
    required Color? color,
    bool iconOnly = false,
    String? tooltip,
  }) {
    if (onPressed == null) return const SizedBox.shrink();
    
    final button = iconOnly
        ? ElevatedButton(
            onPressed: onPressed,
            style: ElevatedButton.styleFrom(
              backgroundColor: color,
              foregroundColor: Colors.white,
              padding: const EdgeInsets.all(8),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(8),
              ),
            ),
            child: Icon(icon, size: 16),
          )
        : ElevatedButton.icon(
            onPressed: onPressed,
            icon: Icon(icon, size: 16),
            label: Text(label ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
label: null,
        color: Colors.purple[600],
        iconOnly: true,
        tooltip: 'Spieler einladen',
      ));
    }
```

**worldLÃ¤uft** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:306:16`
- ğŸ“ Original: `'LÃ¤uft'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldStatus.open:
        return 'Offen';
      case WorldStatus.running:
        return 'LÃ¤uft';
      case WorldStatus.closed:
        return 'Geschlossen';
      case WorldStatus.archived:
```

**worldWÃ¤hleDeineWelt** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_list_header.dart:53:11`
- ğŸ“ Original: `'WÃ¤hle deine Welt'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Subtitle
        Text(
          'WÃ¤hle deine Welt',
          style: Theme.of(context).textTheme.titleMedium?.copyWith(
            color: Colors.grey[300],
            fontSize: 18,
```

**worldNochKeineWelten** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:55:19`
- ğŸ“ Original: `'Noch keine Welten verfÃ¼gbar'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
            hasActiveFilters
                ? 'Keine Welten gefunden'
                : 'Noch keine Welten verfÃ¼gbar',
            style: TextStyle(
              fontSize: 18,
              fontWeight: FontWeight.bold,
```

**worldVersucheDieFilter** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:66:19`
- ğŸ“ Original: `'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
          Text(
            hasActiveFilters
                ? 'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'
                : 'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.',
            style: TextStyle(
              fontSize: 14,
```

**worldSchaueSpÃ¤terNoch** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:67:19`
- ğŸ“ Original: `'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
            hasActiveFilters
                ? 'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'
                : 'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.',
            style: TextStyle(
              fontSize: 14,
              color: Colors.grey[500],
```

**worldVersucheInviteakzeptierungFÃ¼r** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:439:25`
- ğŸ“ Original: `'ğŸ« Versuche Invite-Akzeptierung fÃ¼r World-Join'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// **INVITE-TOKEN FLOW: Invite akzeptieren**
      if (widget.inviteToken != null) {
        AppLogger.app.i('ğŸ« Versuche Invite-Akzeptierung fÃ¼r World-Join');
        final inviteResult = await _worldService.acceptInvite(widget.inviteToken!);
        
        if (inviteResult != null) {
```

**worldWidgetinvitetokensubstring08Setstate** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:483:21`
- ğŸ“ Original: `': widget.inviteToken?.substring(0, 8)
      });
      
      setState(() {
        // Bessere Fehlermeldungen fÃ¼r verschiedene Szenarien
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'worldId': _world?.id,
        'worldName': _world?.name,
        'hasInviteToken': widget.inviteToken != null,
        'inviteToken': widget.inviteToken?.substring(0, 8)
      });
      
      setState(() {
```

**worldErfolgreichFÃ¼rWorldname** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:526:29`
- ğŸ“ Original: `'Erfolgreich fÃ¼r ${world.name} vorregistriert!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
              backgroundColor: Colors.green,
            ),
          );
```

**worldVorregistrierungFÃ¼rWorldname** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:568:29`
- ğŸ“ Original: `'Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
              backgroundColor: Colors.orange,
            ),
          );
```

**worldReturnWorldstatustextWeltstatusfarbe** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:661:41`
- ğŸ“ Original: `';
    return world.statusText;
  }

  // Welt-Status-Farbe
  Color _getWorldStatusColor() {
    final world = _world;
    if (world == null) return Colors.grey;
    
    switch (world.status) {
      case WorldStatus.upcoming:
        return Colors.orange;
      case WorldStatus.open:
        return Colors.green;
      case WorldStatus.running:
        return Colors.blue;
      case WorldStatus.closed:
        return Colors.red;
      case WorldStatus.archived:
        return Colors.grey;
    }
  }

  // Kann der Benutzer beitreten?
  // Retry-Funktion
  Future<void> _retry() async {
    await _loadWorldData();
  }

  // Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Welt-Status bestimmen
  String _getWorldStatusText() {
    final world = _world;
    if (world == null) return 'Unbekannt';
    return world.statusText;
  }
```

**worldDieAngeforderteWelt** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1092:25`
- ğŸ“ Original: `'Die angeforderte Welt existiert nicht oder ist nicht verfÃ¼gbar.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        'Die angeforderte Welt existiert nicht oder ist nicht verfÃ¼gbar.',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

**worldÃœberDieseWelt** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1339:17`
- ğŸ“ Original: `'Ãœber diese Welt'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Icon(Icons.info_outline, color: AppTheme.primaryColor, size: 24),
              SizedBox(width: 8),
              Text(
                'Ãœber diese Welt',
                style: TextStyle(
                  color: Colors.white,
                  fontSize: 18,
```

**worldErkundeUnbekannteGebiete** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_join_page.dart:1351:13`
- ğŸ“ Original: `'Erkunde unbekannte Gebiete, schlieÃŸe Allianzen und werde zur Legende!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 16),
          Text(
            'Dies ist eine spannende Welt voller Abenteuer und Herausforderungen. '
            'Erkunde unbekannte Gebiete, schlieÃŸe Allianzen und werde zur Legende!',
            style: TextStyle(color: Colors.grey[300], height: 1.5),
          ),
          const SizedBox(height: 24),
```

**worldBool_sortascendingTrue** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_list_page.dart:47:64`
- ğŸ“ Original: `'
  bool _sortAscending = true;
  
  // Spieleranzahl (Simulation - spÃ¤ter vom Backend)
  final Map<int, int> _playerCounts = {};

  @override
  void initState() {
    super.initState();
    
    // DI-ready: ServiceLocator verwenden mit robuster Fehlerbehandlung
    _initializeServices();
    _loadWorlds();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
      if (ServiceLocator.has<WorldService>()) {
        _worldService = ServiceLocator.get<WorldService>();
      } else {
        _worldService = WorldService();
      }
      
      if (ServiceLocator.has<InviteService>()) {
        _inviteService = ServiceLocator.get<InviteService>();
      } else {
        _inviteService = InviteService();
      }
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Filter und Sortierung
  WorldStatus? _statusFilter;
  WorldCategory? _categoryFilter;
  String _sortBy = 'startDate'; // 'startDate', 'name', 'status'
  bool _sortAscending = true;
  
  // Spieleranzahl (Simulation - spÃ¤ter vom Backend)
```

**worldWorldidtostringCatchE** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_list_page.dart:315:64`
- ğŸ“ Original: `': world.id.toString()});
      }
    } catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
),
        );
        // Navigate to world dashboard
        context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
      }
    } catch (e) {
      if (mounted) {
```

**worldErfolgreichFÃ¼rWorldname** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_list_page.dart:350:27`
- ğŸ“ Original: `'Erfolgreich fÃ¼r ${world.name} vorregistriert!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
            backgroundColor: Colors.green,
          ),
        );
```

**worldBackgroundcolorColorsorangeCatch** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_list_page.dart:417:60`
- ğŸ“ Original: `'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

**worldVorregistrierungFÃ¼rWorldname** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_list_page.dart:456:27`
- ğŸ“ Original: `'Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

**worldWÃ¤hleDeineWelt** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\world\world_list_page.dart:609:33`
- ğŸ“ Original: `'WÃ¤hle deine Welt aus'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Subtitle
                              Text(
                                'WÃ¤hle deine Welt aus',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.grey[300],
                                ),
```

**worldGebenSieIhre** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:90:15`
- ğŸ“ Original: `'Geben Sie Ihre E-Mail-Adresse ein, um sich fÃ¼r diese Welt vorzuregistrieren:'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisSize: MainAxisSize.min,
          children: [
            Text(
              'Geben Sie Ihre E-Mail-Adresse ein, um sich fÃ¼r diese Welt vorzuregistrieren:',
              style: TextStyle(
                color: Colors.grey[300],
              ),
```

### ğŸ·ï¸ FORM

**formDetailsinformationcollectortostringInDebug** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\main.dart:48:30`
- ğŸ“ Original: `': details.informationCollector?.toString(),
      },
    );
    
    // In Debug Mode auch zur Console
    if (kDebugMode) {
      FlutterError.presentError(details);
    }
  };

  // Dart Error Handling (fÃ¼r unhandled exceptions)
  WidgetsBinding.instance.platformDispatcher.onError = (error, stack) {
    AppLogger.logError(
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context: {
        'library': details.library,
        'context': details.context?.toString(),
        'informationCollector': details.informationCollector?.toString(),
      },
    );
```

### ğŸ·ï¸ NAVIGATION

**navigationAppnameEnvappnameChild** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\app.dart:53:17`
- ğŸ“ Original: `',
      ],
      appName: Env.appName,
      child: MaterialApp.router(
        title: Env.appName,
        
        // Internationalization mit dynamischer Locale
        locale: _localeProvider.currentLocale,
        localizationsDelegates: const [
          AppLocalizations.delegate,
          GlobalMaterialLocalizations.delegate,
          GlobalWidgetsLocalizations.delegate,
          GlobalCupertinoLocalizations.delegate,
        ],
        supportedLocales: const [
          Locale('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'Lade Konfiguration...',
        'Starte Services...',
        'PrÃ¼fe Authentifizierung...',
        'Bereit!',
      ],
      appName: Env.appName,
      child: MaterialApp.router(
```

**navigationClassApiserviceStatic** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:7:38`
- ğŸ“ Original: `';

class ApiService {
  static final ApiService _instance = ApiService._internal();
  factory ApiService() => _instance;
  ApiService._internal();

  String? _token;
  late final AuthService _authService;
  String? _deviceFingerprint;
  bool _initialized = false;
  bool _isValidatingToken = false; // Verhindert rekursive Token-Validierung
  
  // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
  final Map<String, Map<String, dynamic>> _requestBodies = {};

  // Dependency Injection fÃ¼r bessere Testbarkeit
  ApiService.withAuth(AuthService authService) : _authService = authService;

  // Initialisierung beim ersten Zugriff
  Future<void> _ensureInitialized() async {
    if (!_initialized) {
      _authService = AuthService(); // Fallback fÃ¼r Singleton-Pattern
      try {
        final accessToken = await _authService.getCurrentAccessToken();
        if (accessToken != null) {
          _token = accessToken;
        }
      } catch (e) {
        // Error loading token
      }
      _initialized = true;
    }
  }

  void setToken(String token) {
    _token = token;
  }

  void clearToken() {
    _token = null;
  }

  // Einfacher Device-Fingerprint
  String get deviceFingerprint {
    final currentFingerprint = _deviceFingerprint;
    if (currentFingerprint != null) {
      return currentFingerprint;
    }
    final fingerprint = kIsWeb 
        ? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../config/env.dart';
import '../../config/logger.dart';
import 'auth_service.dart';
import '../../routing/app_router.dart';

class ApiService {
  static final ApiService _instance = ApiService._internal();
```

**navigationClassApiserviceStatic** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\core\services\api_service.dart:7:38`
- ğŸ“ Original: `';

class ApiService {
  static final ApiService _instance = ApiService._internal();
  factory ApiService() => _instance;
  ApiService._internal();

  String? _token;
  late final AuthService _authService;
  String? _deviceFingerprint;
  bool _initialized = false;
  bool _isValidatingToken = false; // Verhindert rekursive Token-Validierung
  
  // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
  final Map<String, Map<String, dynamic>> _requestBodies = {};

  // Dependency Injection fÃ¼r bessere Testbarkeit
  ApiService.withAuth(AuthService authService) : _authService = authService;

  // Initialisierung beim ersten Zugriff
  Future<void> _ensureInitialized() async {
    if (!_initialized) {
      _authService = AuthService(); // Fallback fÃ¼r Singleton-Pattern
      try {
        final accessToken = await _authService.getCurrentAccessToken();
        if (accessToken != null) {
          _token = accessToken;
        }
      } catch (e) {
        // Error loading token
      }
      _initialized = true;
    }
  }

  void setToken(String token) {
    _token = token;
  }

  void clearToken() {
    _token = null;
  }

  // Einfacher Device-Fingerprint
  String get deviceFingerprint {
    final currentFingerprint = _deviceFingerprint;
    if (currentFingerprint != null) {
      return currentFingerprint;
    }
    final fingerprint = kIsWeb 
        ? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../config/env.dart';
import '../../config/logger.dart';
import 'auth_service.dart';
import '../../routing/app_router.dart';

class ApiService {
  static final ApiService _instance = ApiService._internal();
```

**navigationThemebackground_widgetdart** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:3:8`
- ğŸ“ Original: `'../../theme/background_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';
```

**navigationClassDashboardpageExtends** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:5:52`
- ğŸ“ Original: `';

class DashboardPage extends StatelessWidget {
  final String worldId;
  
  const DashboardPage({super.key, required this.worldId});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: BackgroundWidget(
        child: Stack(
          children: [
            // Main content
            Center(
              child: Padding(
                padding: const EdgeInsets.all(24.0),
                child: ConstrainedBox(
                  constraints: const BoxConstraints(maxWidth: 600),
                  child: Card(
                    elevation: 12,
                    color: const Color(0xFF1A1A1A), // Dunkle Karte
                    shape: RoundedRectangleBorder(
                      borderRadius: BorderRadius.circular(20),
                      side: BorderSide(
                        color: AppTheme.primaryColor.withOpacity(0.3),
                        width: 1,
                      ),
                    ),
                    child: Container(
                      decoration: BoxDecoration(
                        borderRadius: BorderRadius.circular(20),
                        gradient: const LinearGradient(
                          begin: Alignment.topLeft,
                          end: Alignment.bottomRight,
                          colors: [
                            Color(0xFF1A1A1A),
                            Color(0xFF2A2A2A),
                          ],
                        ),
                      ),
                      child: Padding(
                        padding: const EdgeInsets.all(32.0),
                        child: Column(
                          mainAxisSize: MainAxisSize.min,
                          children: [
                            // Icon
                            Container(
                              width: 80,
                              height: 80,
                              decoration: BoxDecoration(
                                color: AppTheme.primaryColor.withOpacity(0.2),
                                shape: BoxShape.circle,
                                border: Border.all(
                                  color: AppTheme.primaryColor.withOpacity(0.5),
                                  width: 2,
                                ),
                              ),
                              child: const Icon(
                                Icons.rocket_launch,
                                size: 40,
                                color: AppTheme.primaryColor,
                              ),
                            ),
                            const SizedBox(height: 24),
                            
                            // Title
                            Text(
                              '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';

class DashboardPage extends StatelessWidget {
  final String worldId;
```

**navigationWorlddashboard** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:134:29`
- ğŸ“ Original: `'world-dashboard'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation widget in top-right corner
            NavigationWidget(
              currentRoute: 'world-dashboard',
              routeParams: {'id': worldId},
              isJoinedWorld: true, // User muss in der Welt sein um das Dashboard zu sehen
            ),
```

**navigationThemebackground_widgetdart** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:4:8`
- ğŸ“ Original: `'../../theme/background_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import 'dart:math' as math;

class LandingPage extends StatefulWidget {
```

**navigationAsMathClass** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:5:18`
- ğŸ“ Original: `' as math;

class LandingPage extends StatefulWidget {
  const LandingPage({super.key});

  @override
  State<LandingPage> createState() => _LandingPageState();
}

class _LandingPageState extends State<LandingPage> with TickerProviderStateMixin {
  late AnimationController _fadeController;
  late AnimationController _slideController;
  late AnimationController _pulseController;
  late AnimationController _featureController;
  late Animation<double> _fadeAnimation;
  late Animation<Offset> _slideAnimation;
  late Animation<double> _pulseAnimation;
  late Animation<double> _featureAnimation;
  
  final ScrollController _scrollController = ScrollController();
  bool _showFeatures = false;

  @override
  void initState() {
    super.initState();
    
    // Main animations
    _fadeController = AnimationController(
      duration: const Duration(milliseconds: 1500),
      vsync: this,
    );
    
    _slideController = AnimationController(
      duration: const Duration(milliseconds: 1200),
      vsync: this,
    );
    
    // Logo pulse animation
    _pulseController = AnimationController(
      duration: const Duration(seconds: 2),
      vsync: this,
    )..repeat(reverse: true);
    
    // Feature animation
    _featureController = AnimationController(
      duration: const Duration(milliseconds: 800),
      vsync: this,
    );
    
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _fadeController,
      curve: Curves.easeInOut,
    ));
    
    _slideAnimation = Tween<Offset>(
      begin: const Offset(0, 0.3),
      end: Offset.zero,
    ).animate(CurvedAnimation(
      parent: _slideController,
      curve: Curves.easeOutCubic,
    ));
    
    _pulseAnimation = Tween<double>(
      begin: 0.95,
      end: 1.05,
    ).animate(CurvedAnimation(
      parent: _pulseController,
      curve: Curves.easeInOut,
    ));
    
    _featureAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _featureController,
      curve: Curves.easeOutBack,
    ));
    
    // Start animations
    _fadeController.forward();
    Future.delayed(const Duration(milliseconds: 300), () {
      _slideController.forward();
    });
    
    // Show features after main animation
    Future.delayed(const Duration(milliseconds: 1800), () {
      if (mounted) {
        setState(() {
          _showFeatures = true;
        });
        _featureController.forward();
      }
    });
  }

  @override
  void dispose() {
    _fadeController.dispose();
    _slideController.dispose();
    _pulseController.dispose();
    _featureController.dispose();
    _scrollController.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    
    return Scaffold(
      body: BackgroundWidget(
        child: SafeArea(
          child: SingleChildScrollView(
            controller: _scrollController,
            physics: const BouncingScrollPhysics(),
            child: Column(
              children: [
                // Hero Section
                Container(
                  constraints: BoxConstraints(
                    minHeight: MediaQuery.of(context).size.height - MediaQuery.of(context).padding.top,
                  ),
                  child: Center(
                    child: FadeTransition(
                      opacity: _fadeAnimation,
                      child: SlideTransition(
                        position: _slideAnimation,
                        child: Padding(
                          padding: const EdgeInsets.all(24.0),
                          child: Center(
                            child: ConstrainedBox(
                              constraints: const BoxConstraints(maxWidth: 600),
                              child: Card(
                                elevation: 16,
                                color: const Color(0xFF1A1A1A),
                                shape: RoundedRectangleBorder(
                                  borderRadius: BorderRadius.circular(24),
                                  side: BorderSide(
                                    color: AppTheme.primaryColor.withOpacity(0.3),
                                    width: 1,
                                  ),
                                ),
                                child: Container(
                                  decoration: BoxDecoration(
                                    borderRadius: BorderRadius.circular(24),
                                    gradient: const LinearGradient(
                                      begin: Alignment.topLeft,
                                      end: Alignment.bottomRight,
                                      colors: [
                                        Color(0xFF1A1A1A),
                                        Color(0xFF2A2A2A),
                                      ],
                                    ),
                                  ),
                                  child: Padding(
                                    padding: const EdgeInsets.symmetric(horizontal: 40.0, vertical: 48.0),
                                    child: Column(
                                      mainAxisSize: MainAxisSize.min,
                                      children: [
                                        // Animated Logo
                                        AnimatedBuilder(
                                          animation: _pulseAnimation,
                                          builder: (context, child) {
                                            return Transform.scale(
                                              scale: _pulseAnimation.value,
                                              child: Container(
                                                width: 140,
                                                height: 140,
                                                decoration: BoxDecoration(
                                                  color: AppTheme.primaryColor.withOpacity(0.15),
                                                  borderRadius: BorderRadius.circular(35),
                                                  border: Border.all(
                                                    color: AppTheme.primaryColor.withOpacity(0.4),
                                                    width: 2,
                                                  ),
                                                  boxShadow: [
                                                    BoxShadow(
                                                      color: AppTheme.primaryColor.withOpacity(0.4),
                                                      blurRadius: 30,
                                                      spreadRadius: 10,
                                                    ),
                                                  ],
                                                ),
                                                child: Stack(
                                                  alignment: Alignment.center,
                                                  children: [
                                                    const Icon(
                                                      Icons.public,
                                                      size: 70,
                                                      color: AppTheme.primaryColor,
                                                    ),
                                                    // Orbit animation
                                                    ...List.generate(3, (index) {
                                                      return TweenAnimationBuilder<double>(
                                                        tween: Tween(begin: 0, end: 2 * math.pi),
                                                        duration: Duration(seconds: 10 + index * 2),
                                                        builder: (context, value, child) {
                                                          return Transform.translate(
                                                            offset: Offset(
                                                              math.cos(value + (index * 2 * math.pi / 3)) * 50,
                                                              math.sin(value + (index * 2 * math.pi / 3)) * 50,
                                                            ),
                                                            child: Container(
                                                              width: 8,
                                                              height: 8,
                                                              decoration: BoxDecoration(
                                                                color: AppTheme.primaryColor.withOpacity(0.8),
                                                                shape: BoxShape.circle,
                                                                boxShadow: const [
                                                                  BoxShadow(
                                                                    color: AppTheme.primaryColor,
                                                                    blurRadius: 4,
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          );
                                                        },
                                                      );
                                                    }),
                                                  ],
                                                ),
                                              ),
                                            );
                                          },
                                        ),
                                        
                                        const SizedBox(height: 40),
                                        
                                        // Title with enhanced gradient
                                        ShaderMask(
                                          shaderCallback: (bounds) => LinearGradient(
                                            colors: [
                                              AppTheme.primaryColor,
                                              AppTheme.primaryColor.withBlue(255),
                                              AppTheme.primaryColor,
                                            ],
                                            stops: const [0.0, 0.5, 1.0],
                                          ).createShader(bounds),
                                          child: Text(
                                            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import 'dart:math' as math;

class LandingPage extends StatefulWidget {
  const LandingPage({super.key});
```

**navigationFeaturesauthregister_pagedart** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:5:8`
- ğŸ“ Original: `'../features/auth/register_page.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../config/logger.dart';
import '../features/auth/login_page.dart';
import '../features/auth/register_page.dart';
import '../features/auth/forgot_password_page.dart';
import '../features/auth/reset_password_page.dart';
import '../features/world/world_list_page.dart';
```

**navigationCustomNavigationObserver** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:14:21`
- ğŸ“ Original: `';

// Custom Navigation Observer fÃ¼r Logging
class AppNavigationObserver extends NavigatorObserver {
  @override
  void didReplace({Route<dynamic>? newRoute, Route<dynamic>? oldRoute}) {
    super.didReplace(newRoute: newRoute, oldRoute: oldRoute);
    _logNavigation(oldRoute?.settings.name, newRoute?.settings.name, '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../features/landing/landing_page.dart';
import '../core/services/auth_service.dart';
import '../theme/app_theme.dart';
import '../main.dart';

// Custom Navigation Observer fÃ¼r Logging
class AppNavigationObserver extends NavigatorObserver {
```

**navigationClassApprouterNamed** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:40:60`
- ğŸ“ Original: `');
    }
  }
}

class AppRouter {
  // Named Routes fÃ¼r bessere Navigation
  static const String landingRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (from != null && to != null) {
      AppLogger.logNavigation(from, to, params: {'action': action});
    } else if (to != null) {
      AppLogger.navigation.i('ğŸ§­ Navigation: â†’ $to ($action)');
    }
  }
}
```

**navigationStaticConstString** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:48:42`
- ğŸ“ Original: `';
  static const String registerRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
class AppRouter {
  // Named Routes fÃ¼r bessere Navigation
  static const String landingRoute = 'landing';
  static const String loginRoute = 'login';
  static const String registerRoute = 'register';
  static const String forgotPasswordRoute = 'forgot-password';
  static const String resetPasswordRoute = 'reset-password';
```

**navigationStaticConstString** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:51:59`
- ğŸ“ Original: `';
  static const String worldListRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String loginRoute = 'login';
  static const String registerRoute = 'register';
  static const String forgotPasswordRoute = 'forgot-password';
  static const String resetPasswordRoute = 'reset-password';
  static const String worldListRoute = 'world-list';
  static const String worldDashboardRoute = 'world-dashboard';
  static const String worldJoinRoute = 'world-join';
```

**navigationNavigatorkey_rootnavigatorkeyNavigation** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:88:32`
- ğŸ“ Original: `',
          navigatorKey: _rootNavigatorKey,
          
          // Navigation Observer fÃ¼r User Journey Tracking
          observers: [
            AppNavigationObserver(),
          ],
          
          // Redirect aktiviert - Services werden jetzt korrekt initialisiert
          redirect: (context, state) async {
        try {
          final authService = _getAuthService();
          if (authService == null) {
            // Services noch nicht verfÃ¼gbar, zur Landing Page
            return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.navigation.i('ğŸš€ Router wird initialisiert...');
      try {
        _routerInstance = GoRouter(
          initialLocation: '/go',
          navigatorKey: _rootNavigatorKey,
          
          // Navigation Observer fÃ¼r User Journey Tracking
```

**navigationInviteroutenSindÃ–ffentlich** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:108:82`
- ğŸ“ Original: `'); // Invite-Routen sind Ã¶ffentlich
          final isProtectedRoute = (state.matchedLocation.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final isLoggedIn = await authService.isLoggedIn();

          final isAuthRoute = state.matchedLocation.startsWith('/go/auth');
          final isInviteRoute = state.matchedLocation.startsWith('/go/world-join/'); // Invite-Routen sind Ã¶ffentlich
          final isProtectedRoute = (state.matchedLocation.startsWith('/go/worlds') ||
                                  state.matchedLocation.startsWith('/go/dashboard')) &&
                                  !isInviteRoute; // Invite-Routen ausschlieÃŸen
```

**navigationGodashboard** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:110:68`
- ğŸ“ Original: `'/go/dashboard'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final isAuthRoute = state.matchedLocation.startsWith('/go/auth');
          final isInviteRoute = state.matchedLocation.startsWith('/go/world-join/'); // Invite-Routen sind Ã¶ffentlich
          final isProtectedRoute = (state.matchedLocation.startsWith('/go/worlds') ||
                                  state.matchedLocation.startsWith('/go/dashboard')) &&
                                  !isInviteRoute; // Invite-Routen ausschlieÃŸen

          if (!isLoggedIn && isProtectedRoute) {
```

**navigationNameLandingroutePagebuilder** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:139:19`
- ğŸ“ Original: `',
        name: landingRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const LandingPage(),
          transitionsBuilder: (context, animation, secondaryAnimation, child) =>
            FadeTransition(opacity: animation, child: child),
        ),
      ),

      // Auth routes
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
routes: [
      // Landing page
      GoRoute(
        path: '/go',
        name: landingRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const LandingPage(),
```

**navigationNameLoginroutePagebuilder** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:150:30`
- ğŸ“ Original: `',
        name: loginRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const LoginPage(),
          transitionsBuilder: (context, animation, secondaryAnimation, child) =>
            FadeTransition(opacity: animation, child: child),
        ),
      ),
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
// Auth routes
      GoRoute(
        path: '/go/auth/login',
        name: loginRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const LoginPage(),
```

**navigationNameRegisterroutePagebuilder** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:159:33`
- ğŸ“ Original: `',
        name: registerRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const RegisterPage(),
          transitionsBuilder: (context, animation, secondaryAnimation, child) =>
            FadeTransition(opacity: animation, child: child),
        ),
      ),
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
      ),
      GoRoute(
        path: '/go/auth/register',
        name: registerRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const RegisterPage(),
```

**navigationNameForgotpasswordroutePagebuilder** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:168:40`
- ğŸ“ Original: `',
        name: forgotPasswordRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const ForgotPasswordPage(),
          transitionsBuilder: (context, animation, secondaryAnimation, child) =>
            FadeTransition(opacity: animation, child: child),
        ),
      ),
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
      ),
      GoRoute(
        path: '/go/auth/forgot-password',
        name: forgotPasswordRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const ForgotPasswordPage(),
```

**navigationNameResetpasswordroutePagebuilder** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:177:39`
- ğŸ“ Original: `',
        name: resetPasswordRoute,
        pageBuilder: (context, state) {
          // Token aus Query-Parametern holen
          final token = state.uri.queryParameters['`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
      ),
      GoRoute(
        path: '/go/auth/reset-password',
        name: resetPasswordRoute,
        pageBuilder: (context, state) {
          // Token aus Query-Parametern holen
```

**navigationIfTokenNull** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:181:57`
- ğŸ“ Original: `'];
          if (token == null || token.isEmpty) {
            // Ohne Token zur Passwort-vergessen Seite weiterleiten
            return CustomTransitionPage(
              child: const ForgotPasswordPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
                FadeTransition(opacity: animation, child: child),
            );
          }
          return CustomTransitionPage(
            child: ResetPasswordPage(token: token),
            transitionsBuilder: (context, animation, secondaryAnimation, child) =>
              FadeTransition(opacity: animation, child: child),
          );
        },
      ),

      // World routes - NORMALE NAVIGATION
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
name: resetPasswordRoute,
        pageBuilder: (context, state) {
          // Token aus Query-Parametern holen
          final token = state.uri.queryParameters['token'];
          if (token == null || token.isEmpty) {
            // Ohne Token zur Passwort-vergessen Seite weiterleiten
            return CustomTransitionPage(
```

**navigationNameWorldlistroutePagebuilder** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:200:26`
- ğŸ“ Original: `',
        name: worldListRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const WorldListPage(),
          transitionsBuilder: (context, animation, secondaryAnimation, child) =>
            FadeTransition(opacity: animation, child: child),
        ),
      ),
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
// World routes - NORMALE NAVIGATION
      GoRoute(
        path: '/go/worlds',
        name: worldListRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const WorldListPage(),
```

**navigationNameWorlddashboardroutePagebuilder** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:209:30`
- ğŸ“ Original: `',
        name: worldDashboardRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
      ),
      GoRoute(
        path: '/go/worlds/:id',
        name: worldDashboardRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['id'];
```

**navigationNameWorldjoinroutePagebuilder** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:247:35`
- ğŸ“ Original: `',
        name: worldJoinRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
      // NORMALE WORLD-JOIN Route (Ã¼ber interne Navigation)
      GoRoute(
        path: '/go/worlds/:id/join',
        name: worldJoinRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['id'];
```

**navigationPagebuilderContextState** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:289:35`
- ğŸ“ Original: `',
        pageBuilder: (context, state) {
          final token = state.pathParameters['`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
// INVITE-FLOW Route (externe Links)
      GoRoute(
        path: '/go/world-join/:token',
        name: 'world-join-by-token',
        pageBuilder: (context, state) {
          final token = state.pathParameters['token'];
          if (token == null || token.isEmpty) {
```

**navigationVerbesserteFehlerseitenClass** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:387:68`
- ğŸ“ Original: `');
  }
}

// Verbesserte Fehlerseiten
class ErrorPage extends StatelessWidget {
  const ErrorPage({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Container(
        decoration: BoxDecoration(
          gradient: LinearGradient(
            begin: Alignment.topCenter,
            end: Alignment.bottomCenter,
            colors: [
              AppTheme.primaryColor.withOpacity(0.1),
              AppTheme.surfaceColor,
            ],
          ),
        ),
        child: Center(
          child: Card(
            elevation: 8,
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(16),
            ),
            child: Padding(
              padding: const EdgeInsets.all(32.0),
              child: Column(
                mainAxisSize: MainAxisSize.min,
                children: [
                  const Icon(
                    Icons.error_outline,
                    size: 64,
                    color: AppTheme.errorColor,
                  ),
                  const SizedBox(height: 24),
                  Text(
                    '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Cache beim App-Start invalidieren
  static void invalidateCacheOnStart() {
    // Caching entfernt, daher keine Cache-Invalidierung mehr nÃ¶tig
    AppLogger.navigation.i('ğŸ”„ Auth-Cache beim App-Start invalidiert');
  }
}
```

**navigationNameResetpasswordroutePagebuilder** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:177:39`
- ğŸ“ Original: `',
        name: resetPasswordRoute,
        pageBuilder: (context, state) {
          // Token aus Query-Parametern holen
          final token = state.uri.queryParameters['`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
      ),
      GoRoute(
        path: '/go/auth/reset-password',
        name: resetPasswordRoute,
        pageBuilder: (context, state) {
          // Token aus Query-Parametern holen
```

**navigationIfTokenNull** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:181:57`
- ğŸ“ Original: `'];
          if (token == null || token.isEmpty) {
            // Ohne Token zur Passwort-vergessen Seite weiterleiten
            return CustomTransitionPage(
              child: const ForgotPasswordPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
                FadeTransition(opacity: animation, child: child),
            );
          }
          return CustomTransitionPage(
            child: ResetPasswordPage(token: token),
            transitionsBuilder: (context, animation, secondaryAnimation, child) =>
              FadeTransition(opacity: animation, child: child),
          );
        },
      ),

      // World routes - NORMALE NAVIGATION
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
name: resetPasswordRoute,
        pageBuilder: (context, state) {
          // Token aus Query-Parametern holen
          final token = state.uri.queryParameters['token'];
          if (token == null || token.isEmpty) {
            // Ohne Token zur Passwort-vergessen Seite weiterleiten
            return CustomTransitionPage(
```

**navigationGoworldjointoken** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:288:15`
- ğŸ“ Original: `'/go/world-join/:token'`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
      // INVITE-FLOW Route (externe Links)
      GoRoute(
        path: '/go/world-join/:token',
        name: 'world-join-by-token',
        pageBuilder: (context, state) {
          final token = state.pathParameters['token'];
```

**navigationWorldjoinbytoken** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:289:15`
- ğŸ“ Original: `'world-join-by-token'`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
// INVITE-FLOW Route (externe Links)
      GoRoute(
        path: '/go/world-join/:token',
        name: 'world-join-by-token',
        pageBuilder: (context, state) {
          final token = state.pathParameters['token'];
          if (token == null || token.isEmpty) {
```

**navigationVerbesserteFehlerseitenClass** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\routing\app_router.dart:387:68`
- ğŸ“ Original: `');
  }
}

// Verbesserte Fehlerseiten
class ErrorPage extends StatelessWidget {
  const ErrorPage({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Container(
        decoration: BoxDecoration(
          gradient: LinearGradient(
            begin: Alignment.topCenter,
            end: Alignment.bottomCenter,
            colors: [
              AppTheme.primaryColor.withOpacity(0.1),
              AppTheme.surfaceColor,
            ],
          ),
        ),
        child: Center(
          child: Card(
            elevation: 8,
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(16),
            ),
            child: Padding(
              padding: const EdgeInsets.all(32.0),
              child: Column(
                mainAxisSize: MainAxisSize.min,
                children: [
                  const Icon(
                    Icons.error_outline,
                    size: 64,
                    color: AppTheme.errorColor,
                  ),
                  const SizedBox(height: 24),
                  Text(
                    '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Cache beim App-Start invalidieren
  static void invalidateCacheOnStart() {
    // Caching entfernt, daher keine Cache-Invalidierung mehr nÃ¶tig
    AppLogger.navigation.i('ğŸ”„ Auth-Cache beim App-Start invalidiert');
  }
}
```

**navigationClassNavigationwidgetExtends** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:3:35`
- ğŸ“ Original: `';

class NavigationWidget extends StatefulWidget {
  final String? currentRoute;
  final Map<String, dynamic>? routeParams;
  final bool? isJoinedWorld; // Ob der User in der aktuellen Welt registriert ist
  
  const NavigationWidget({
    super.key,
    this.currentRoute,
    this.routeParams,
    this.isJoinedWorld,
  });

  @override
  State<NavigationWidget> createState() => _NavigationWidgetState();
}

class _NavigationWidgetState extends State<NavigationWidget> with SingleTickerProviderStateMixin {
  late AnimationController _animationController;
  late Animation<double> _fadeAnimation;
  bool _isExpanded = false;
  
  @override
  void initState() {
    super.initState();
    
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 300),
      vsync: this,
    );
    
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeInOut,
    ));
    
    _animationController.forward();
  }
  
  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }
  
  void _toggleExpanded() {
    setState(() {
      _isExpanded = !_isExpanded;
    });
  }
  
  void _showJoinRequiredMessage() {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(
        content: const Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../theme/app_theme.dart';

class NavigationWidget extends StatefulWidget {
  final String? currentRoute;
```

**navigationZurÃ¼ck** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:75:16`
- ğŸ“ Original: `'ZurÃ¼ck'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (widget.currentRoute != 'world-list') {
      items.add(NavigationItem(
        icon: Icons.arrow_back,
        label: 'ZurÃ¼ck',
        onTap: () => Navigator.of(context).canPop() 
          ? Navigator.of(context).pop()
          : context.goNamed('world-list'),
```

**navigationWorldlist** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:78:29`
- ğŸ“ Original: `'world-list'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
label: 'ZurÃ¼ck',
        onTap: () => Navigator.of(context).canPop() 
          ? Navigator.of(context).pop()
          : context.goNamed('world-list'),
      ));
      
      items.add(NavigationItem(
```

**navigationOntapIsdividerTrue** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:83:17`
- ğŸ“ Original: `',
        onTap: () {},
        isDivider: true,
      ));
    }
    
    // Immer zur Welten-Liste
    items.add(NavigationItem(
      icon: Icons.public,
      label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
items.add(NavigationItem(
        icon: Icons.remove,
        label: '',
        onTap: () {},
        isDivider: true,
      ));
```

**navigationWorldlist** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:93:36`
- ğŸ“ Original: `'world-list'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
items.add(NavigationItem(
      icon: Icons.public,
      label: 'Welten-Ãœbersicht',
      onTap: () => context.goNamed('world-list'),
      isActive: widget.currentRoute == 'world-list',
    ));
```

**navigationWorldlist** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:94:40`
- ğŸ“ Original: `'world-list'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
icon: Icons.public,
      label: 'Welten-Ãœbersicht',
      onTap: () => context.goNamed('world-list'),
      isActive: widget.currentRoute == 'world-list',
    ));
    
    // Welt-Details anzeigen (von Dashboard oder wenn auf Join-Page)
```

**navigationWorlddashboard** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:98:33`
- ğŸ“ Original: `'world-dashboard'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
));
    
    // Welt-Details anzeigen (von Dashboard oder wenn auf Join-Page)
    if ((widget.currentRoute == 'world-dashboard' || widget.currentRoute == 'world-join') 
        && widget.routeParams?['id'] != null) {
      final worldIdParam = widget.routeParams?['id'];
      if (worldIdParam != null) {
```

**navigationDashboardLinkNur** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:108:55`
- ğŸ“ Original: `',
        ));
      }
    }
    
    // Dashboard Link - nur aktiv wenn User in der Welt ist
    if ((widget.currentRoute == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
onTap: () => context.goNamed('world-join', 
            pathParameters: {'id': worldIdParam.toString()}
          ),
          isActive: widget.currentRoute == 'world-join',
        ));
      }
    }
```

**navigationWorlddashboard** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:114:72`
- ğŸ“ Original: `'world-dashboard'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    
    // Dashboard Link - nur aktiv wenn User in der Welt ist
    if ((widget.currentRoute == 'world-join' || widget.currentRoute == 'world-dashboard') 
        && widget.routeParams?['id'] != null) {
      final worldIdParam = widget.routeParams?['id'];
      if (worldIdParam != null) {
```

**navigationIfWorldidparamNull** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:116:51`
- ğŸ“ Original: `'];
      if (worldIdParam != null) {
        final worldId = worldIdParam.toString();
        final isJoined = widget.isJoinedWorld ?? false;
        
        items.add(NavigationItem(
          icon: Icons.dashboard,
          label: isJoined ? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Dashboard Link - nur aktiv wenn User in der Welt ist
    if ((widget.currentRoute == 'world-join' || widget.currentRoute == 'world-dashboard') 
        && widget.routeParams?['id'] != null) {
      final worldIdParam = widget.routeParams?['id'];
      if (worldIdParam != null) {
        final worldId = worldIdParam.toString();
        final isJoined = widget.isJoinedWorld ?? false;
```

**navigationDashboardBeitretenErforderlich** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:123:47`
- ğŸ“ Original: `'Dashboard (Beitreten erforderlich)'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
items.add(NavigationItem(
          icon: Icons.dashboard,
          label: isJoined ? 'Zum Dashboard' : 'Dashboard (Beitreten erforderlich)',
          onTap: isJoined 
            ? () => context.goNamed('world-dashboard', pathParameters: {'id': worldId})
            : () => _showJoinRequiredMessage(),
```

**navigationWorlddashboard** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:125:37`
- ğŸ“ Original: `'world-dashboard'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
icon: Icons.dashboard,
          label: isJoined ? 'Zum Dashboard' : 'Dashboard (Beitreten erforderlich)',
          onTap: isJoined 
            ? () => context.goNamed('world-dashboard', pathParameters: {'id': worldId})
            : () => _showJoinRequiredMessage(),
          isActive: widget.currentRoute == 'world-dashboard',
          isDisabled: !isJoined,
```

**navigationWorlddashboard** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:127:44`
- ğŸ“ Original: `'world-dashboard'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
onTap: isJoined 
            ? () => context.goNamed('world-dashboard', pathParameters: {'id': worldId})
            : () => _showJoinRequiredMessage(),
          isActive: widget.currentRoute == 'world-dashboard',
          isDisabled: !isJoined,
        ));
      }
```

**navigationStyleTextstyleColor** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:262:30`
- ğŸ“ Original: `',
                  style: TextStyle(
                    color: Colors.white,
                    fontSize: 16,
                    fontWeight: FontWeight.bold,
                  ),
                ),
                const SizedBox(width: 40),
                Icon(
                  Icons.keyboard_arrow_up,
                  color: Colors.grey[400],
                  size: 24,
                ),
              ],
            ),
          ),
        ),
        
        const Divider(color: Colors.grey, height: 1),
        
        // Navigation Items
        ...items.map((item) => _buildNavigationItem(item)),
      ],
    );
  }
  
  Widget _buildNavigationItem(NavigationItem item) {
    if (item.isDivider) {
      return const Padding(
        padding: EdgeInsets.symmetric(vertical: 4),
        child: Divider(color: Colors.grey, height: 1),
      );
    }
    
    final isActive = item.isActive;
    final isDisabled = item.isDisabled;
    
    final widget = InkWell(
      onTap: isDisabled ? null : () {
        item.onTap();
        if (!isDisabled) _toggleExpanded();
      },
      child: Container(
        width: 220,
        padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),
        decoration: BoxDecoration(
          color: isActive ? AppTheme.primaryColor.withOpacity(0.1) : Colors.transparent,
          border: Border(
            left: BorderSide(
              color: isActive ? AppTheme.primaryColor : Colors.transparent,
              width: 3,
            ),
          ),
        ),
        child: Row(
          children: [
            Icon(
              item.icon,
              color: isDisabled 
                ? Colors.grey[600] 
                : (isActive ? AppTheme.primaryColor : Colors.grey[400]),
              size: 20,
            ),
            const SizedBox(width: 12),
            Expanded(
              child: Text(
                item.label,
                style: TextStyle(
                  color: isDisabled 
                    ? Colors.grey[600] 
                    : (isActive ? AppTheme.primaryColor : Colors.white),
                  fontSize: 14,
                  fontWeight: isActive ? FontWeight.w600 : FontWeight.normal,
                  decoration: isDisabled ? TextDecoration.lineThrough : null,
                ),
              ),
            ),
            if (isActive && !isDisabled)
              const Icon(
                Icons.check_circle,
                color: AppTheme.primaryColor,
                size: 16,
              ),
            if (isDisabled)
              Icon(
                Icons.lock,
                color: Colors.grey[600],
                size: 16,
              ),
          ],
        ),
      ),
    );
    
    // Tooltip hinzufÃ¼gen wenn disabled
    if (isDisabled && item.label.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                const SizedBox(width: 12),
                const Text(
                  'Navigation',
                  style: TextStyle(
                    color: Colors.white,
                    fontSize: 16,
```

**navigationZurÃ¼ck** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:75:16`
- ğŸ“ Original: `'ZurÃ¼ck'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (widget.currentRoute != 'world-list') {
      items.add(NavigationItem(
        icon: Icons.arrow_back,
        label: 'ZurÃ¼ck',
        onTap: () => Navigator.of(context).canPop() 
          ? Navigator.of(context).pop()
          : context.goNamed('world-list'),
```

**navigationIsdisabledIsjoinedWeitere** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:127:60`
- ğŸ“ Original: `',
          isDisabled: !isJoined,
        ));
      }
    }
    
    // Weitere Navigation Items kÃ¶nnen hier hinzugefÃ¼gt werden
    // z.B. Settings, Profile, etc.
    
    return items;
  }
  
  @override
  Widget build(BuildContext context) {
    final navItems = _getNavigationItems();
    
    return Positioned(
      top: 16,
      right: 16,
      child: FadeTransition(
        opacity: _fadeAnimation,
        child: AnimatedContainer(
          duration: const Duration(milliseconds: 300),
          decoration: BoxDecoration(
            color: const Color(0xFF1A1A1A).withOpacity(0.95),
            borderRadius: BorderRadius.circular(16),
            border: Border.all(
              color: AppTheme.primaryColor.withOpacity(0.3),
              width: 1,
            ),
            boxShadow: [
              BoxShadow(
                color: Colors.black.withOpacity(0.3),
                blurRadius: 12,
                offset: const Offset(0, 4),
              ),
            ],
          ),
          child: Material(
            color: Colors.transparent,
            child: _isExpanded ? _buildExpandedView(navItems) : _buildCompactView(),
          ),
        ),
      ),
    );
  }
  
  Widget _buildCompactView() {
    return InkWell(
      onTap: _toggleExpanded,
      borderRadius: BorderRadius.circular(16),
      child: Padding(
        padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),
        child: Row(
          mainAxisSize: MainAxisSize.min,
          children: [
            Container(
              width: 36,
              height: 36,
              decoration: BoxDecoration(
                color: AppTheme.primaryColor.withOpacity(0.2),
                shape: BoxShape.circle,
              ),
              child: const Icon(
                Icons.explore,
                color: AppTheme.primaryColor,
                size: 20,
              ),
            ),
            const SizedBox(width: 12),
            Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              mainAxisSize: MainAxisSize.min,
              children: [
                const Text(
                  '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
onTap: isJoined 
            ? () => context.goNamed('world-dashboard', pathParameters: {'id': worldId})
            : () => _showJoinRequiredMessage(),
          isActive: widget.currentRoute == 'world-dashboard',
          isDisabled: !isJoined,
        ));
      }
```

**navigationClassUserinfowidgetExtends** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:5:24`
- ğŸ“ Original: `';

class UserInfoWidget extends StatefulWidget {
  const UserInfoWidget({super.key});

  @override
  State<UserInfoWidget> createState() => _UserInfoWidgetState();
}

class _UserInfoWidgetState extends State<UserInfoWidget> with SingleTickerProviderStateMixin {
  late final AuthService _authService;
  late AnimationController _animationController;
  late Animation<double> _fadeAnimation;
  bool _isExpanded = false;
  
  @override
  void initState() {
    super.initState();
    _authService = ServiceLocator.get<AuthService>();
    
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 300),
      vsync: this,
    );
    
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeInOut,
    ));
    
    _animationController.forward();
    
    // Fetch current user data to ensure we have roles
    _fetchUserData();
  }
  
  Future<void> _fetchUserData() async {
    final user = await _authService.fetchCurrentUser();
    if (user != null && mounted) {
      setState(() {});
    }
  }
  
  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }
  
  void _toggleExpanded() {
    setState(() {
      _isExpanded = !_isExpanded;
    });
  }
  
  Color _getRoleColor(String roleName) {
    switch (roleName.toLowerCase()) {
      case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../main.dart';

class UserInfoWidget extends StatefulWidget {
  const UserInfoWidget({super.key});
```

### ğŸ·ï¸ UI

**uiBereitsMitgliedAnmelden** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:391:51`
- ğŸ“ Original: `'Bereits Mitglied? Anmelden'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
color: AppTheme.primaryColor,
                                                ),
                                                label: const Text(
                                                  'Bereits Mitglied? Anmelden',
                                                  style: TextStyle(
                                                    color: AppTheme.primaryColor,
                                                    fontSize: 16,
```

**uiKostenlosRegistrieren** ğŸ”¥ (Confidence: 0.9)
- ğŸ“ `lib\features\landing\landing_page.dart:601:39`
- ğŸ“ Original: `'Kostenlos registrieren â†’'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
                                    ),
                                    child: const Text(
                                      'Kostenlos registrieren â†’',
                                      style: TextStyle(
                                        fontSize: 18,
                                        fontWeight: FontWeight.bold,
```

### ğŸ·ï¸ FORM

**formBitteBestÃ¤tigeDein** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\reset_password_page.dart:355:46`
- ğŸ“ Original: `'Bitte bestÃ¤tige dein neues Passwort'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                                  validator: (value) {
                                    if (value == null || value.isEmpty) {
                                      return 'Bitte bestÃ¤tige dein neues Passwort';
                                    }
                                    if (value != _passwordController.text) {
                                      return 'Die PasswÃ¶rter stimmen nicht Ã¼berein';
```

**formDiePasswÃ¶rterStimmen** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\reset_password_page.dart:358:46`
- ğŸ“ Original: `'Die PasswÃ¶rter stimmen nicht Ã¼berein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Bitte bestÃ¤tige dein neues Passwort';
                                    }
                                    if (value != _passwordController.text) {
                                      return 'Die PasswÃ¶rter stimmen nicht Ã¼berein';
                                    }
                                    return null;
                                  },
```

**formPasswÃ¶rterStimmenÃœberein** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\reset_password_page.dart:390:57`
- ğŸ“ Original: `'PasswÃ¶rter stimmen Ã¼berein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_passwordController.text.length >= 6),
                                      _buildRequirement('Keine Leerzeichen', 
                                        !_passwordController.text.contains(' ')),
                                      _buildRequirement('PasswÃ¶rter stimmen Ã¼berein', 
                                        _passwordController.text.isNotEmpty && 
                                        _passwordController.text == _confirmPasswordController.text),
                                    ],
```

**formKeineInformationVerfÃ¼gbar** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1007:41`
- ğŸ“ Original: `'Keine Information verfÃ¼gbar'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        _infoMessage ?? 'Keine Information verfÃ¼gbar',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

### ğŸ·ï¸ NAVIGATION

**navigationClassResetpasswordpageExtends** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\reset_password_page.dart:5:43`
- ğŸ“ Original: `';

class ResetPasswordPage extends StatefulWidget {
  final String token;
  
  const ResetPasswordPage({
    super.key,
    required this.token,
  });

  @override
  State<ResetPasswordPage> createState() => _ResetPasswordPageState();
}

class _ResetPasswordPageState extends State<ResetPasswordPage> with SingleTickerProviderStateMixin {
  final _formKey = GlobalKey<FormState>();
  final _passwordController = TextEditingController();
  final _confirmPasswordController = TextEditingController();
  final AuthService _authService = AuthService();
  
  late AnimationController _animationController;
  late Animation<double> _fadeAnimation;
  
  bool _isLoading = false;
  bool _isSuccess = false;
  String? _errorMessage;
  bool _obscurePassword = true;
  bool _obscureConfirmPassword = true;
  
  // FÃ¼r bessere Validierung
  bool _hasInteractedWithPassword = false;
  bool _hasInteractedWithConfirmPassword = false;

  @override
  void initState() {
    super.initState();
    
    // Animation Setup
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 800),
      vsync: this,
    );
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeIn,
    ));
    
    _animationController.forward();
  }

  @override
  void dispose() {
    _animationController.dispose();
    _passwordController.dispose();
    _confirmPasswordController.dispose();
    super.dispose();
  }

  Future<void> _resetPassword() async {
    if (!_formKey.currentState!.validate()) {
      return;
    }

    setState(() {
      _isLoading = true;
      _errorMessage = null;
      _isSuccess = false;
    });

    try {
      final success = await _authService.resetPassword(
        widget.token,
        _passwordController.text,
      );

      if (success && mounted) {
        setState(() {
          _isSuccess = true;
        });
        
        // Erfolgsmeldung zeigen und nach 3 Sekunden zum Login
        await Future.delayed(const Duration(seconds: 3));
        if (mounted) {
          context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';

class ResetPasswordPage extends StatefulWidget {
  final String token;
```

**navigationServicelocatorImportFÃ¼r** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:12:52`
- ğŸ“ Original: `';

// ServiceLocator Import fÃ¼r DI
import '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';
```

**navigationFlowtypeenumFÃ¼rKlare** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:15:24`
- ğŸ“ Original: `';

// Flow-Type-Enum fÃ¼r klare Trennung der beiden User-Journeys
enum WorldJoinFlowType {
  normal,   // Normale Navigation: User kommt von World-List
  invite,   // Invite-Flow: User kommt Ã¼ber externen Link
}

class WorldJoinPage extends StatefulWidget {
  final String? worldId;
  final String? inviteToken;
  final WorldJoinFlowType flowType;
  
  const WorldJoinPage({
    super.key, 
    this.worldId, 
    this.inviteToken,
    required this.flowType,
  });

  @override
  State<WorldJoinPage> createState() => _WorldJoinPageState();
}

class _WorldJoinPageState extends State<WorldJoinPage> with SingleTickerProviderStateMixin {
  // DI-ready: ServiceLocator verwenden
  late final WorldService _worldService;
  late final AuthService _authService;
  
  // Tab Controller
  late TabController _tabController;
  
  bool _isLoading = false;
  bool _isJoining = false;
  bool _isPreRegistering = false;
  bool _isAuthenticated = false;
  bool _isJoined = false;
  bool _isPreRegistered = false;
  World? _world;
  String? _errorMessage;
  String? _infoMessage;
  String? _joinError;
  bool _showRegistrationButton = false;
  bool _showLogoutButton = false;
  String? _inviteEmail;
  bool _showLoginButton = false;
  bool _showAcceptInviteButton = false;
  bool isInviteValid = true; // Neue Variable fÃ¼r GÃ¼ltigkeit der Einladung

  @override
  void initState() {
    super.initState();
    
    _tabController = TabController(length: 1, vsync: this);
    _initializeServices();
    _loadWorldData();
  }
  
  @override
  void dispose() {
    _tabController.dispose();
    super.dispose();
  }

  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    // Authentication-Status bei Kontext-Ã„nderungen prÃ¼fen
    _checkAuthenticationStatus();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<WorldService>()) {
        _worldService = ServiceLocator.get<WorldService>();
      } else {
        _worldService = WorldService();
      }
      
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
      // Authentication-Status prÃ¼fen
      _checkAuthenticationStatus();
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../shared/widgets/navigation_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

// Flow-Type-Enum fÃ¼r klare Trennung der beiden User-Journeys
enum WorldJoinFlowType {
```

**navigationServicelocatorImportFÃ¼r** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_list_page.dart:17:37`
- ğŸ“ Original: `';

// ServiceLocator Import fÃ¼r DI
import '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';
import './widgets/world_card.dart';
import './widgets/world_filters.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';
```

### ğŸ·ï¸ UI

**uiLevelKdebugmodeLeveldebug** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\config\logger.dart:23:45`
- ğŸ“ Original: `'),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );

    _authLogger = Logger(
      printer: _getLogPrinter(prefix: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Spezielle Logger fÃ¼r verschiedene Bereiche
    _apiLogger = Logger(
      printer: _getLogPrinter(prefix: '[API]'),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );
```

**uiFinalCachedbody_requestbodiesendpoint** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:175:17`
- ğŸ“ Original: `':
        final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.post(
            Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
          headers: _headers,
        );
      case 'POST':
        final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.post(
```

**uiFinalCachedbody_requestbodiesendpoint** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:185:16`
- ğŸ“ Original: `':
        final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.put(
            Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);
        }
        break;
      case 'PUT':
        final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.put(
```

**uiRequestRetryFailed** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:201:26`
- ğŸ“ Original: `'Request retry failed'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
headers: _headers,
        );
    }
    return http.Response('Request retry failed', 500);
  }

  Future<http.Response> deleteWithBody(String endpoint, Map<String, dynamic> data) async {
```

**uiBodyReturnBody** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:255:63`
- ğŸ“ Original: `' : body;
    }
    return body;
  }


  Future<http.Response> get(String endpoint) async {
    await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      // If JSON parsing fails, return truncated body
      return body.length > 100 ? '${body.substring(0, 100)}...' : body;
    }
    return body;
  }
```

**uiSpieleErkundeVerbinde** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:289:45`
- ğŸ“ Original: `'ğŸ® Spiele â€¢ ğŸŒ Erkunde â€¢ ğŸ¤ Verbinde'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
borderRadius: BorderRadius.circular(20),
                                          ),
                                          child: Text(
                                            'ğŸ® Spiele â€¢ ğŸŒ Erkunde â€¢ ğŸ¤ Verbinde',
                                            style: TextStyle(
                                              color: AppTheme.primaryColor.withOpacity(0.9),
                                              fontSize: 14,
```

**uiJetztKostenlosStarten** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:348:61`
- ğŸ“ Original: `'Jetzt kostenlos starten'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisAlignment: MainAxisAlignment.center,
                                                        children: [
                                                          const Text(
                                                            'Jetzt kostenlos starten',
                                                            style: TextStyle(
                                                              color: Colors.white,
                                                              fontSize: 18,
```

**uiErlebeGamingAuf** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:489:29`
- ğŸ“ Original: `'Erlebe Gaming auf einem neuen Level'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                          const SizedBox(height: 16),
                          Text(
                            'Erlebe Gaming auf einem neuen Level',
                            style: TextStyle(
                              fontSize: 18,
                              color: Colors.grey[300],
```

**uiModernsteSicherheitUnd** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:526:50`
- ğŸ“ Original: `'Modernste Sicherheit und faire Spielregeln fÃ¼r alle'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.security,
                                    title: 'Sicher & Fair',
                                    description: 'Modernste Sicherheit und faire Spielregeln fÃ¼r alle',
                                    color: Colors.orange,
                                  ),
                                  _buildFeatureCard(
```

**uiÃœberallSpielen** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:537:44`
- ğŸ“ Original: `'Ãœberall spielen'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
),
                                  _buildFeatureCard(
                                    icon: Icons.devices,
                                    title: 'Ãœberall spielen',
                                    description: 'Auf PC, Tablet oder Smartphone - immer dabei',
                                    color: Colors.red,
                                  ),
```

**uiStyleTextstylefontsize16** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1616:24`
- ğŸ“ Original: `',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
        ),
      );
    }

    // **REGISTRATION BUTTON**
    if (_showRegistrationButton && _inviteEmail != null) {
      buttons.add(
        Container(
          width: double.infinity,
          margin: const EdgeInsets.only(bottom: 12.0),
          child: ElevatedButton(
            onPressed: () {
              // Redirect auf Register-Seite mit E-Mail vorausgefÃ¼llt
              final registerRoute = '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
            ),
            child: const Text(
              'Anmelden',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
```

**uiStyleTextstylefontsize16** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1714:24`
- ğŸ“ Original: `',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
        ),
      );
    }

    // FALLBACK: Normale World-Join-Buttons wenn keine spezifischen Buttons
    if (buttons.isEmpty) {
      // **NORMALE WORLD-JOIN LOGIC** (wenn kein Invite-Token)
      if (widget.inviteToken == null && _world != null) {
        final world = _world!;
        
        // **STATUS-BASIERTE INTELLIGENTE BUTTON-LOGIK**
        switch (world.status) {
          case WorldStatus.upcoming:
            // Vorregistrierung oder ZurÃ¼ckziehen
            if (_isPreRegistered) {
              buttons.add(
                Container(
                  width: double.infinity,
                  margin: const EdgeInsets.only(bottom: 12.0),
                  child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _cancelPreRegistration,
                    icon: const Icon(Icons.cancel),
                    label: Text(_isPreRegistering ? '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
            ),
            child: const Text(
              'Abmelden',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
```

### ğŸ·ï¸ BUTTON

**buttonContentText** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:599:43`
- ğŸ“ Original: `'),
        content: Text('`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
```

**buttonActionsTextbuttonOnpressed** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:600:80`
- ğŸ“ Original: `'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: const Text('`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonTextbuttonOnpressedNavigatorofcontextpoptrue** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:604:41`
- ğŸ“ Original: `'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
            style: TextButton.styleFrom(
              foregroundColor: Colors.red,
            ),
            child: const Text('`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: const Text('Abbrechen'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
```

**buttonContentText** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_list_page.dart:383:43`
- ğŸ“ Original: `'),
        content: Text('`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
```

**buttonActionsTextbuttonOnpressed** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_list_page.dart:384:80`
- ğŸ“ Original: `'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: const Text('`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonTextbuttonOnpressedNavigatorofcontextpoptrue** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_list_page.dart:388:41`
- ğŸ“ Original: `'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
            style: TextButton.styleFrom(
              foregroundColor: Colors.red,
            ),
            child: const Text('`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: const Text('Abbrechen'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
```

### ğŸ·ï¸ ERROR

**errorIstKeinFehler** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:398:55`
- ğŸ“ Original: `" ist KEIN Fehler!
      if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Du bist bereits Mitglied dieser Welt "`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
      }
    } catch (e) {
      // SPEZIALBEHANDLUNG: "Invite bereits akzeptiert" ist KEIN Fehler!
      if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
```

### ğŸ·ï¸ UI

**ui2ServicesInitialisieren** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\app.dart:89:49`
- ğŸ“ Original: `');
    
    // 2. Services initialisieren (jetzt sicher, da App bereits lÃ¤uft)
    try {
      final authService = AuthService();
      final apiService = ApiService.withAuth(authService);
      final worldService = WorldService();
      final inviteService = InviteService();

      ServiceLocator.register<AuthService>(authService);
      ServiceLocator.register<ApiService>(apiService);
      ServiceLocator.register<WorldService>(worldService);
      ServiceLocator.register<InviteService>(inviteService);
      
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// 1. Environment initialisieren
    await Env.initialize();
    
    AppLogger.app.i('ğŸŒ Environment initialisiert');
    
    // 2. Services initialisieren (jetzt sicher, da App bereits lÃ¤uft)
    try {
```

**uiAsListMapp** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\models\user.dart:21:31`
- ğŸ“ Original: `'] as List)
              .map((p) => RolePermission.fromJson(p))
              .toList()
          : null,
    );
  }
}

// UserRole model
class UserRole {
  final int id;
  final int userId;
  final int roleId;
  final String scopeType;
  final String scopeObjectId;
  final String? condition;
  final Role role;

  UserRole({
    required this.id,
    required this.userId,
    required this.roleId,
    required this.scopeType,
    required this.scopeObjectId,
    this.condition,
    required this.role,
  });

  factory UserRole.fromJson(Map<String, dynamic> json) {
    return UserRole(
      id: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
name: json['name'],
      description: json['description'],
      permissions: json['permissions'] != null
          ? (json['permissions'] as List)
              .map((p) => RolePermission.fromJson(p))
              .toList()
          : null,
```

**uiClassUserFinal** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\models\user.dart:96:55`
- ğŸ“ Original: `']),
    );
  }
}

class User {
  final String id;
  final String username;
  final String email;
  final DateTime createdAt;
  final DateTime? lastLoginAt;
  final bool? isLocked;
  final List<UserRole>? roles;

  User({
    required this.id,
    required this.username,
    required this.email,
    required this.createdAt,
    this.lastLoginAt,
    this.isLocked,
    this.roles,
  });

  factory User.fromJson(Map<String, dynamic> json) {
    return User(
      id: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
factory RolePermission.fromJson(Map<String, dynamic> json) {
    return RolePermission(
      id: json['id'],
      permission: Permission.fromJson(json['permission']),
    );
  }
}
```

**uiAsListMapr** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\models\user.dart:131:25`
- ğŸ“ Original: `'] as List)
              .map((r) => UserRole.fromJson(r))
              .toList()
          : null,
    );
  }

  static DateTime _parseDateTime(dynamic dateValue) {
    if (dateValue is String) {
      try {
        return DateTime.parse(dateValue);
      } catch (e) {
        // Try different date formats
        try {
          return DateTime.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
: null,
      isLocked: json['isLocked'],
      roles: json['roles'] != null
          ? (json['roles'] as List)
              .map((r) => UserRole.fromJson(r))
              .toList()
          : null,
```

**uiClassLocaleproviderExtends** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\providers\locale_provider.dart:1:38`
- ğŸ“ Original: `';

class LocaleProvider extends ChangeNotifier {
  static final LocaleProvider _instance = LocaleProvider._internal();
  factory LocaleProvider() => _instance;
  LocaleProvider._internal();

  // Standardsprache ist Deutsch
  Locale _currentLocale = const Locale('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';

class LocaleProvider extends ChangeNotifier {
  static final LocaleProvider _instance = LocaleProvider._internal();
```

**uiLocaleGetCurrentlocale** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\providers\locale_provider.dart:9:43`
- ğŸ“ Original: `');
  
  Locale get currentLocale => _currentLocale;
  
  void setLocale(Locale locale) {
    if (_currentLocale != locale) {
      _currentLocale = locale;
      notifyListeners();
    }
  }
  
  void switchLanguage() {
    final newLocale = _currentLocale.languageCode == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
LocaleProvider._internal();

  // Standardsprache ist Deutsch
  Locale _currentLocale = const Locale('de');
  
  Locale get currentLocale => _currentLocale;
```

**uiPackageflutterfoundationdart** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:2:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'package:flutter/foundation.dart';
import 'package:http/http.dart' as http;
import '../../config/env.dart';
import '../../config/logger.dart';
```

**ui_devicefingerprintFingerprintReturn** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:58:64`
- ğŸ“ Original: `';
    _deviceFingerprint = fingerprint;
    return fingerprint;
  }

  Map<String, String> get _headers {
    final headers = <String, String>{
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    final fingerprint = kIsWeb 
        ? 'web_browser_${DateTime.now().millisecondsSinceEpoch}'
        : 'flutter_app_${DateTime.now().millisecondsSinceEpoch}';
    _deviceFingerprint = fingerprint;
    return fingerprint;
  }
```

**uiHeaders_headersCase** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:172:62`
- ğŸ“ Original: `'),
          headers: _headers,
        );
      case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
switch (method) {
      case 'GET':
        return await http.get(
          Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
          headers: _headers,
        );
      case 'POST':
```

**uiFinalCachedbody_requestbodiesendpoint** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:175:17`
- ğŸ“ Original: `':
        final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.post(
            Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
          headers: _headers,
        );
      case 'POST':
        final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.post(
```

**uiHeaders_headersBody** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:179:64`
- ğŸ“ Original: `'),
            headers: _headers,
            body: jsonEncode(cachedBody),
          );
        }
        break;
      case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.post(
            Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
            headers: _headers,
            body: jsonEncode(cachedBody),
          );
```

**uiFinalCachedbody_requestbodiesendpoint** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:185:16`
- ğŸ“ Original: `':
        final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.put(
            Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);
        }
        break;
      case 'PUT':
        final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.put(
```

**uiHeaders_headersBody** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:189:64`
- ğŸ“ Original: `'),
            headers: _headers,
            body: jsonEncode(cachedBody),
          );
        }
        break;
      case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.put(
            Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
            headers: _headers,
            body: jsonEncode(cachedBody),
          );
```

**uiHeaders_headersReturn** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:197:62`
- ğŸ“ Original: `'),
          headers: _headers,
        );
    }
    return http.Response('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
break;
      case 'DELETE':
        return await http.delete(
          Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
          headers: _headers,
        );
    }
```

**ui500FuturehttpresponseDeletewithbodystring** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:201:47`
- ğŸ“ Original: `', 500);
  }

  Future<http.Response> deleteWithBody(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
headers: _headers,
        );
    }
    return http.Response('Request retry failed', 500);
  }

  Future<http.Response> deleteWithBody(String endpoint, Map<String, dynamic> data) async {
```

**uiBodyReturnBody** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:255:63`
- ğŸ“ Original: `' : body;
    }
    return body;
  }


  Future<http.Response> get(String endpoint) async {
    await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      // If JSON parsing fails, return truncated body
      return body.length > 100 ? '${body.substring(0, 100)}...' : body;
    }
    return body;
  }
```

**uiHeaders_headersLog** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:274:60`
- ğŸ“ Original: `'),
        headers: _headers,
      );
      
      // Log API Response
      AppLogger.logApiResponse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final response = await http.get(
        Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
        headers: _headers,
      );
```

**uiHeaders_headersBody** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:312:60`
- ğŸ“ Original: `'),
        headers: _headers,
        body: jsonEncode(data),
      );
      
      // Log API Response (ohne sensitive Response-Daten)
      final logResponseBody = endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final response = await http.post(
        Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
        headers: _headers,
        body: jsonEncode(data),
      );
```

**uiHeaders_headersBody** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:345:60`
- ğŸ“ Original: `'),
        headers: _headers,
        body: jsonEncode(data),
      );
      
      // Log API Response
      AppLogger.logApiResponse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final response = await http.put(
        Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
        headers: _headers,
        body: jsonEncode(data),
      );
```

**uiHeaders_headersLog** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:374:60`
- ğŸ“ Original: `'),
        headers: _headers,
      );
      
      // Log API Response
      AppLogger.logApiResponse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final response = await http.delete(
        Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
        headers: _headers,
      );
```

**ui500FuturehttpresponseDeletewithbodystring** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:201:47`
- ğŸ“ Original: `', 500);
  }

  Future<http.Response> deleteWithBody(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
headers: _headers,
        );
    }
    return http.Response('Request retry failed', 500);
  }

  Future<http.Response> deleteWithBody(String endpoint, Map<String, dynamic> data) async {
```

**uiPackageflutterfoundationdart** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\core\services\token_storage.dart:1:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/foundation.dart' show kIsWeb;
import 'package:flutter_secure_storage/flutter_secure_storage.dart';
import 'package:shared_preferences/shared_preferences.dart';
```

**uiSpieleErkundeVerbinde** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:289:45`
- ğŸ“ Original: `'ğŸ® Spiele â€¢ ğŸŒ Erkunde â€¢ ğŸ¤ Verbinde'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
borderRadius: BorderRadius.circular(20),
                                          ),
                                          child: Text(
                                            'ğŸ® Spiele â€¢ ğŸŒ Erkunde â€¢ ğŸ¤ Verbinde',
                                            style: TextStyle(
                                              color: AppTheme.primaryColor.withOpacity(0.9),
                                              fontSize: 14,
```

**uiKeineKreditkarteErforderlich** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:356:61`
- ğŸ“ Original: `'Keine Kreditkarte erforderlich'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                                          ),
                                                          Text(
                                                            'Keine Kreditkarte erforderlich',
                                                            style: TextStyle(
                                                              color: Colors.white.withOpacity(0.8),
                                                              fontSize: 12,
```

**uiScrollIndicatorIf** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:428:75`
- ğŸ“ Original: `'),
                                          ],
                                        ),
                                      ],
                                    ),
                                  ),
                                ),
                              ),
                            ),
                          ),
                        ),
                      ),
                    ),
                  ),
                ),
                
                // Scroll indicator
                if (_showFeatures)
                  FadeTransition(
                    opacity: _featureAnimation,
                    child: Container(
                      padding: const EdgeInsets.only(bottom: 20),
                      child: Column(
                        children: [
                          Text(
                            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
width: 1,
                                              color: Colors.grey[700],
                                            ),
                                            _buildStatItem('24/7', 'Online'),
                                          ],
                                        ),
                                      ],
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:453:43`
- ğŸ“ Original: `',
                            style: TextStyle(
                              color: Colors.grey[400],
                              fontSize: 14,
                            ),
                          ),
                          const SizedBox(height: 8),
                          const Icon(
                            Icons.expand_more,
                            color: AppTheme.primaryColor,
                            size: 30,
                          ),
                        ],
                      ),
                    ),
                  ),
                
                // Features Section
                if (_showFeatures)
                  FadeTransition(
                    opacity: _featureAnimation,
                    child: Container(
                      padding: const EdgeInsets.symmetric(horizontal: 24, vertical: 60),
                      child: Column(
                        children: [
                          const Text(
                            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Column(
                        children: [
                          Text(
                            'Entdecke mehr',
                            style: TextStyle(
                              color: Colors.grey[400],
                              fontSize: 14,
```

**uiErlebeGamingAuf** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:489:29`
- ğŸ“ Original: `'Erlebe Gaming auf einem neuen Level'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                          const SizedBox(height: 16),
                          Text(
                            'Erlebe Gaming auf einem neuen Level',
                            style: TextStyle(
                              fontSize: 18,
                              color: Colors.grey[300],
```

**uiModernsteSicherheitUnd** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:526:50`
- ğŸ“ Original: `'Modernste Sicherheit und faire Spielregeln fÃ¼r alle'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.security,
                                    title: 'Sicher & Fair',
                                    description: 'Modernste Sicherheit und faire Spielregeln fÃ¼r alle',
                                    color: Colors.orange,
                                  ),
                                  _buildFeatureCard(
```

**uiOptimierteServerFÃ¼r** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:532:50`
- ğŸ“ Original: `'Optimierte Server fÃ¼r minimale Latenz'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.speed,
                                    title: 'Blitzschnell',
                                    description: 'Optimierte Server fÃ¼r minimale Latenz',
                                    color: Colors.purple,
                                  ),
                                  _buildFeatureCard(
```

**uiAufPcTablet** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:538:50`
- ğŸ“ Original: `'Auf PC, Tablet oder Smartphone - immer dabei'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.devices,
                                    title: 'Ãœberall spielen',
                                    description: 'Auf PC, Tablet oder Smartphone - immer dabei',
                                    color: Colors.red,
                                  ),
                                  _buildFeatureCard(
```

**uiSammleErfolgeUnd** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:544:50`
- ğŸ“ Original: `'Sammle Erfolge und exklusive Belohnungen'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.star,
                                    title: 'Belohnungen',
                                    description: 'Sammle Erfolge und exklusive Belohnungen',
                                    color: Colors.amber,
                                  ),
                                ],
```

**uiBereitFÃ¼rDein** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:572:35`
- ğŸ“ Original: `'Bereit fÃ¼r dein Abenteuer?'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Column(
                              children: [
                                const Text(
                                  'Bereit fÃ¼r dein Abenteuer?',
                                  style: TextStyle(
                                    fontSize: 28,
                                    fontWeight: FontWeight.bold,
```

**uiSammleErfolgeUnd** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:544:50`
- ğŸ“ Original: `'Sammle Erfolge und exklusive Belohnungen'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.star,
                                    title: 'Belohnungen',
                                    description: 'Sammle Erfolge und exklusive Belohnungen',
                                    color: Colors.amber,
                                  ),
                                ],
```

**uiPackageflutterfoundationdart** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\main.dart:3:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter/foundation.dart';
import 'app.dart';
import 'config/logger.dart';
```

**uiServicecontainerFÃ¼rDependency** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\main.dart:5:27`
- ğŸ“ Original: `';

// Service-Container fÃ¼r Dependency Injection
class ServiceLocator {
  static final Map<Type, dynamic> _services = {};

  static void register<T>(T service) {
    _services[T] = service;
  }

  static T get<T>() {
    final service = _services[T];
    if (service == null) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/services.dart';
import 'package:flutter/foundation.dart';
import 'app.dart';
import 'config/logger.dart';

// Service-Container fÃ¼r Dependency Injection
class ServiceLocator {
```

**uiDieAngeforderteSeite** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\routing\app_router.dart:435:21`
- ğŸ“ Original: `'Die angeforderte Seite existiert nicht oder wurde verschoben.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 16),
                  Text(
                    'Die angeforderte Seite existiert nicht oder wurde verschoben.',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
```

**uiDuMusstDich** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\routing\app_router.dart:518:21`
- ğŸ“ Original: `'Du musst dich anmelden, um auf diese Seite zuzugreifen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 16),
                  Text(
                    'Du musst dich anmelden, um auf diese Seite zuzugreifen.',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:210:31`
- ğŸ“ Original: `',
                  style: TextStyle(
                    color: Colors.grey[400],
                    fontSize: 12,
                  ),
                ),
              ],
            ),
            const SizedBox(width: 12),
            Icon(
              Icons.keyboard_arrow_down,
              color: Colors.grey[400],
              size: 24,
            ),
          ],
        ),
      ),
    );
  }
  
  Widget _buildExpandedView(List<NavigationItem> items) {
    return Column(
      mainAxisSize: MainAxisSize.min,
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        // Header
        InkWell(
          onTap: _toggleExpanded,
          borderRadius: const BorderRadius.only(
            topLeft: Radius.circular(16),
            topRight: Radius.circular(16),
          ),
          child: Padding(
            padding: const EdgeInsets.all(12.0),
            child: Row(
              mainAxisSize: MainAxisSize.min,
              children: [
                Container(
                  width: 36,
                  height: 36,
                  decoration: BoxDecoration(
                    color: AppTheme.primaryColor.withOpacity(0.2),
                    shape: BoxShape.circle,
                  ),
                  child: const Icon(
                    Icons.explore,
                    color: AppTheme.primaryColor,
                    size: 20,
                  ),
                ),
                const SizedBox(width: 12),
                const Text(
                  '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                ),
                Text(
                  'MenÃ¼ Ã¶ffnen',
                  style: TextStyle(
                    color: Colors.grey[400],
                    fontSize: 12,
```

**uiClassSplashscreenExtends** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:2:33`
- ğŸ“ Original: `';

class SplashScreen extends StatefulWidget {
  final Future<void> Function() initializationFunction;
  final Widget child;
  final String? loadingText;
  final Duration? timeout;
  final VoidCallback? onTimeout;
  final List<String>? initSteps;
  final String? appName;
  final Widget? logo;

  const SplashScreen({
    super.key,
    required this.initializationFunction,
    required this.child,
    this.loadingText,
    this.timeout,
    this.onTimeout,
    this.initSteps,
    this.appName = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../config/logger.dart';

class SplashScreen extends StatefulWidget {
  final Future<void> Function() initializationFunction;
```

**ui_timedoutTrueFinal** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:65:31`
- ğŸ“ Original: `') {
          _timedOut = true;
          final onTimeout = widget.onTimeout;
          if (onTimeout != null) {
            onTimeout();
          }
        }
      } else {
        await _runInitializationWithSteps();
      }
      
      if (mounted) {
        setState(() {
          _isInitialized = true;
        });
        
        // Kurze VerzÃ¶gerung fÃ¼r smooth Transition
        await Future.delayed(const Duration(milliseconds: 500));
        
        // KEIN reverse() mehr - das hat die App ausgeblendet!
        // _animationController.reverse(); // ENTFERNT
      }
    } catch (e) {
      AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}),
        ]);
        
        if (result == 'timeout') {
          _timedOut = true;
          final onTimeout = widget.onTimeout;
          if (onTimeout != null) {
```

**uiStyleConstTextstyle** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:174:37`
- ğŸ“ Original: `',
              style: const TextStyle(
                fontSize: 32,
                fontWeight: FontWeight.bold,
                color: Colors.white,
              ),
            ),
            
            const SizedBox(height: 20),
            
            // Progress Indicator mit Steps
            if (initSteps != null && initSteps.isNotEmpty) ...[
              // Progress Bar
              Container(
                width: 200,
                height: 4,
                decoration: BoxDecoration(
                  color: Colors.white.withOpacity(0.3),
                  borderRadius: BorderRadius.circular(2),
                ),
                child: FractionallySizedBox(
                  alignment: Alignment.centerLeft,
                  widthFactor: (_currentStepIndex + 1) / initSteps.length,
                  child: Container(
                    decoration: BoxDecoration(
                      color: Colors.white,
                      borderRadius: BorderRadius.circular(2),
                    ),
                  ),
                ),
              ),
              
              const SizedBox(height: 10),
              
              // Current Step Text
              if (_currentStepName != null)
                Text(
                  _currentStepName ?? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// App Name
            Text(
              widget.appName ?? 'App',
              style: const TextStyle(
                fontSize: 32,
                fontWeight: FontWeight.bold,
```

**uiStyleConstTextstyle** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:211:56`
- ğŸ“ Original: `',
                  style: const TextStyle(
                    fontSize: 14,
                    color: Colors.white70,
                  ),
                ),
              
              const SizedBox(height: 20),
            ] else ...[
              // Standard Loading Indicator
              const CircularProgressIndicator(
                valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
              ),
            ],
            
            if (loadingText != null) ...[
              const SizedBox(height: 20),
              Text(
                loadingText,
                style: const TextStyle(
                  fontSize: 16,
                  color: Colors.white70,
                ),
              ),
            ],
            
            // Timeout Warning
            if (_timedOut) ...[
              const SizedBox(height: 20),
              Container(
                padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),
                decoration: BoxDecoration(
                  color: Colors.orange.withOpacity(0.2),
                  borderRadius: BorderRadius.circular(20),
                  border: Border.all(color: Colors.orange.withOpacity(0.5)),
                ),
                child: const Text(
                  '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Current Step Text
              if (_currentStepName != null)
                Text(
                  _currentStepName ?? 'Initialisiere...',
                  style: const TextStyle(
                    fontSize: 14,
                    color: Colors.white70,
```

**uiStyleTextstyleFontsize** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:248:65`
- ğŸ“ Original: `',
                  style: TextStyle(
                    fontSize: 12,
                    color: Colors.orange,
                  ),
                ),
              ),
            ],
          ],
        ),
      ),
    );
  }

  Widget _buildErrorScreen() {
    return Scaffold(
      backgroundColor: Colors.red.shade50,
      body: Center(
        child: Padding(
          padding: const EdgeInsets.all(20),
          child: Column(
            mainAxisAlignment: MainAxisAlignment.center,
            children: [
              Icon(
                Icons.error_outline,
                size: 80,
                color: Colors.red.shade400,
              ),
              
              const SizedBox(height: 20),
              
              const Text(
                '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
border: Border.all(color: Colors.orange.withOpacity(0.5)),
                ),
                child: const Text(
                  'Initialisierung dauert lÃ¤nger als erwartet...',
                  style: TextStyle(
                    fontSize: 12,
                    color: Colors.orange,
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:179:57`
- ğŸ“ Original: `',
                                    style: TextStyle(
                                      color: Colors.grey[400],
                                      fontSize: 12,
                                    ),
                                  ),
                              ],
                            ),
                          ),
                          // Expand/Collapse Icon
                          Icon(
                            _isExpanded ? Icons.expand_less : Icons.expand_more,
                            color: Colors.grey[400],
                            size: 20,
                          ),
                        ],
                      ),
                      
                      // Erweiterte Details
                      if (_isExpanded) ...[
                        const SizedBox(height: 12),
                        const Divider(color: Colors.grey, height: 1),
                        const SizedBox(height: 12),
                        
                        // Email
                        Row(
                          children: [
                            Icon(Icons.email_outlined, size: 16, color: Colors.grey[400]),
                            const SizedBox(width: 8),
                            Expanded(
                              child: Text(
                                user.email,
                                style: TextStyle(
                                  color: Colors.grey[300],
                                  fontSize: 14,
                                ),
                                overflow: TextOverflow.ellipsis,
                              ),
                            ),
                          ],
                        ),
                        
                        const SizedBox(height: 8),
                        
                                            // Rollen
                    if (user.roles != null && user.roles!.isNotEmpty) ...[
                      Row(
                        children: [
                          Icon(Icons.security, size: 16, color: Colors.grey[400]),
                          const SizedBox(width: 8),
                          Text(
                            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                if (!_isExpanded)
                                  Text(
                                    'Klicken fÃ¼r Details',
                                    style: TextStyle(
                                      color: Colors.grey[400],
                                      fontSize: 12,
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:230:37`
- ğŸ“ Original: `',
                            style: TextStyle(
                              color: Colors.grey[400],
                              fontSize: 14,
                            ),
                          ),
                        ],
                      ),
                      const SizedBox(height: 6),
                      Wrap(
                        spacing: 6,
                        runSpacing: 6,
                        children: (user.roles ?? []).map((userRole) {
                              final roleName = userRole.role.name;
                              final scopeInfo = userRole.scopeType == '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Icon(Icons.security, size: 16, color: Colors.grey[400]),
                          const SizedBox(width: 8),
                          Text(
                            'Rollen:',
                            style: TextStyle(
                              color: Colors.grey[400],
                              fontSize: 14,
```

**uiReturnContainerPadding** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:246:62`
- ğŸ“ Original: `';
                              
                              return Container(
                                padding: const EdgeInsets.symmetric(
                                  horizontal: 8,
                                  vertical: 4,
                                ),
                                decoration: BoxDecoration(
                                  color: _getRoleColor(roleName).withOpacity(0.2),
                                  borderRadius: BorderRadius.circular(12),
                                  border: Border.all(
                                    color: _getRoleColor(roleName).withOpacity(0.5),
                                    width: 1,
                                  ),
                                ),
                                child: Row(
                                  mainAxisSize: MainAxisSize.min,
                                  children: [
                                    Icon(
                                      Icons.badge,
                                      size: 12,
                                      color: _getRoleColor(roleName),
                                    ),
                                    const SizedBox(width: 4),
                                    Text(
                                      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final roleName = userRole.role.name;
                              final scopeInfo = userRole.scopeType == 'global' 
                                  ? '' 
                                  : ' (${userRole.scopeType})';
                              
                              return Container(
                                padding: const EdgeInsets.symmetric(
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:271:59`
- ğŸ“ Original: `',
                                      style: TextStyle(
                                        color: _getRoleColor(roleName),
                                        fontSize: 12,
                                        fontWeight: FontWeight.w500,
                                      ),
                                    ),
                                  ],
                                ),
                              );
                            }).toList(),
                          ),
                        ],
                        
                        const SizedBox(height: 12),
                        const Divider(color: Colors.grey, height: 1),
                        const SizedBox(height: 8),
                        
                        // Logout Button
                        SizedBox(
                          width: double.infinity,
                          child: TextButton.icon(
                            onPressed: () async {
                              await _authService.logout();
                              if (context.mounted) {
                                context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                    const SizedBox(width: 4),
                                    Text(
                                      '$roleName$scopeInfo',
                                      style: TextStyle(
                                        color: _getRoleColor(roleName),
                                        fontSize: 12,
```

**uiStyleTextstyleColor** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:179:57`
- ğŸ“ Original: `',
                                    style: TextStyle(
                                      color: Colors.grey[400],
                                      fontSize: 12,
                                    ),
                                  ),
                              ],
                            ),
                          ),
                          // Expand/Collapse Icon
                          Icon(
                            _isExpanded ? Icons.expand_less : Icons.expand_more,
                            color: Colors.grey[400],
                            size: 20,
                          ),
                        ],
                      ),
                      
                      // Erweiterte Details
                      if (_isExpanded) ...[
                        const SizedBox(height: 12),
                        const Divider(color: Colors.grey, height: 1),
                        const SizedBox(height: 12),
                        
                        // Email
                        Row(
                          children: [
                            Icon(Icons.email_outlined, size: 16, color: Colors.grey[400]),
                            const SizedBox(width: 8),
                            Expanded(
                              child: Text(
                                user.email,
                                style: TextStyle(
                                  color: Colors.grey[300],
                                  fontSize: 14,
                                ),
                                overflow: TextOverflow.ellipsis,
                              ),
                            ),
                          ],
                        ),
                        
                        const SizedBox(height: 8),
                        
                                            // Rollen
                    if (user.roles != null && user.roles!.isNotEmpty) ...[
                      Row(
                        children: [
                          Icon(Icons.security, size: 16, color: Colors.grey[400]),
                          const SizedBox(width: 8),
                          Text(
                            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                if (!_isExpanded)
                                  Text(
                                    'Klicken fÃ¼r Details',
                                    style: TextStyle(
                                      color: Colors.grey[400],
                                      fontSize: 12,
```

**uiClassBackgroundwidgetExtends** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\theme\background_widget.dart:2:23`
- ğŸ“ Original: `';

class BackgroundWidget extends StatelessWidget {
  final Widget child;
  final bool showOverlay;

  const BackgroundWidget({
    super.key,
    required this.child,
    this.showOverlay = false, // Changed default to false
  });

  @override
  Widget build(BuildContext context) {
    return Container(
      decoration: const BoxDecoration(
        image: DecorationImage(
          image: AssetImage('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'app_theme.dart';

class BackgroundWidget extends StatelessWidget {
  final Widget child;
```

### ğŸ·ï¸ WORLD

**worldActiontypetextvaliditytextJeNach** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:281:87`
- ğŸ“ Original: `" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
      case 'not_logged_in':
        if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
          infoText = '$baseInfoText\n\n$actionText';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'user_exists_not_logged_in':
        if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'wrong_email':
        if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case 'correct_email':
        if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
          
          // Auto-Accept entfernt: User soll bewusst entscheiden!
        }
        break;
        
      default:
        AppLogger.app.w('âŒ Unbekannter User-Status: $status');
        actionText = 'Unbekannter Status: $status';
        infoText = '$baseInfoText\n\n$actionText';
    }
    
    // Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.';
    }
    
    setState(() {
      _infoMessage = infoText;
      _inviteEmail = inviteEmail;
      
      // Button-Flags setzen
      _showLoginButton = showLoginButton;
      _showRegistrationButton = showRegisterButton; 
      _showLogoutButton = showLogoutButton;
      _showAcceptInviteButton = showAcceptButton;
      
      // WICHTIG: Alte Fehlermeldung zurÃ¼cksetzen!
      _errorMessage = null;
      
      _isLoading = false;
    });
  }

  // Neue Methode: World-Status fÃ¼r normale Navigation prÃ¼fen
  Future<void> _checkWorldStatus() async {
    if (_world == null) return;
    
    try {
      // PrÃ¼fe ob User bereits Mitglied ist
      _isJoined = await _worldService.isPlayerInWorld(_world!.id);
      
      // PrÃ¼fe Vorregistrierung
      final preRegStatus = await _worldService.getPreRegistrationStatus(_world!.id);
      _isPreRegistered = preRegStatus.isPreRegistered;
      
      AppLogger.app.d('âœ… World-Status geprÃ¼ft', error: {
        'worldName': _world!.name,
        'isJoined': _isJoined,
        'isPreRegistered': _isPreRegistered
      });
    } catch (e) {
      AppLogger.logError('Fehler beim PrÃ¼fen des World-Status', e);
    }
  }

  // Neue Methode: Automatische Invite-Akzeptierung
  Future<void> _autoAcceptInvite() async {
    if (widget.inviteToken == null) return;
    
    try {
      final result = await _worldService.acceptInvite(widget.inviteToken!);
      
      if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
    }
    
    final baseInfoText = 'Du wurdest von $inviterText eingeladen, der Welt "$worldName" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
```

**worldDasInviteWurde** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:384:66`
- ğŸ“ Original: `"! Das Invite wurde automatisch akzeptiert.';
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich der Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "${_world?.name}"! Das Invite wurde automatisch akzeptiert.';
        });
        
        if (mounted) {
```

**worldBeigetretenBackgroundcolorColorsgreen** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:390:67`
- ğŸ“ Original: `" beigetreten!'),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
          );
        }
      }
    } catch (e) {
      // SPEZIALBEHANDLUNG: "`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich der Welt "${_world!.name}" beigetreten!'),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
```

**worldIfMountedScaffoldmessengerofcontextshowsnackbar** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:402:80`
- ğŸ“ Original: `"!';
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Du bist bereits Mitglied dieser Welt "${_world?.name}"!';
        });
        
        if (mounted) {
```

**worldBackgroundcolorColorsorangeDuration** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:408:80`
- ğŸ“ Original: `"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
          );
        }
        return; // Erfolgreicher Exit
      }
      
      // Andere Fehler normal behandeln
      AppLogger.logError('Automatische Invite-Akzeptierung fehlgeschlagen', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = 'Du kannst nun der Welt beitreten.';
      });
    }
  }

  Future<void> _joinWorld() async {
    if (_world == null) return;

    setState(() {
      _isJoining = true;
      _joinError = null;
    });

    try {
      bool success = false;
      
      // **INVITE-TOKEN FLOW: Invite akzeptieren**
      if (widget.inviteToken != null) {
        AppLogger.app.i('ğŸ« Versuche Invite-Akzeptierung fÃ¼r World-Join');
        final inviteResult = await _worldService.acceptInvite(widget.inviteToken!);
        
        if (inviteResult != null) {
          success = true;
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': _world!.id,
            'worldName': _world!.name
          });
        }
      } else {
        // **NORMALE NAVIGATION: Standard World-Join**
        AppLogger.app.i('ğŸŒ Versuche normalen World-Join');
        success = await _worldService.joinWorld(_world!.id);
      }
      
      if (success) {
        setState(() {
          _isJoined = true;
        });
        
        if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "${_world?.name}"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
```

**worldErfolgreichDerWelt** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:462:77`
- ğŸ“ Original: `"!'
            : 'Erfolgreich der Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
```

**worldBeigetretenScaffoldmessengerofcontextshowsnackbarSnackbar** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:463:53`
- ğŸ“ Original: `" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(message),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Beitritt fehlgeschlagen. Versuche es erneut.';
        });
      }
    } catch (e) {
      AppLogger.logError('World Join fehlgeschlagen', e, context: {
        'worldId': _world?.id,
        'worldName': _world?.name,
        'hasInviteToken': widget.inviteToken != null,
        'inviteToken': widget.inviteToken?.substring(0, 8)
      });
      
      setState(() {
        // Bessere Fehlermeldungen fÃ¼r verschiedene Szenarien
        if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
      });
    } finally {
      setState(() {
        _isJoining = false;
      });
    }
  }
  
  Future<void> _preRegisterWorld() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.preRegisterWorldAuthenticated(world.id);
      
      if (success) {
        setState(() {
          _isPreRegistered = true;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
              backgroundColor: Colors.green,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Fehler bei der Vorregistrierung';
        });
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _cancelPreRegistration() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.cancelPreRegistrationAuthenticated(world.id);
      if (success) {
        setState(() {
          _isPreRegistered = false;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
              backgroundColor: Colors.orange,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung';
        });
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _leaveWorld() async {
    final world = _world;
    if (world == null) return;
    
    // BestÃ¤tigungsdialog anzeigen
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
```

**worldStyleConstTextstyle** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:58:43`
- ğŸ“ Original: `',
        style: const TextStyle(
          color: Colors.white,
          fontWeight: FontWeight.bold,
        ),
      ),
      content: Form(
        key: _formKey,
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            Text(
              '`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
),
      ),
      title: Text(
        'Einladung fÃ¼r ${widget.worldName}',
        style: const TextStyle(
          color: Colors.white,
          fontWeight: FontWeight.bold,
```

**worldStyleConstTextstyle** ğŸ”¥ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:78:50`
- ğŸ“ Original: `',
        style: const TextStyle(
          color: Colors.white,
          fontWeight: FontWeight.bold,
        ),
      ),
      content: Form(
        key: _formKey,
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            Text(
              '`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
),
      ),
      title: Text(
        'Vorregistrierung fÃ¼r ${widget.worldName}',
        style: const TextStyle(
          color: Colors.white,
          fontWeight: FontWeight.bold,
```

### ğŸ·ï¸ AUTH

**authPrÃ¼feAuthentifizierung** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\app.dart:52:9`
- ğŸ“ Original: `'PrÃ¼fe Authentifizierung...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'Initialisiere App...',
        'Lade Konfiguration...',
        'Starte Services...',
        'PrÃ¼fe Authentifizierung...',
        'Bereit!',
      ],
      appName: Env.appName,
```

**authTokensUngÃ¼ltigLogout** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\app.dart:112:27`
- ğŸ“ Original: `'âš ï¸ Tokens ungÃ¼ltig - logout'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('ğŸ”‘ Tokens valid: $isValid');
        
        if (!isValid) {
          AppLogger.app.w('âš ï¸ Tokens ungÃ¼ltig - logout');
          await authService.logout();
        }
      } catch (e) {
```

**authReturnHeadersVollstÃ¤ndige** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:72:49`
- ğŸ“ Original: `';
    }
    
    return headers;
  }

  // VollstÃ¤ndige Token-Validierung mit JWT-Decoding (mit Rekursionsschutz)
  Future<void> _ensureValidToken() async {
    if (_token != null && !_isValidatingToken) {
      _isValidatingToken = true;
      try {
        final token = _token;
        if (token == null) return;
        final parts = token.split('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
};
    
    if (_token != null) {
      headers['Authorization'] = 'Bearer $_token';
    }
    
    return headers;
```

**authProaktiveTokenerneuerungLÃ¤uft** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:123:27`
- ğŸ“ Original: `'ğŸ”„ Proaktive Token-Erneuerung - lÃ¤uft ab in ${expiresIn}s'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final expiresIn = int.tryParse(response.headers['x-token-expires-in'] ?? '0');
      if (expiresIn != null && expiresIn < 60) {
        try {
          AppLogger.api.i('ğŸ”„ Proaktive Token-Erneuerung - lÃ¤uft ab in ${expiresIn}s');
          
          final refreshed = await _authService.refreshTokenIfNeeded();
          if (refreshed) {
```

**authElseSanitizedentrykeyEntryvalue** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:230:36`
- ğŸ“ Original: `';
      } else {
        sanitized[entry.key] = entry.value;
      }
    }
    return sanitized;
  }

  // Helper fÃ¼r das Sanitieren von sensiblen Daten aus der Response-Body
  String _sanitizeAuthResponse(String body) {
    try {
      final decodedBody = jsonDecode(body);
      if (decodedBody is Map<String, dynamic>) {
        final sanitized = <String, dynamic>{};
        for (final entry in decodedBody.entries) {
          if (entry.key.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final sanitized = <String, dynamic>{};
    for (final entry in data.entries) {
      if (entry.key == 'password' || entry.key == 'token') {
        sanitized[entry.key] = '***';
      } else {
        sanitized[entry.key] = entry.value;
      }
```

**authEndpointHeaders_headers** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:265:33`
- ğŸ“ Original: `', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('GET', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authEndpointHeaders_headers** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:303:34`
- ğŸ“ Original: `', endpoint, headers: _headers, body: logBody);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Log API Request (ohne sensitive Daten fÃ¼r Auth-Endpoints)
    final logBody = endpoint.startsWith('/auth/') ? _sanitizeAuthData(data) : data;
    AppLogger.logApiRequest('POST', endpoint, headers: _headers, body: logBody);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authEndpointHeaders_headers** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:336:33`
- ğŸ“ Original: `', endpoint, headers: _headers, body: data);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_requestBodies[endpoint] = data;
    
    // Log API Request
    AppLogger.logApiRequest('PUT', endpoint, headers: _headers, body: data);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authEndpointHeaders_headers** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:365:36`
- ğŸ“ Original: `', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('DELETE', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

### ğŸ·ï¸ DIALOG

**dialogBitteGebenSie** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:128:26`
- ğŸ“ Original: `'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'E-Mail-Adresse ist erforderlich';
                }
                if (!RegExp(r'^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$').hasMatch(value)) {
                  return 'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein';
                }
                return null;
              },
```

### ğŸ·ï¸ ERROR

**errorErrorEBei** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\app.dart:116:60`
- ğŸ“ Original: `', error: e);
        // Bei Token-Validierungsfehlern einfach ausloggen
        await authService.logout();
      }
      
      // 4. Gespeicherte User-Daten laden (nur wenn Tokens gÃ¼ltig)
      if (isValid) {
        try {
          final user = await authService.loadStoredUser();
          if (user != null) {
            authService.isAuthenticated.value = true;
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await authService.logout();
        }
      } catch (e) {
        AppLogger.app.e('âŒ Token-Validierung fehlgeschlagen', error: e);
        // Bei Token-Validierungsfehlern einfach ausloggen
        await authService.logout();
      }
```

**errorKeineGÃ¼ltigenTokens** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\app.dart:135:25`
- ğŸ“ Original: `'ğŸ‘¤ Keine gÃ¼ltigen Tokens - User-Load Ã¼bersprungen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.e('âŒ User-Load fehlgeschlagen', error: e);
        }
      } else {
        AppLogger.app.i('ğŸ‘¤ Keine gÃ¼ltigen Tokens - User-Load Ã¼bersprungen');
      }
      
      // Auth-Cache beim App-Start invalidieren
```

**errorErrorEBei** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\app.dart:143:64`
- ğŸ“ Original: `', error: e);
      // Bei Auth-Service-Fehlern einfach weitermachen
      // Die App kann auch ohne gÃ¼ltige Tokens funktionieren
    }
  }
  
  // Timeout-Callback fÃ¼r SplashScreen
  void _onTimeout() {
    AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('âœ… Initialisierung abgeschlossen');
    } catch (e) {
      AppLogger.app.e('âŒ Service-Initialisierung fehlgeschlagen', error: e);
      // Bei Auth-Service-Fehlern einfach weitermachen
      // Die App kann auch ohne gÃ¼ltige Tokens funktionieren
    }
```

**errorErrorEAwait** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:108:61`
- ğŸ“ Original: `', error: e);
        await _authService.refreshTokenIfNeeded();
      } finally {
        _isValidatingToken = false;
      }
    }
  }

  // Response-Interceptor mit Header-Parsing fÃ¼r proaktive Token-Erneuerung
  Future<http.Response> _handleResponse(http.Response response, String endpoint) async {
    // Proaktive Token-Erneuerung basierend auf Response-Headers
    if (response.headers['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      } catch (e) {
        // Token validation error
        AppLogger.api.w('âš ï¸ Token-Validierung fehlgeschlagen', error: e);
        await _authService.refreshTokenIfNeeded();
      } finally {
        _isValidatingToken = false;
```

**errorErrorEBei** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:157:56`
- ğŸ“ Original: `', error: e);
        // Bei Token-Refresh-Fehlern automatisch ausloggen
        await _authService.logout();
        // Cache invalidieren nach Logout
        AppRouter.invalidateAuthCache();
      }
    }
    return response;
  }

  // VollstÃ¤ndige Request-Wiederholung fÃ¼r alle HTTP-Methoden mit erweiterter Kontext-Verwaltung
  Future<http.Response> _retryRequest(String endpoint, String method) async {
    switch (method) {
      case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        }
      } catch (e) {
        AppLogger.api.e('âŒ Token-Refresh fehlgeschlagen', error: e);
        // Bei Token-Refresh-Fehlern automatisch ausloggen
        await _authService.logout();
        // Cache invalidieren nach Logout
```

**errorEndpointErrorStacktrace** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:290:33`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> post(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Log API Request (ohne sensitive Daten fÃ¼r Auth-Endpoints)
    final logBody = endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('GET', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorEndpointErrorStacktrace** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:324:34`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> put(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Log API Request
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('POST', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorNavigatorkeyFÃ¼rZukÃ¼nftige** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\routing\app_router.dart:55:42`
- ğŸ“ Original: `';

  // NavigatorKey fÃ¼r zukÃ¼nftige Shell-Integration (z.B. BottomNav)
  static final GlobalKey<NavigatorState> _rootNavigatorKey = GlobalKey<NavigatorState>();

  static GoRouter? _routerInstance;
  static bool _isInitialized = false;
  
  // Helper method to safely get AuthService - komplett unabhÃ¤ngig von ServiceLocator
  static AuthService? _getAuthService() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        return ServiceLocator.get<AuthService>();
      }
    } catch (e) {
      AppLogger.navigation.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String worldListRoute = 'world-list';
  static const String worldDashboardRoute = 'world-dashboard';
  static const String worldJoinRoute = 'world-join';
  static const String errorRoute = 'error';

  // NavigatorKey fÃ¼r zukÃ¼nftige Shell-Integration (z.B. BottomNav)
  static final GlobalKey<NavigatorState> _rootNavigatorKey = GlobalKey<NavigatorState>();
```

**errorErrorEKein** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\routing\app_router.dart:70:55`
- ğŸ“ Original: `', error: e);
    }
    // Kein Fallback - Services sind nicht verfÃ¼gbar
    return null;
  }
  
  static GoRouter get router {
    AppLogger.navigation.d('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return ServiceLocator.get<AuthService>();
      }
    } catch (e) {
      AppLogger.navigation.w('âš ï¸ ServiceLocator Fehler', error: e);
    }
    // Kein Fallback - Services sind nicht verfÃ¼gbar
    return null;
```

**errorIfWorldidNull** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\routing\app_router.dart:212:51`
- ğŸ“ Original: `'];
          if (worldId == null) {
            return CustomTransitionPage(
              child: const ErrorPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
                SlideTransition(
                  position: Tween<Offset>(
                    begin: const Offset(0.0, 1.0),
                    end: Offset.zero,
                  ).animate(CurvedAnimation(
                    parent: animation,
                    curve: Curves.easeInOut,
                  )),
                  child: child,
                ),
            );
          }
          return CustomTransitionPage(
            child: DashboardPage(worldId: worldId),
            transitionsBuilder: (context, animation, secondaryAnimation, child) =>
              SlideTransition(
                position: Tween<Offset>(
                  begin: const Offset(0.0, 1.0),
                  end: Offset.zero,
                ).animate(CurvedAnimation(
                  parent: animation,
                  curve: Curves.easeInOut,
                )),
                child: child,
              ),
          );
        },
      ),
      // NORMALE WORLD-JOIN Route (Ã¼ber interne Navigation)
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
path: '/go/worlds/:id',
        name: worldDashboardRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['id'];
          if (worldId == null) {
            return CustomTransitionPage(
              child: const ErrorPage(),
```

**errorReturnConstWorldnotfoundpage** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\routing\app_router.dart:345:53`
- ğŸ“ Original: `'))) {
          return const WorldNotFoundPage();
        }
      }
      
      // Standard 404-Fehlerseite
      return const ErrorPage();
    },
  );
        
        _isInitialized = true;
      } catch (e) {
        // Bei Fehler wÃ¤hrend der Initialisierung
        AppLogger.navigation.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Welt nicht gefunden - robuste Erkennung
        if (goException.message.contains('404') && 
            (state.matchedLocation.contains('/worlds/') || 
             state.uri.pathSegments.contains('worlds'))) {
          return const WorldNotFoundPage();
        }
      }
```

**errorBuilderContextState** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\routing\app_router.dart:364:25`
- ğŸ“ Original: `',
              builder: (context, state) => const ErrorPage(),
            ),
          ],
        );
        _isInitialized = true;
      }
    }
    return _routerInstance!;
  }

  // Getter fÃ¼r NavigatorKey (fÃ¼r zukÃ¼nftige Shell-Integration)
  static GlobalKey<NavigatorState> get rootNavigatorKey => _rootNavigatorKey;
  
  // Public Methoden fÃ¼r Cache-Management
  static void invalidateAuthCache() {
    // Caching entfernt, daher keine Cache-Invalidierung mehr nÃ¶tig
  }
  static bool? get cachedLoginState => null; // Caching entfernt
  
  // Cache beim App-Start invalidieren
  static void invalidateCacheOnStart() {
    // Caching entfernt, daher keine Cache-Invalidierung mehr nÃ¶tig
    AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
initialLocation: '/go',
          routes: [
            GoRoute(
              path: '/go',
              builder: (context, state) => const ErrorPage(),
            ),
          ],
```

**errorEIfMounted** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:88:70`
- ğŸ“ Original: `', e);
      
      if (mounted) {
        setState(() {
          _error = e.toString();
        });
      }
    }
  }

  Future<void> _runInitializationWithSteps() async {
    final initSteps = widget.initSteps;
    if (initSteps != null && initSteps.isNotEmpty) {
      for (int i = 0; i < initSteps.length; i++) {
        if (mounted) {
          setState(() {
            _currentStepIndex = i;
            _currentStepName = initSteps[i];
          });
        }
        
        // Simuliere Schritt-fÃ¼r-Schritt Initialisierung
        await Future.delayed(const Duration(milliseconds: 300));
      }
    }
    
    // FÃ¼hre die eigentliche Initialisierung aus
    await widget.initializationFunction();
  }

  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    if (_error != null) {
      return _buildErrorScreen();
    }
    
    if (_isInitialized) {
      // Direkt das Child anzeigen ohne FadeTransition die ausblendet
      return widget.child;
    }
    
    return _buildSplashScreen();
  }

  Widget _buildSplashScreen() {
    final initSteps = widget.initSteps;
    final loadingText = widget.loadingText;
    
    return Scaffold(
      backgroundColor: Theme.of(context).primaryColor,
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            // App Logo/Icon
            widget.logo ?? Container(
              width: 120,
              height: 120,
              decoration: BoxDecoration(
                color: Colors.white,
                borderRadius: BorderRadius.circular(20),
                boxShadow: [
                  BoxShadow(
                    color: Colors.black.withOpacity(0.1),
                    blurRadius: 10,
                    offset: const Offset(0, 5),
                  ),
                ],
              ),
              child: const Icon(
                Icons.public,
                size: 60,
                color: Colors.blue,
              ),
            ),
            
            const SizedBox(height: 40),
            
            // App Name
            Text(
              widget.appName ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// _animationController.reverse(); // ENTFERNT
      }
    } catch (e) {
      AppLogger.logError('SplashScreen Initialisierung fehlgeschlagen', e);
      
      if (mounted) {
        setState(() {
```

### ğŸ·ï¸ INVITE

**inviteAsIntFinal** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:88:35`
- ğŸ“ Original: `'] as int;
          final now = DateTime.now().millisecondsSinceEpoch ~/ 1000;
          
          // Token erneuern wenn weniger als 60 Sekunden gÃ¼ltig
          if (exp - now < 60) {
            // Log Token-Refresh
            AppLogger.api.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final parts = token.split('.');
        if (parts.length == 3) {
          final payload = jsonDecode(utf8.decode(base64Url.decode(base64Url.normalize(parts[1]))));
          final exp = payload['exp'] as int;
          final now = DateTime.now().millisecondsSinceEpoch ~/ 1000;
          
          // Token erneuern wenn weniger als 60 Sekunden gÃ¼ltig
```

**inviteRequestheadersaddall_headersRequestbodyJsonencodedata** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:215:95`
- ğŸ“ Original: `'));
    request.headers.addAll(_headers);
    request.body = jsonEncode(data);
    
    final streamedResponse = await request.send();
    final response = await http.Response.fromStream(streamedResponse);
    
    return await _handleResponse(response, endpoint);
  }

  // Helper fÃ¼r das Sanitieren von sensiblen Daten aus dem Request-Body
  Map<String, dynamic> _sanitizeAuthData(Map<String, dynamic> data) {
    final sanitized = <String, dynamic>{};
    for (final entry in data.entries) {
      if (entry.key == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _ensureValidToken();
    }
    
    final request = http.Request('DELETE', Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'));
    request.headers.addAll(_headers);
    request.body = jsonEncode(data);
```

**inviteBitteGebenSie** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:109:26`
- ğŸ“ Original: `'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'E-Mail-Adresse ist erforderlich';
                }
                if (!RegExp(r'^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$').hasMatch(value)) {
                  return 'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein';
                }
                return null;
              },
```

### ğŸ·ï¸ UI

**uiPasswortZurÃ¼cksetzen** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:145:31`
- ğŸ“ Original: `'Passwort zurÃ¼cksetzen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 20),
                            
                            Text(
                              'Passwort zurÃ¼cksetzen',
                              style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                color: Colors.white,
                                fontWeight: FontWeight.bold,
```

**uiGibDeineEmailadresse** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:155:31`
- ğŸ“ Original: `'Gib deine E-Mail-Adresse ein und wir senden dir einen Link zum ZurÃ¼cksetzen deines Passworts.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
                            
                            Text(
                              'Gib deine E-Mail-Adresse ein und wir senden dir einen Link zum ZurÃ¼cksetzen deines Passworts.',
                              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                color: Colors.grey[300],
                                fontSize: 14,
```

**uiEmailGesendetBitte** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:181:41`
- ğŸ“ Original: `'E-Mail gesendet! Bitte Ã¼berprÃ¼fe deinen Posteingang.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(width: 8),
                                    Expanded(
                                      child: Text(
                                        'E-Mail gesendet! Bitte Ã¼berprÃ¼fe deinen Posteingang.',
                                        style: TextStyle(color: Colors.green[200], fontSize: 14),
                                      ),
                                    ),
```

**uiAnmeldungLÃ¤uft** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\login_page.dart:597:25`
- ğŸ“ Original: `'Anmeldung lÃ¤uft...'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      SizedBox(height: 16),
                      Text(
                        'Anmeldung lÃ¤uft...',
                        style: TextStyle(
                          color: Colors.white,
                          fontSize: 16,
```

**uiPasswortErfolgreichGeÃ¤ndert** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\reset_password_page.dart:191:46`
- ğŸ“ Original: `'Passwort erfolgreich geÃ¤ndert!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 20),
                              
                              Text(
                                _isSuccess ? 'Passwort erfolgreich geÃ¤ndert!' : 'Neues Passwort festlegen',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.white,
                                  fontWeight: FontWeight.bold,
```

**uiPasswortZurÃ¼cksetzen** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\reset_password_page.dart:450:45`
- ğŸ“ Original: `'Passwort zurÃ¼cksetzen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                          )
                                        : const Text(
                                            'Passwort zurÃ¼cksetzen',
                                            style: TextStyle(
                                              fontSize: 16,
                                              fontWeight: FontWeight.bold,
```

**uiStyleTextstyleColor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\widgets\world_card.dart:368:79`
- ğŸ“ Original: `',
                        style: TextStyle(
                          color: Colors.grey[400],
                          fontSize: 14,
                        ),
                      ),
                    ],
                  ),
                ],
              );
            }
          ),
        ],
      ],
    );
  }

  Widget _buildActionButtons() {
    final List<Widget> buttons = [];
    
    // Status-basierte Button-Logik
    switch (world.status) {
      case WorldStatus.upcoming:
        // Vorregistrierung oder ZurÃ¼ckziehen
        if (isPreRegistered) {
          if (onCancelPreRegistration != null) {
            buttons.add(_buildButton(
              onPressed: onCancelPreRegistration,
              icon: Icons.cancel,
              label: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(width: 4),
                      Text(
                        'Ende: ${endDate.day}.${endDate.month}.${endDate.year}',
                        style: TextStyle(
                          color: Colors.grey[400],
                          fontSize: 14,
```

**uiGÃ¼ltigkeitstextErstellenString** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:264:21`
- ğŸ“ Original: `';
    
    // GÃ¼ltigkeitstext erstellen
    String validityText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
final actionTypeText = isUpcoming 
      ? 'dich vorab zu registrieren fÃ¼r' 
      : 'beizutreten';
    
    // GÃ¼ltigkeitstext erstellen
    String validityText = '';
```

**uiTabContentSizedbox** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1261:41`
- ğŸ“ Original: `',
                    ),
                  ],
                ),
              ),
              
              // Tab Content
              SizedBox(
                height: 300, // Feste HÃ¶he fÃ¼r Tab-Content
                child: TabBarView(
                  controller: _tabController,
                  children: [
                    _buildDescriptionTab(),
                    _buildRulesTab(),
                    _buildStatisticsTab(),
                  ],
                ),
              ),
              
              // Action Buttons
              Container(
                padding: const EdgeInsets.all(24),
                decoration: const BoxDecoration(
                  color: Color(0xFF1A1A1A),
                  borderRadius: BorderRadius.only(
                    bottomLeft: Radius.circular(24),
                    bottomRight: Radius.circular(24),
                  ),
                ),
                child: Column(
                  children: [
                    _buildActionButtons(),
                    
                    // Join-Fehler anzeigen
                    if (_joinError != null) ...[
                      const SizedBox(height: 16),
                      Container(
                        padding: const EdgeInsets.all(12),
                        decoration: BoxDecoration(
                          color: Colors.red.withOpacity(0.1),
                          borderRadius: BorderRadius.circular(8),
                          border: Border.all(color: Colors.red.withOpacity(0.3)),
                        ),
                        child: Row(
                          children: [
                            Icon(Icons.error_outline, color: Colors.red[400], size: 20),
                            const SizedBox(width: 8),
                            Expanded(
                              child: Text(
                                _joinError ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                    Tab(
                      icon: Icon(Icons.analytics_outlined),
                      text: 'Statistiken',
                    ),
                  ],
                ),
```

**uiStyleThemeofcontexttextthemebodysmallcopywithColor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1568:23`
- ğŸ“ Original: `',
              style: Theme.of(context).textTheme.bodySmall?.copyWith(
                color: Colors.grey[400],
                fontWeight: FontWeight.w500,
              ),
            ),
          ),
          Expanded(
            child: Text(
              value,
              style: Theme.of(context).textTheme.bodySmall?.copyWith(
                color: Colors.white,
              ),
            ),
          ),
        ],
      ),
    );
  }
  
  Widget _buildActionButtons() {
    List<Widget> buttons = [];

    // **LOGIN BUTTON (wenn User existiert aber nicht angemeldet)**
    if (_showLoginButton && _inviteEmail != null) {
      buttons.add(
        Container(
          width: double.infinity,
          margin: const EdgeInsets.only(bottom: 12.0),
          child: ElevatedButton(
            onPressed: () {
              // Redirect auf Login-Seite mit E-Mail vorausgefÃ¼llt
              final loginRoute = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
SizedBox(
            width: 80,
            child: Text(
              '$label:',
              style: Theme.of(context).textTheme.bodySmall?.copyWith(
                color: Colors.grey[400],
                fontWeight: FontWeight.w500,
```

**uiGebenSieDie** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:70:15`
- ğŸ“ Original: `'Geben Sie die E-Mail-Adresse der Person ein, die Sie einladen mÃ¶chten:'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisSize: MainAxisSize.min,
          children: [
            Text(
              'Geben Sie die E-Mail-Adresse der Person ein, die Sie einladen mÃ¶chten:',
              style: TextStyle(
                color: Colors.grey[300],
              ),
```

### ğŸ·ï¸ WORLD

**worldClassWeltenwindappExtends** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\app.dart:13:36`
- ğŸ“ Original: `';

class WeltenwindApp extends StatefulWidget {
  const WeltenwindApp({super.key});

  @override
  State<WeltenwindApp> createState() => _WeltenwindAppState();
}

class _WeltenwindAppState extends State<WeltenwindApp> {
  final LocaleProvider _localeProvider = LocaleProvider();
  
  @override
  void initState() {
    super.initState();
    // Listener fÃ¼r Locale-Ã„nderungen
    _localeProvider.addListener(() {
      setState(() {});
    });
  }
  
  @override
  void dispose() {
    _localeProvider.removeListener(() {});
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    AppLogger.app.d('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'core/services/world_service.dart';
import 'core/services/invite_service.dart';
import 'core/providers/locale_provider.dart';
import 'l10n/app_localizations.dart';

class WeltenwindApp extends StatefulWidget {
  const WeltenwindApp({super.key});
```

**worldZentraleLoggerkonfigurationFÃ¼r** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\config\logger.dart:2:40`
- ğŸ“ Original: `';

/// Zentrale Logger-Konfiguration fÃ¼r Weltenwind Flutter Client
class AppLogger {
  static late Logger _logger;
  static late Logger _apiLogger;
  static late Logger _authLogger;
  static late Logger _navigationLogger;
  static late Logger _errorLogger;

  /// Initialisiere alle Logger
  static void initialize() {
    // Base Logger mit Custom Printer
    _logger = Logger(
      printer: _getLogPrinter(),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );

    // Spezielle Logger fÃ¼r verschiedene Bereiche
    _apiLogger = Logger(
      printer: _getLogPrinter(prefix: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:logger/logger.dart';
import 'package:flutter/foundation.dart';

/// Zentrale Logger-Konfiguration fÃ¼r Weltenwind Flutter Client
class AppLogger {
```

**worldSchlieÃŸeDichTausenden** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\landing\landing_page.dart:581:35`
- ğŸ“ Original: `'SchlieÃŸe dich tausenden Spielern an und starte noch heute!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                const SizedBox(height: 16),
                                Text(
                                  'SchlieÃŸe dich tausenden Spielern an und starte noch heute!',
                                  style: TextStyle(
                                    fontSize: 16,
                                    color: Colors.grey[300],
```

**worldSieMÃ¼ssenErst** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:61:29`
- ğŸ“ Original: `'Sie mÃ¼ssen erst der Welt beitreten, um das Dashboard zu sehen'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
void _showJoinRequiredMessage() {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(
        content: const Text('Sie mÃ¼ssen erst der Welt beitreten, um das Dashboard zu sehen'),
        backgroundColor: Colors.orange[700],
        duration: const Duration(seconds: 3),
      ),
```

**worldSieMÃ¼ssenDer** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:359:18`
- ğŸ“ Original: `'Sie mÃ¼ssen der Welt beitreten, um das Dashboard zu sehen'`
- ğŸ¯ Widget: Widget: Tooltip
- ğŸ”§ Context:
```dart
// Tooltip hinzufÃ¼gen wenn disabled
    if (isDisabled && item.label.contains('Dashboard')) {
      return Tooltip(
        message: 'Sie mÃ¼ssen der Welt beitreten, um das Dashboard zu sehen',
        child: widget,
      );
    }
```

**worldThislogoOverrideStatesplashscreen** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:22:31`
- ğŸ“ Original: `',
    this.logo,
  });

  @override
  State<SplashScreen> createState() => _SplashScreenState();
}

class _SplashScreenState extends State<SplashScreen> with TickerProviderStateMixin {
  late AnimationController _animationController;
  bool _isInitialized = false;
  String? _error;
  bool _timedOut = false;
  int _currentStepIndex = 0;
  String? _currentStepName;

  @override
  void initState() {
    super.initState();
    
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 1500),
      vsync: this,
    );
    
    _initialize();
  }

  Future<void> _initialize() async {
    try {
      _animationController.forward();
      
      // Timeout fÃ¼r Initialisierung
      final timeout = widget.timeout;
      if (timeout != null) {
        final result = await Future.any([
          _runInitializationWithSteps().then((_) => '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
this.timeout,
    this.onTimeout,
    this.initSteps,
    this.appName = 'Weltenwind',
    this.logo,
  });
```

### ğŸ·ï¸ BUTTON

**buttonChildText_issuccess** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:302:70`
- ğŸ“ Original: `'),
                              child: Text(
                                _isSuccess ? '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
// Back to login link
                            TextButton(
                              onPressed: () => context.goNamed('login'),
                              child: Text(
                                _isSuccess ? 'ZurÃ¼ck zum Login' : 'Abbrechen',
                                style: const TextStyle(
```

**buttonChildConstText** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\login_page.dart:404:90`
- ğŸ“ Original: `'),
                                        child: const Text(
                                          '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
// Forgot Password Link
                                      TextButton(
                                        onPressed: () => context.goNamed('forgot-password'),
                                        child: const Text(
                                          'Passwort vergessen?',
                                          style: TextStyle(
```

**buttonStyleTextstyleColor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\login_page.dart:406:63`
- ğŸ“ Original: `',
                                          style: TextStyle(
                                            color: AppTheme.primaryColor,
                                            fontSize: 14,
                                          ),
                                        ),
                                      ),
                                    ],
                                  ),
                                  const SizedBox(height: 12),
                                  
                                  // Error message with animation
                                  AnimatedContainer(
                                    duration: const Duration(milliseconds: 300),
                                    height: _loginError != null ? null : 0,
                                    child: _loginError != null
                                      ? Container(
                                          width: double.infinity,
                                          padding: const EdgeInsets.all(12),
                                          margin: const EdgeInsets.only(bottom: 16),
                                          decoration: BoxDecoration(
                                            color: Colors.red[900]!.withOpacity(0.3),
                                            borderRadius: BorderRadius.circular(8),
                                            border: Border.all(color: Colors.red[400]!.withOpacity(0.5)),
                                          ),
                                          child: Row(
                                            children: [
                                              Icon(Icons.error_outline, color: Colors.red[400], size: 20),
                                              const SizedBox(width: 8),
                                              Expanded(
                                                child: Text(
                                                  _loginError!,
                                                  style: TextStyle(color: Colors.red[200], fontSize: 14),
                                                ),
                                              ),
                                            ],
                                          ),
                                        )
                                      : const SizedBox.shrink(),
                                  ),
                                  
                                  // Login button with hover effect
                                  SizedBox(
                                    width: double.infinity,
                                    height: 56,
                                    child: AnimatedContainer(
                                      duration: const Duration(milliseconds: 200),
                                      child: ElevatedButton(
                                        onPressed: _isLoading ? null : _login,
                                        style: ElevatedButton.styleFrom(
                                          backgroundColor: AppTheme.primaryColor,
                                          foregroundColor: Colors.white,
                                          shape: RoundedRectangleBorder(
                                            borderRadius: BorderRadius.circular(12),
                                          ),
                                          elevation: 8,
                                          shadowColor: AppTheme.primaryColor.withOpacity(0.5),
                                        ),
                                        child: _isLoading
                                            ? const SizedBox(
                                                height: 20,
                                                width: 20,
                                                child: CircularProgressIndicator(
                                                  strokeWidth: 2,
                                                  valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                                                ),
                                              )
                                            : const Text(
                                                '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                                        onPressed: () => context.goNamed('forgot-password'),
                                        child: const Text(
                                          'Passwort vergessen?',
                                          style: TextStyle(
                                            color: AppTheme.primaryColor,
                                            fontSize: 14,
```

**buttonChildConstText** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\auth\reset_password_page.dart:464:74`
- ğŸ“ Original: `'),
                                  child: const Text(
                                    '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
// Back to login link
                              if (!_isSuccess)
                                TextButton(
                                  onPressed: () => context.goNamed('login'),
                                  child: const Text(
                                    'ZurÃ¼ck zur Anmeldung',
                                    style: TextStyle(
```

**buttonAlleZurÃ¼cksetzen** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:289:31`
- ğŸ“ Original: `'Alle zurÃ¼cksetzen'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton.icon(
            onPressed: onResetFilters,
            icon: const Icon(Icons.clear_all, size: 16),
            label: const Text('Alle zurÃ¼cksetzen'),
            style: TextButton.styleFrom(
              foregroundColor: Colors.grey[400],
            ),
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\widgets\world_list_header.dart:76:43`
- ğŸ“ Original: `'),
          style: ElevatedButton.styleFrom(
            backgroundColor: AppTheme.primaryColor,
            foregroundColor: Colors.white,
            padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 10),
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(8),
            ),
          ),
        ),
      );
    }

    if (hasCreatePermission && onCreateWorld != null) {
      buttons.add(
        ElevatedButton.icon(
          onPressed: onCreateWorld,
          icon: const Icon(Icons.add, size: 18),
          label: const Text('`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
          onPressed: onRefresh,
          icon: const Icon(Icons.refresh, size: 18),
          label: const Text('Aktualisieren'),
          style: ElevatedButton.styleFrom(
            backgroundColor: AppTheme.primaryColor,
            foregroundColor: Colors.white,
```

**buttonIfConfirmedTrue** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:611:41`
- ğŸ“ Original: `'),
          ),
        ],
      ),
    );
    
    if (confirmed != true) return;

    setState(() {
      _isJoining = true;
      _joinError = null;
    });

    try {
      await _worldService.leaveWorld(world.id);
      setState(() {
        _isJoined = false;
      });
      
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
style: TextButton.styleFrom(
              foregroundColor: Colors.red,
            ),
            child: const Text('Verlassen'),
          ),
        ],
      ),
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:853:66`
- ğŸ“ Original: `'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Login Button als Alternative
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => _navigateToLogin(_inviteEmail!),
                            icon: const Icon(Icons.login),
                            label: const Text('`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                            onPressed: () => _navigateToRegistration(_inviteEmail!),
                            icon: const Icon(Icons.person_add),
                            label: const Text('Jetzt registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
```

**buttonStyleOutlinedbuttonstylefromForegroundcolor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:871:77`
- ğŸ“ Original: `'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: AppTheme.primaryColor,
                              side: BorderSide(color: AppTheme.primaryColor),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else if (_showLogoutButton && _inviteEmail != null) ...[
                        // Logout Button fÃ¼r falschen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _logout,
                            icon: const Icon(Icons.logout),
                            label: const Text('`
- ğŸ¯ Widget: Widget: OutlinedButton
- ğŸ”§ Context:
```dart
child: OutlinedButton.icon(
                            onPressed: () => _navigateToLogin(_inviteEmail!),
                            icon: const Icon(Icons.login),
                            label: const Text('Bereits registriert? Anmelden'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: AppTheme.primaryColor,
                              side: BorderSide(color: AppTheme.primaryColor),
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:889:75`
- ğŸ“ Original: `'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: Colors.orange,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                        const SizedBox(height: 12),
                        // Abbrechen Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                            onPressed: _logout,
                            icon: const Icon(Icons.logout),
                            label: const Text('Abmelden & neu registrieren'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: Colors.orange,
                              foregroundColor: Colors.white,
```

**buttonIconConstIconiconsarrow_back** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:905:70`
- ğŸ“ Original: `'),
                            icon: const Icon(Icons.arrow_back),
                            label: const Text('`
- ğŸ¯ Widget: Widget: OutlinedButton
- ğŸ”§ Context:
```dart
width: double.infinity,
                          height: 48,
                          child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('landing'),
                            icon: const Icon(Icons.arrow_back),
                            label: const Text('ZurÃ¼ck zur Startseite'),
                            style: OutlinedButton.styleFrom(
```

**buttonStyleOutlinedbuttonstylefromForegroundcolor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:907:69`
- ğŸ“ Original: `'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: Colors.grey,
                              side: BorderSide(color: Colors.grey),
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ] else ...[
                        // Standard Retry Button
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: _retry,
                            icon: const Icon(Icons.refresh),
                            label: const Text('`
- ğŸ¯ Widget: Widget: OutlinedButton
- ğŸ”§ Context:
```dart
child: OutlinedButton.icon(
                            onPressed: () => context.goNamed('landing'),
                            icon: const Icon(Icons.arrow_back),
                            label: const Text('ZurÃ¼ck zur Startseite'),
                            style: OutlinedButton.styleFrom(
                              foregroundColor: Colors.grey,
                              side: BorderSide(color: Colors.grey),
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:925:64`
- ğŸ“ Original: `'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
                              shape: RoundedRectangleBorder(
                                borderRadius: BorderRadius.circular(12),
                              ),
                            ),
                          ),
                        ),
                      ],
                      const SizedBox(height: 16),
                      TextButton(
                        onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                            onPressed: _retry,
                            icon: const Icon(Icons.refresh),
                            label: const Text('Erneut versuchen'),
                            style: ElevatedButton.styleFrom(
                              backgroundColor: AppTheme.primaryColor,
                              foregroundColor: Colors.white,
```

**buttonChildConstText** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:938:69`
- ğŸ“ Original: `'),
                        child: const Text(
                          '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
],
                      const SizedBox(height: 16),
                      TextButton(
                        onPressed: () => context.goNamed('world-list'),
                        child: const Text(
                          'ZurÃ¼ck zu den Welten',
                          style: TextStyle(
```

**buttonStyleTextstyleColor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:940:48`
- ğŸ“ Original: `',
                          style: TextStyle(
                            color: AppTheme.primaryColor,
                            fontWeight: FontWeight.bold,
                          ),
                        ),
                      ),
                    ],
                  ),
                ),
              ),
            ),
          ),
        ),
      ),
    );
  }

  Widget _buildInfoState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.info_outline,
                        size: 80,
                        color: Colors.blue[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                        onPressed: () => context.goNamed('world-list'),
                        child: const Text(
                          'ZurÃ¼ck zu den Welten',
                          style: TextStyle(
                            color: AppTheme.primaryColor,
                            fontWeight: FontWeight.bold,
```

**buttonChildConstText** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1022:71`
- ğŸ“ Original: `'),
                          child: const Text(
                            '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
if (widget.inviteToken == null) ...[
                        const SizedBox(height: 16),
                        TextButton(
                          onPressed: () => context.goNamed('world-list'),
                          child: const Text(
                            'ZurÃ¼ck zu den Welten',
                            style: TextStyle(
```

**buttonStyleTextstyleColor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1024:50`
- ğŸ“ Original: `',
                            style: TextStyle(
                              color: AppTheme.primaryColor,
                              fontWeight: FontWeight.bold,
                            ),
                          ),
                        ),
                      ],
                    ],
                  ),
                ),
              ),
            ),
          ),
        ),
      ),
    );
  }

  Widget _buildNotFoundState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.public_off,
                        size: 80,
                        color: Colors.orange[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                          onPressed: () => context.goNamed('world-list'),
                          child: const Text(
                            'ZurÃ¼ck zu den Welten',
                            style: TextStyle(
                              color: AppTheme.primaryColor,
                              fontWeight: FontWeight.bold,
```

**buttonPendingRedirectSetzen** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1600:93`
- ğŸ“ Original: `';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
              
              context.go(loginRoute);
            },
            style: ElevatedButton.styleFrom(
              backgroundColor: AppTheme.primaryColor,
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: const Text(
              '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton(
            onPressed: () {
              // Redirect auf Login-Seite mit E-Mail vorausgefÃ¼llt
              final loginRoute = '/go/auth/login?email=${Uri.encodeComponent(_inviteEmail!)}';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
```

**buttonPendingRedirectSetzen** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1633:99`
- ğŸ“ Original: `';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
              
              context.go(registerRoute);
            },
            style: ElevatedButton.styleFrom(
              backgroundColor: AppTheme.secondaryColor,
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: const Text(
              '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton(
            onPressed: () {
              // Redirect auf Register-Seite mit E-Mail vorausgefÃ¼llt
              final registerRoute = '/go/auth/register?email=${Uri.encodeComponent(_inviteEmail!)}';
              
              // Pending Redirect setzen fÃ¼r Post-Auth-Redirect
              _authService.setPendingInviteRedirect(widget.inviteToken!);
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1702:40`
- ğŸ“ Original: `');
              }
            },
            style: ElevatedButton.styleFrom(
              backgroundColor: Colors.red[600],
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: const Text(
              '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
await _authService.logout();
              // Nach Logout zur Landing-Page
              if (mounted) {
                context.go('/go/landing');
              }
            },
            style: ElevatedButton.styleFrom(
```

**buttonVorregistrierungZurÃ¼ckziehen** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1740:79`
- ğŸ“ Original: `'Vorregistrierung zurÃ¼ckziehen'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _cancelPreRegistration,
                    icon: const Icon(Icons.cancel),
                    label: Text(_isPreRegistering ? 'Wird zurÃ¼ckgezogen...' : 'Vorregistrierung zurÃ¼ckziehen'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.red[600],
                      foregroundColor: Colors.white,
```

**buttonWirdRegistriert** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1760:53`
- ğŸ“ Original: `'Wird registriert...'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _preRegisterWorld,
                    icon: const Icon(Icons.how_to_reg),
                    label: Text(_isPreRegistering ? 'Wird registriert...' : 'Vorregistrieren'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.orange[600],
                      foregroundColor: Colors.white,
```

**buttonWirdVerlassen** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1808:46`
- ğŸ“ Original: `'Wird verlassen...'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _leaveWorld,
                    icon: const Icon(Icons.exit_to_app),
                    label: Text(_isJoining ? 'Wird verlassen...' : 'Welt verlassen'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.red[600],
                      foregroundColor: Colors.white,
```

**buttonWeltVerlassen** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1808:68`
- ğŸ“ Original: `'Welt verlassen'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _leaveWorld,
                    icon: const Icon(Icons.exit_to_app),
                    label: Text(_isJoining ? 'Wird verlassen...' : 'Welt verlassen'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.red[600],
                      foregroundColor: Colors.white,
```

**buttonWirdBeigetreten** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1829:46`
- ğŸ“ Original: `'Wird beigetreten...'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _joinWorld,
                    icon: const Icon(Icons.play_arrow),
                    label: Text(_isJoining ? 'Wird beigetreten...' : 'Jetzt beitreten'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
```

**buttonJetztBeitreten** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1829:70`
- ğŸ“ Original: `'Jetzt beitreten'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _joinWorld,
                    icon: const Icon(Icons.play_arrow),
                    label: Text(_isJoining ? 'Wird beigetreten...' : 'Jetzt beitreten'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
```

**buttonIfConfirmedTrue** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_list_page.dart:395:41`
- ğŸ“ Original: `'),
          ),
        ],
      ),
    );

    if (confirmed != true) return;

    try {
      final success = await _worldService.leaveWorld(world.id);
      if (success && mounted) {
        setState(() {
          _joinedWorlds[world.id] = false;
          // Update player count
          final currentCount = _playerCounts[world.id] ?? 0;
          if (currentCount > 0) {
            _playerCounts[world.id] = currentCount - 1;
          }
        });
        
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
style: TextButton.styleFrom(
              foregroundColor: Colors.red,
            ),
            child: const Text('Verlassen'),
          ),
        ],
      ),
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_list_page.dart:782:71`
- ğŸ“ Original: `'),
                                      style: ElevatedButton.styleFrom(
                                        backgroundColor: AppTheme.primaryColor,
                                        foregroundColor: Colors.white,
                                        padding: const EdgeInsets.symmetric(
                                          horizontal: 24,
                                          vertical: 12,
                                        ),
                                        shape: RoundedRectangleBorder(
                                          borderRadius: BorderRadius.circular(12),
                                        ),
                                      ),
                                    ),
                                  ),
                                ],
                              ),
                            ],
                          ),
                        ),
                      ),
                    ),
                  ),
                ),
              ),
            ),
            
            // User info widget in top-left corner
            const UserInfoWidget(),
            
            // Navigation widget in top-right corner
            const NavigationWidget(currentRoute: '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                                      onPressed: _loadWorlds,
                                      icon: const Icon(Icons.refresh),
                                      label: const Text('Aktualisieren'),
                                      style: ElevatedButton.styleFrom(
                                        backgroundColor: AppTheme.primaryColor,
                                        foregroundColor: Colors.white,
```

### ğŸ·ï¸ FORM

**formDetailsinformationcollectortostringInDebug** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\main.dart:48:30`
- ğŸ“ Original: `': details.informationCollector?.toString(),
      },
    );
    
    // In Debug Mode auch zur Console
    if (kDebugMode) {
      FlutterError.presentError(details);
    }
  };

  // Dart Error Handling (fÃ¼r unhandled exceptions)
  WidgetsBinding.instance.platformDispatcher.onError = (error, stack) {
    AppLogger.logError(
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context: {
        'library': details.library,
        'context': details.context?.toString(),
        'informationCollector': details.informationCollector?.toString(),
      },
    );
```

### ğŸ·ï¸ NAVIGATION

**navigationClassApiserviceStatic** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\core\services\api_service.dart:7:38`
- ğŸ“ Original: `';

class ApiService {
  static final ApiService _instance = ApiService._internal();
  factory ApiService() => _instance;
  ApiService._internal();

  String? _token;
  late final AuthService _authService;
  String? _deviceFingerprint;
  bool _initialized = false;
  bool _isValidatingToken = false; // Verhindert rekursive Token-Validierung
  
  // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
  final Map<String, Map<String, dynamic>> _requestBodies = {};

  // Dependency Injection fÃ¼r bessere Testbarkeit
  ApiService.withAuth(AuthService authService) : _authService = authService;

  // Initialisierung beim ersten Zugriff
  Future<void> _ensureInitialized() async {
    if (!_initialized) {
      _authService = AuthService(); // Fallback fÃ¼r Singleton-Pattern
      try {
        final accessToken = await _authService.getCurrentAccessToken();
        if (accessToken != null) {
          _token = accessToken;
        }
      } catch (e) {
        // Error loading token
      }
      _initialized = true;
    }
  }

  void setToken(String token) {
    _token = token;
  }

  void clearToken() {
    _token = null;
  }

  // Einfacher Device-Fingerprint
  String get deviceFingerprint {
    final currentFingerprint = _deviceFingerprint;
    if (currentFingerprint != null) {
      return currentFingerprint;
    }
    final fingerprint = kIsWeb 
        ? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../config/env.dart';
import '../../config/logger.dart';
import 'auth_service.dart';
import '../../routing/app_router.dart';

class ApiService {
  static final ApiService _instance = ApiService._internal();
```

**navigationCustomNavigationObserver** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\routing\app_router.dart:14:21`
- ğŸ“ Original: `';

// Custom Navigation Observer fÃ¼r Logging
class AppNavigationObserver extends NavigatorObserver {
  @override
  void didReplace({Route<dynamic>? newRoute, Route<dynamic>? oldRoute}) {
    super.didReplace(newRoute: newRoute, oldRoute: oldRoute);
    _logNavigation(oldRoute?.settings.name, newRoute?.settings.name, '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../features/landing/landing_page.dart';
import '../core/services/auth_service.dart';
import '../theme/app_theme.dart';
import '../main.dart';

// Custom Navigation Observer fÃ¼r Logging
class AppNavigationObserver extends NavigatorObserver {
```

**navigationClassApprouterNamed** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\routing\app_router.dart:40:60`
- ğŸ“ Original: `');
    }
  }
}

class AppRouter {
  // Named Routes fÃ¼r bessere Navigation
  static const String landingRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (from != null && to != null) {
      AppLogger.logNavigation(from, to, params: {'action': action});
    } else if (to != null) {
      AppLogger.navigation.i('ğŸ§­ Navigation: â†’ $to ($action)');
    }
  }
}
```

**navigationNavigatorkey_rootnavigatorkeyNavigation** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\routing\app_router.dart:88:32`
- ğŸ“ Original: `',
          navigatorKey: _rootNavigatorKey,
          
          // Navigation Observer fÃ¼r User Journey Tracking
          observers: [
            AppNavigationObserver(),
          ],
          
          // Redirect aktiviert - Services werden jetzt korrekt initialisiert
          redirect: (context, state) async {
        try {
          final authService = _getAuthService();
          if (authService == null) {
            // Services noch nicht verfÃ¼gbar, zur Landing Page
            return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.navigation.i('ğŸš€ Router wird initialisiert...');
      try {
        _routerInstance = GoRouter(
          initialLocation: '/go',
          navigatorKey: _rootNavigatorKey,
          
          // Navigation Observer fÃ¼r User Journey Tracking
```

**navigationInviteroutenSindÃ–ffentlich** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\routing\app_router.dart:108:82`
- ğŸ“ Original: `'); // Invite-Routen sind Ã¶ffentlich
          final isProtectedRoute = (state.matchedLocation.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final isLoggedIn = await authService.isLoggedIn();

          final isAuthRoute = state.matchedLocation.startsWith('/go/auth');
          final isInviteRoute = state.matchedLocation.startsWith('/go/world-join/'); // Invite-Routen sind Ã¶ffentlich
          final isProtectedRoute = (state.matchedLocation.startsWith('/go/worlds') ||
                                  state.matchedLocation.startsWith('/go/dashboard')) &&
                                  !isInviteRoute; // Invite-Routen ausschlieÃŸen
```

**navigationIsinviterouteInviteroutenAusschlieÃŸen** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\routing\app_router.dart:110:82`
- ğŸ“ Original: `')) &&
                                  !isInviteRoute; // Invite-Routen ausschlieÃŸen

          if (!isLoggedIn && isProtectedRoute) {
            AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final isAuthRoute = state.matchedLocation.startsWith('/go/auth');
          final isInviteRoute = state.matchedLocation.startsWith('/go/world-join/'); // Invite-Routen sind Ã¶ffentlich
          final isProtectedRoute = (state.matchedLocation.startsWith('/go/worlds') ||
                                  state.matchedLocation.startsWith('/go/dashboard')) &&
                                  !isInviteRoute; // Invite-Routen ausschlieÃŸen

          if (!isLoggedIn && isProtectedRoute) {
```

**navigationZurÃ¼ck** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:75:16`
- ğŸ“ Original: `'ZurÃ¼ck'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (widget.currentRoute != 'world-list') {
      items.add(NavigationItem(
        icon: Icons.arrow_back,
        label: 'ZurÃ¼ck',
        onTap: () => Navigator.of(context).canPop() 
          ? Navigator.of(context).pop()
          : context.goNamed('world-list'),
```

**navigationWeltenÃ¼bersicht** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:92:14`
- ğŸ“ Original: `'Welten-Ãœbersicht'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Immer zur Welten-Liste
    items.add(NavigationItem(
      icon: Icons.public,
      label: 'Welten-Ãœbersicht',
      onTap: () => context.goNamed('world-list'),
      isActive: widget.currentRoute == 'world-list',
    ));
```

**navigationIsdisabledIsjoinedWeitere** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:127:60`
- ğŸ“ Original: `',
          isDisabled: !isJoined,
        ));
      }
    }
    
    // Weitere Navigation Items kÃ¶nnen hier hinzugefÃ¼gt werden
    // z.B. Settings, Profile, etc.
    
    return items;
  }
  
  @override
  Widget build(BuildContext context) {
    final navItems = _getNavigationItems();
    
    return Positioned(
      top: 16,
      right: 16,
      child: FadeTransition(
        opacity: _fadeAnimation,
        child: AnimatedContainer(
          duration: const Duration(milliseconds: 300),
          decoration: BoxDecoration(
            color: const Color(0xFF1A1A1A).withOpacity(0.95),
            borderRadius: BorderRadius.circular(16),
            border: Border.all(
              color: AppTheme.primaryColor.withOpacity(0.3),
              width: 1,
            ),
            boxShadow: [
              BoxShadow(
                color: Colors.black.withOpacity(0.3),
                blurRadius: 12,
                offset: const Offset(0, 4),
              ),
            ],
          ),
          child: Material(
            color: Colors.transparent,
            child: _isExpanded ? _buildExpandedView(navItems) : _buildCompactView(),
          ),
        ),
      ),
    );
  }
  
  Widget _buildCompactView() {
    return InkWell(
      onTap: _toggleExpanded,
      borderRadius: BorderRadius.circular(16),
      child: Padding(
        padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),
        child: Row(
          mainAxisSize: MainAxisSize.min,
          children: [
            Container(
              width: 36,
              height: 36,
              decoration: BoxDecoration(
                color: AppTheme.primaryColor.withOpacity(0.2),
                shape: BoxShape.circle,
              ),
              child: const Icon(
                Icons.explore,
                color: AppTheme.primaryColor,
                size: 20,
              ),
            ),
            const SizedBox(width: 12),
            Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              mainAxisSize: MainAxisSize.min,
              children: [
                const Text(
                  '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
onTap: isJoined 
            ? () => context.goNamed('world-dashboard', pathParameters: {'id': worldId})
            : () => _showJoinRequiredMessage(),
          isActive: widget.currentRoute == 'world-dashboard',
          isDisabled: !isJoined,
        ));
      }
```

**navigationStyleTextstyleColor** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:262:30`
- ğŸ“ Original: `',
                  style: TextStyle(
                    color: Colors.white,
                    fontSize: 16,
                    fontWeight: FontWeight.bold,
                  ),
                ),
                const SizedBox(width: 40),
                Icon(
                  Icons.keyboard_arrow_up,
                  color: Colors.grey[400],
                  size: 24,
                ),
              ],
            ),
          ),
        ),
        
        const Divider(color: Colors.grey, height: 1),
        
        // Navigation Items
        ...items.map((item) => _buildNavigationItem(item)),
      ],
    );
  }
  
  Widget _buildNavigationItem(NavigationItem item) {
    if (item.isDivider) {
      return const Padding(
        padding: EdgeInsets.symmetric(vertical: 4),
        child: Divider(color: Colors.grey, height: 1),
      );
    }
    
    final isActive = item.isActive;
    final isDisabled = item.isDisabled;
    
    final widget = InkWell(
      onTap: isDisabled ? null : () {
        item.onTap();
        if (!isDisabled) _toggleExpanded();
      },
      child: Container(
        width: 220,
        padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),
        decoration: BoxDecoration(
          color: isActive ? AppTheme.primaryColor.withOpacity(0.1) : Colors.transparent,
          border: Border(
            left: BorderSide(
              color: isActive ? AppTheme.primaryColor : Colors.transparent,
              width: 3,
            ),
          ),
        ),
        child: Row(
          children: [
            Icon(
              item.icon,
              color: isDisabled 
                ? Colors.grey[600] 
                : (isActive ? AppTheme.primaryColor : Colors.grey[400]),
              size: 20,
            ),
            const SizedBox(width: 12),
            Expanded(
              child: Text(
                item.label,
                style: TextStyle(
                  color: isDisabled 
                    ? Colors.grey[600] 
                    : (isActive ? AppTheme.primaryColor : Colors.white),
                  fontSize: 14,
                  fontWeight: isActive ? FontWeight.w600 : FontWeight.normal,
                  decoration: isDisabled ? TextDecoration.lineThrough : null,
                ),
              ),
            ),
            if (isActive && !isDisabled)
              const Icon(
                Icons.check_circle,
                color: AppTheme.primaryColor,
                size: 16,
              ),
            if (isDisabled)
              Icon(
                Icons.lock,
                color: Colors.grey[600],
                size: 16,
              ),
          ],
        ),
      ),
    );
    
    // Tooltip hinzufÃ¼gen wenn disabled
    if (isDisabled && item.label.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                const SizedBox(width: 12),
                const Text(
                  'Navigation',
                  style: TextStyle(
                    color: Colors.white,
                    fontSize: 16,
```

### ğŸ·ï¸ WORLD

**worldWidget_buildworldcontentReturn** âš ï¸ (Confidence: 0.8)
- ğŸ“ `lib\features\world\world_join_page.dart:1111:66`
- ğŸ“ Original: `'),
                        ),
                      ),
                    ],
                  ),
                ),
              ),
            ),
          ),
        ),
      ),
    );
  }

  Widget _buildWorldContent() {
    return Center(
      child: Container(
        constraints: const BoxConstraints(maxWidth: 900),
        margin: const EdgeInsets.all(24),
        child: Card(
          elevation: 16,
          color: const Color(0xFF1A1A1A),
          shape: RoundedRectangleBorder(
            borderRadius: BorderRadius.circular(24),
            side: BorderSide(
              color: AppTheme.primaryColor.withOpacity(0.3),
              width: 1,
            ),
          ),
          child: Column(
            mainAxisSize: MainAxisSize.min,
            children: [
              // Header mit Welt-Name und Status
              Container(
                decoration: BoxDecoration(
                  borderRadius: const BorderRadius.only(
                    topLeft: Radius.circular(24),
                    topRight: Radius.circular(24),
                  ),
                  gradient: LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      AppTheme.primaryColor.withOpacity(0.1),
                      AppTheme.primaryColor.withOpacity(0.05),
                    ],
                  ),
                ),
                padding: const EdgeInsets.all(24),
                child: Column(
                  children: [
                    // Welt-Name und Status
                    Row(
                      children: [
                        Expanded(
                          child: Column(
                            crossAxisAlignment: CrossAxisAlignment.start,
                            children: [
                              Text(
                                _world?.name ?? '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
borderRadius: BorderRadius.circular(12),
                            ),
                          ),
                          child: const Text('ZurÃ¼ck zu den Welten'),
                        ),
                      ),
                    ],
```

### ğŸ·ï¸ BUTTON

**buttonWeltVerlassen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:599:27`
- ğŸ“ Original: `'Welt verlassen?'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
```

**buttonMÃ¶chtestDuDie** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:600:23`
- ğŸ“ Original: `'MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

**buttonWeltVerlassen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:383:27`
- ğŸ“ Original: `'Welt verlassen?'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
```

**buttonMÃ¶chtestDuDie** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:384:23`
- ğŸ“ Original: `'MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'`
- ğŸ¯ Widget: Widget: AlertDialog
- ğŸ”§ Context:
```dart
context: context,
      builder: (context) => AlertDialog(
        title: const Text('Welt verlassen?'),
        content: Text('MÃ¶chtest du die Welt "${world.name}" wirklich verlassen?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
```

### ğŸ·ï¸ AUTH

**authIsauthenticatedvalueFalseReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:72:55`
- ğŸ“ Original: `');
        isAuthenticated.value = false;
        return false;
      }

      _apiService.setToken(accessToken);
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
      
      if (accessToken == null || accessToken.isEmpty) {
        AppLogger.auth.i('âŒ Kein Access-Token gefunden');
        isAuthenticated.value = false;
        return false;
      }
```

**authIfResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:78:55`
- ğŸ“ Original: `');
      
      if (response.statusCode == 200) {
        final userData = jsonDecode(response.body);
        _currentUser = User.fromJson(userData);
        isAuthenticated.value = true;
        AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}

      _apiService.setToken(accessToken);
      final response = await _apiService.get('/auth/me');
      
      if (response.statusCode == 200) {
        final userData = jsonDecode(response.body);
```

**authUsername_currentuserusernameReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:84:51`
- ğŸ“ Original: `', username: _currentUser?.username);
        return true;
      } else if (response.statusCode == 401) {
        AppLogger.auth.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final userData = jsonDecode(response.body);
        _currentUser = User.fromJson(userData);
        isAuthenticated.value = true;
        AppLogger.logAuthEvent('user_authenticated', username: _currentUser?.username);
        return true;
      } else if (response.statusCode == 401) {
        AppLogger.auth.w('âš ï¸ Token abgelaufen - versuche Refresh');
```

**authTokenAbgelaufenVersuche** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:87:65`
- ğŸ“ Original: `');
        // Token abgelaufen, versuche Refresh
        final refreshed = await refreshTokenIfNeeded();
        isAuthenticated.value = refreshed;
        return refreshed;
      }
      
      AppLogger.auth.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('user_authenticated', username: _currentUser?.username);
        return true;
      } else if (response.statusCode == 401) {
        AppLogger.auth.w('âš ï¸ Token abgelaufen - versuche Refresh');
        // Token abgelaufen, versuche Refresh
        final refreshed = await refreshTokenIfNeeded();
        isAuthenticated.value = refreshed;
```

**authIsauthenticatedvalueFalseReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:94:71`
- ğŸ“ Original: `');
      isAuthenticated.value = false;
      return false;
    } catch (e) {
      AppLogger.auth.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return refreshed;
      }
      
      AppLogger.auth.w('âŒ Auth fehlgeschlagen (${response.statusCode})');
      isAuthenticated.value = false;
      return false;
    } catch (e) {
```

**authUsernameUsernameTry** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:174:42`
- ğŸ“ Original: `', username: username);
    
    try {
      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}

  Future<User?> login(String username, String password) async {
    AppLogger.logAuthEvent('login_attempt', username: username);
    
    try {
      final response = await _apiService.post('/auth/login', {
```

**authPasswordIfResponsestatuscode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:179:18`
- ğŸ“ Original: `': password,
      });

      if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
        final accessToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final response = await _apiService.post('/auth/login', {
        'username': username,
        'password': password,
      });

      if (response.statusCode == 200) {
```

**authUsernameUsernameMetadata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:199:46`
- ğŸ“ Original: `', username: username, metadata: {
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Fetch complete user data with roles
        await fetchCurrentUser();
        
        AppLogger.logAuthEvent('login_success', username: username, metadata: {
          'userId': _currentUser?.id,
          'roles': _currentUser?.roles?.map((r) => r.role.name).toList(),
        });
```

**auth_currentuserid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:200:18`
- ğŸ“ Original: `': _currentUser?.id,
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await fetchCurrentUser();
        
        AppLogger.logAuthEvent('login_success', username: username, metadata: {
          'userId': _currentUser?.id,
          'roles': _currentUser?.roles?.map((r) => r.role.name).toList(),
        });
```

**auth_currentuserrolesmaprRrolenametolistReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:201:17`
- ğŸ“ Original: `': _currentUser?.roles?.map((r) => r.role.name).toList(),
        });
        
        return _currentUser;
      } else if (response.statusCode == 401) {
        AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('login_success', username: username, metadata: {
          'userId': _currentUser?.id,
          'roles': _currentUser?.roles?.map((r) => r.role.name).toList(),
        });
        
        return _currentUser;
```

**authUsernameUsernameMetadata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:206:45`
- ğŸ“ Original: `', username: username, metadata: {
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return _currentUser;
      } else if (response.statusCode == 401) {
        AppLogger.logAuthEvent('login_failed', username: username, metadata: {
          'reason': 'invalid_credentials',
          'statusCode': response.statusCode,
        });
```

**authEmailTryFinal** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:230:13`
- ğŸ“ Original: `': email,
    });
    
    try {
      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<User?> register(String username, String email, String password) async {
    AppLogger.logAuthEvent('register_attempt', username: username, metadata: {
      'email': email,
    });
    
    try {
```

**authPasswordIfResponsestatuscode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:237:18`
- ğŸ“ Original: `': password,
      });

      if (response.statusCode == 201) {
        final data = jsonDecode(response.body);
        
        // Token aus der Response extrahieren
        final accessToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final response = await _apiService.post('/auth/register', {
        'username': username,
        'email': email,
        'password': password,
      });

      if (response.statusCode == 201) {
```

**authUsernameUsernameMetadata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:273:49`
- ğŸ“ Original: `', username: username, metadata: {
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Fetch complete user data with roles
        await fetchCurrentUser();
        
        AppLogger.logAuthEvent('register_success', username: username, metadata: {
          'userId': _currentUser?.id,
          'email': email,
          'roles': _currentUser?.roles?.map((r) => r.role.name).toList(),
```

**auth_currentuserid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:274:18`
- ğŸ“ Original: `': _currentUser?.id,
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await fetchCurrentUser();
        
        AppLogger.logAuthEvent('register_success', username: username, metadata: {
          'userId': _currentUser?.id,
          'email': email,
          'roles': _currentUser?.roles?.map((r) => r.role.name).toList(),
        });
```

**authApploggerlogauthevent** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:317:56`
- ğŸ“ Original: `';
    AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Erweitertes Logout mit Server-Call und vollstÃ¤ndigem Cleanup
  Future<void> logout() async {
    final username = _currentUser?.username ?? 'unknown';
    AppLogger.logAuthEvent('logout_attempt', username: username);
    
    try {
```

**authUsernameUsernameTry** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:318:43`
- ğŸ“ Original: `', username: username);
    
    try {
      // Versuche Server-seitiges Logout
      final accessToken = await TokenStorage.getAccessToken();
      if (accessToken != null) {
        _apiService.setToken(accessToken);
        try {
          await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Erweitertes Logout mit Server-Call und vollstÃ¤ndigem Cleanup
  Future<void> logout() async {
    final username = _currentUser?.username ?? 'unknown';
    AppLogger.logAuthEvent('logout_attempt', username: username);
    
    try {
      // Versuche Server-seitiges Logout
```

**authApploggerlogauthevent** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:326:47`
- ğŸ“ Original: `', {});
          AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (accessToken != null) {
        _apiService.setToken(accessToken);
        try {
          await _apiService.post('/auth/logout', {});
          AppLogger.logAuthEvent('server_logout_success', username: username);
        } catch (e) {
          // Server-Logout fehlgeschlagen, trotzdem lokal ausloggen
```

**authUsernameUsernameCatch** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:327:56`
- ğŸ“ Original: `', username: username);
        } catch (e) {
          // Server-Logout fehlgeschlagen, trotzdem lokal ausloggen
          AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_apiService.setToken(accessToken);
        try {
          await _apiService.post('/auth/logout', {});
          AppLogger.logAuthEvent('server_logout_success', username: username);
        } catch (e) {
          // Server-Logout fehlgeschlagen, trotzdem lokal ausloggen
          AppLogger.logAuthEvent('server_logout_failed', username: username, metadata: {
```

**authIfResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:380:61`
- ğŸ“ Original: `', {});
      
      if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
        final newAccessToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}

      _apiService.setToken(refreshToken);
      final response = await _apiService.post('/auth/refresh', {});
      
      if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
```

**authIfResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:418:55`
- ğŸ“ Original: `');
      
      if (response.statusCode == 200) {
        final userData = jsonDecode(response.body);
        _currentUser = User.fromJson(userData);
        await TokenStorage.saveUserData(jsonEncode(userData));
        return _currentUser;
      } else if (response.statusCode == 401) {
        // Token invalid, clear auth
        await logout();
        return null;
      } else {
        throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Fetch current user data with roles from server
  Future<User?> fetchCurrentUser() async {
    try {
      final response = await _apiService.get('/auth/me');
      
      if (response.statusCode == 200) {
        final userData = jsonDecode(response.body);
```

**authEmailIfResponsestatuscode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:470:15`
- ğŸ“ Original: `': email,
      });

      if (response.statusCode == 200) {
        AppLogger.auth.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<bool> requestPasswordReset(String email) async {
    try {
      final response = await _apiService.post('/auth/request-reset', {
        'email': email,
      });

      if (response.statusCode == 200) {
```

**authNewpasswordBackendErwartet** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:493:18`
- ğŸ“ Original: `': newPassword, // Backend erwartet '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final response = await _apiService.post('/auth/reset-password', {
        'token': token,
        'password': newPassword, // Backend erwartet 'password', nicht 'newPassword'
      });

      if (response.statusCode == 200) {
```

**authIfResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:493:84`
- ğŸ“ Original: `'
      });

      if (response.statusCode == 200) {
        AppLogger.auth.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final response = await _apiService.post('/auth/reset-password', {
        'token': token,
        'password': newPassword, // Backend erwartet 'password', nicht 'newPassword'
      });

      if (response.statusCode == 200) {
```

**authAsStringCreatedat** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:26:27`
- ğŸ“ Original: `'] as String,
      createdAt: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return Invite(
      id: json['id'] as int,
      email: json['email'] as String,
      status: json['status'] as String,
      createdAt: json['createdAt'] != null 
          ? DateTime.parse(json['createdAt'] as String) 
          : null,
```

**authNullDatetimeparsejson** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:27:33`
- ğŸ“ Original: `'] != null 
          ? DateTime.parse(json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
id: json['id'] as int,
      email: json['email'] as String,
      status: json['status'] as String,
      createdAt: json['createdAt'] != null 
          ? DateTime.parse(json['createdAt'] as String) 
          : null,
      expiresAt: json['expiresAt'] != null
```

**authAsStringNull** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:28:43`
- ğŸ“ Original: `'] as String) 
          : null,
      expiresAt: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
email: json['email'] as String,
      status: json['status'] as String,
      createdAt: json['createdAt'] != null 
          ? DateTime.parse(json['createdAt'] as String) 
          : null,
      expiresAt: json['expiresAt'] != null 
          ? DateTime.parse(json['expiresAt'] as String)
```

**authEmailFinalResponse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:126:15`
- ğŸ“ Original: `': email,
      };

      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<bool> createInvite(int worldId, String email) async {
    try {
      final data = <String, dynamic>{
        'email': email,
      };

      final response = await _apiService.post('/worlds/$worldId/invites', data);
```

**authDataIfResponsestatuscode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:129:72`
- ğŸ“ Original: `', data);
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return responseData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'email': email,
      };

      final response = await _apiService.post('/worlds/$worldId/invites', data);
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
```

**authEmailFinalResponse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:159:15`
- ğŸ“ Original: `': email,
      };

      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<bool> createPublicInvite(int worldId, String email) async {
    try {
      final data = <String, dynamic>{
        'email': email,
      };

      final response = await _apiService.post('/worlds/$worldId/invites/public', data);
```

**authDataIfResponsestatuscode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:162:79`
- ğŸ“ Original: `', data);
      
      if (response.statusCode == 200) {
        return true;
      } else if (response.statusCode == 400) {
        // Konsistente Fehlerbehandlung wie createInvite
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'email': email,
      };

      final response = await _apiService.post('/worlds/$worldId/invites/public', data);
      
      if (response.statusCode == 200) {
        return true;
```

**authConfigloggerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:7:8`
- ğŸ“ Original: `'../../config/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../models/world.dart';
import 'api_service.dart';
import 'auth_service.dart';
import '../../config/logger.dart';

// PreRegistrationStatus-Model fÃ¼r bessere Typisierung
class PreRegistrationStatus {
```

**authAsStringConfig** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:29:27`
- ğŸ“ Original: `'] as String?,
      config: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
registeredAt: json['registeredAt'] != null
          ? DateTime.parse(json['registeredAt'] as String)
          : null,
      status: json['status'] as String?,
      config: json['config'] as Map<String, dynamic>?,
    );
  }
```

**authEmailIfConfig** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:214:15`
- ğŸ“ Original: `': email,
      };
      if (config != null) {
        data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<bool> preRegisterWorld(int worldId, String email, {Map<String, dynamic>? config}) async {
    try {
      final data = <String, dynamic>{
        'email': email,
      };
      if (config != null) {
        data['config'] = config;
```

**authConfigFinalResponse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:217:21`
- ğŸ“ Original: `'] = config;
      }

      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'email': email,
      };
      if (config != null) {
        data['config'] = config;
      }

      final response = await _apiService.post('/worlds/$worldId/pre-register', data);
```

**authDataIfResponsestatuscode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:220:77`
- ğŸ“ Original: `', data);
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return responseData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
data['config'] = config;
      }

      final response = await _apiService.post('/worlds/$worldId/pre-register', data);
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
```

**authCurrentuseremailIfConfig** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:254:15`
- ğŸ“ Original: `': currentUser.email,
      };
      if (config != null) {
        data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}

      final data = <String, dynamic>{
        'email': currentUser.email,
      };
      if (config != null) {
        data['config'] = config;
```

**authConfigFinalResponse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:257:21`
- ğŸ“ Original: `'] = config;
      }

      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'email': currentUser.email,
      };
      if (config != null) {
        data['config'] = config;
      }

      final response = await _apiService.post('/worlds/$worldId/pre-register', data);
```

**authDataIfResponsestatuscode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:260:77`
- ğŸ“ Original: `', data);
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return responseData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
data['config'] = config;
      }

      final response = await _apiService.post('/worlds/$worldId/pre-register', data);
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
```

**authWorldsworldidpreregisterme** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:355:46`
- ğŸ“ Original: `'/worlds/$worldId/pre-register/me'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Neue typsichere Methode mit PreRegistrationStatus-Model
  Future<PreRegistrationStatus> getPreRegistrationStatus(int worldId) async {
    try {
      final response = await _apiService.get('/worlds/$worldId/pre-register/me');
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
```

**authIfResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:379:71`
- ğŸ“ Original: `');
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        if (responseData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<Map<String, dynamic>?> validateInviteToken(String token) async {
    try {
      // API-Call ohne Authentifizierung (Ã¶ffentlicher Endpoint)
      final response = await _apiService.get('/invites/validate/$token');
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
```

**authCatchEIf** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:56:35`
- ğŸ“ Original: `');
          }
        });
      }
    } catch (e) {
      if (mounted) {
        setState(() {
          _errorMessage = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Nach 3 Sekunden zurÃ¼ck zum Login
        Future.delayed(const Duration(seconds: 3), () {
          if (mounted) {
            context.goNamed('login');
          }
        });
      }
```

**authBitteGibEine** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:230:44`
- ğŸ“ Original: `'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Bitte gib deine E-Mail-Adresse ein';
                                  }
                                  if (!_emailRegex.hasMatch(value.trim())) {
                                    return 'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein';
                                  }
                                  return null;
                                },
```

**authServicelocatorImportFÃ¼r** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:6:43`
- ğŸ“ Original: `';

// ServiceLocator Import fÃ¼r DI
import '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';
```

**authClassLoginpageExtends** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:9:24`
- ğŸ“ Original: `';

class LoginPage extends StatefulWidget {
  const LoginPage({super.key});

  @override
  State<LoginPage> createState() => _LoginPageState();
}

class _LoginPageState extends State<LoginPage> with SingleTickerProviderStateMixin {
  final _formKey = GlobalKey<FormState>();
  final _usernameController = TextEditingController();
  final _passwordController = TextEditingController();
  
  late final AuthService _authService;
  late AnimationController _animationController;
  late Animation<double> _fadeAnimation;
  
  bool _isLoading = false;
  bool _obscurePassword = true;
  String? _loginError;
  bool _rememberMe = false;
  
  // Invite-Parameter
  String? _inviteToken;
  
  // FÃ¼r bessere Validierung
  bool _hasInteractedWithUsername = false;
  bool _hasInteractedWithPassword = false;

  @override
  void initState() {
    super.initState();
    _initializeServices();
    _loadQueryParameters();
    
    // Animation Setup
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 800),
      vsync: this,
    );
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeIn,
    ));
    
    _animationController.forward();
  }

  @override
  void dispose() {
    _animationController.dispose();
    _usernameController.dispose();
    _passwordController.dispose();
    super.dispose();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

class LoginPage extends StatefulWidget {
  const LoginPage({super.key});
```

**authReturnNullConst** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:353:93`
- ğŸ“ Original: `';
                                      }
                                      return null;
                                    },
                                  ),
                                  const SizedBox(height: 12),
                                  
                                  // Remember Me & Forgot Password Row
                                  Row(
                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                    children: [
                                      // Remember Me Checkbox
                                      Row(
                                        children: [
                                          Transform.scale(
                                            scale: 1.2,
                                            child: Checkbox(
                                              value: _rememberMe,
                                              onChanged: (value) {
                                                setState(() {
                                                  _rememberMe = value ?? false;
                                                });
                                              },
                                              fillColor: WidgetStateProperty.resolveWith<Color>((states) {
                                                if (states.contains(WidgetState.selected)) {
                                                  return AppTheme.primaryColor;
                                                }
                                                return Colors.grey[600]!;
                                              }),
                                              side: BorderSide(color: Colors.grey[600]!, width: 2),
                                            ),
                                          ),
                                          GestureDetector(
                                            onTap: () {
                                              setState(() {
                                                _rememberMe = !_rememberMe;
                                              });
                                            },
                                            child: Text(
                                              '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Bitte gib dein Passwort ein';
                                      }
                                      if (_hasInteractedWithPassword && value.length < 6) {
                                        return 'Passwort muss mindestens 6 Zeichen lang sein';
                                      }
                                      return null;
                                    },
```

**authConstSizedboxwidth16** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:528:55`
- ğŸ“ Original: `',
                                      ),
                                      const SizedBox(width: 16),
                                      // GitHub Login
                                      _buildSocialLoginButton(
                                        onPressed: () {
                                          ScaffoldMessenger.of(context).showSnackBar(
                                            const SnackBar(
                                              content: Text('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
);
                                        },
                                        icon: Icons.g_mobiledata,
                                        label: 'Google',
                                      ),
                                      const SizedBox(width: 16),
                                      // GitHub Login
```

**authServicelocatorImportFÃ¼r** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:7:43`
- ğŸ“ Original: `';

// ServiceLocator Import fÃ¼r DI
import '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../core/services/auth_service.dart';
import '../../core/services/world_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';
```

**authClassRegisterpageExtends** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:10:24`
- ğŸ“ Original: `';

class RegisterPage extends StatefulWidget {
  const RegisterPage({super.key});

  @override
  State<RegisterPage> createState() => _RegisterPageState();
}

class _RegisterPageState extends State<RegisterPage> {
  final _formKey = GlobalKey<FormState>();
  final _usernameController = TextEditingController();
  final _emailController = TextEditingController();
  final _passwordController = TextEditingController();
  
  // DI-ready: ServiceLocator verwenden statt Singleton
  late final AuthService _authService;
  
  bool _isLoading = false;
  bool _obscurePassword = true;
  String? _registerError;
  
  // Invite-Parameter
  String? _inviteToken;
  String? _prefilledEmail;

  // E-Mail-Validierung Regex
  static final RegExp _emailRegex = RegExp(r'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/background_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

class RegisterPage extends StatefulWidget {
  const RegisterPage({super.key});
```

**authOverrideVoidInitstate** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:37:66`
- ğŸ“ Original: `');

  @override
  void initState() {
    super.initState();
    // DI-ready: ServiceLocator verwenden mit robuster Fehlerbehandlung
    _initializeServices();
    _loadQueryParameters();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
String? _prefilledEmail;

  // E-Mail-Validierung Regex
  static final RegExp _emailRegex = RegExp(r'^[^@]+@[^@]+\.[^@]+$');

  @override
  void initState() {
```

**auth_prefilledemailEmailVorbefÃ¼llen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:71:13`
- ğŸ“ Original: `': _prefilledEmail
    });
    
    // E-Mail vorbefÃ¼llen wenn vorhanden
    if (_prefilledEmail != null && _prefilledEmail!.isNotEmpty) {
      _emailController.text = _prefilledEmail!;
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'hasInviteToken': _inviteToken != null,
      'hasPrefilledEmail': _prefilledEmail != null,
      'inviteToken': _inviteToken?.substring(0, 8),
      'email': _prefilledEmail
    });
    
    // E-Mail vorbefÃ¼llen wenn vorhanden
```

**authBitteGibEine** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:354:42`
- ğŸ“ Original: `'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'E-Mail ist erforderlich';
                                }
                                if (!_emailRegex.hasMatch(value)) {
                                  return 'Bitte gib eine gÃ¼ltige E-Mail-Adresse ein';
                                }
                                return null;
                              },
```

**authCatchEIf** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:91:33`
- ğŸ“ Original: `');
        }
      }
    } catch (e) {
      if (mounted) {
        setState(() {
          final error = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Erfolgsmeldung zeigen und nach 3 Sekunden zum Login
        await Future.delayed(const Duration(seconds: 3));
        if (mounted) {
          context.goNamed('login');
        }
      }
    } catch (e) {
```

**authConfigloggerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:3:8`
- ğŸ“ Original: `'../../../config/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import '../../../config/logger.dart';
import '../../../core/models/world.dart';
import '../../../core/services/world_service.dart';
import '../../../core/services/auth_service.dart';
```

**authCoreservicesworld_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:5:8`
- ğŸ“ Original: `'../../../core/services/world_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/foundation.dart';
import '../../../config/logger.dart';
import '../../../core/models/world.dart';
import '../../../core/services/world_service.dart';
import '../../../core/services/auth_service.dart';
import '../../../core/services/invite_service.dart';
import '../widgets/world_card.dart';
```

**authCoreservicesauth_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:6:8`
- ğŸ“ Original: `'../../../core/services/auth_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../../config/logger.dart';
import '../../../core/models/world.dart';
import '../../../core/services/world_service.dart';
import '../../../core/services/auth_service.dart';
import '../../../core/services/invite_service.dart';
import '../widgets/world_card.dart';
```

**authCoreservicesauth_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:7:8`
- ğŸ“ Original: `'../../core/services/auth_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../config/logger.dart';
import '../../core/models/world.dart';
import '../../core/services/world_service.dart';
import '../../core/services/auth_service.dart';
import '../../core/services/api_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
```

**authCoreservicesapi_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:8:8`
- ğŸ“ Original: `'../../core/services/api_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../core/models/world.dart';
import '../../core/services/world_service.dart';
import '../../core/services/auth_service.dart';
import '../../core/services/api_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../shared/widgets/user_info_widget.dart';
```

**authWasauthenticated_isauthenticatedUi** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:122:17`
- ğŸ“ Original: `': wasAuthenticated != _isAuthenticated
      });
      
      // UI aktualisieren wenn sich Status geÃ¤ndert hat
      if (wasAuthenticated != _isAuthenticated && mounted) {
        setState(() {});
      }
    } catch (e) {
      AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'isAuthenticated': _isAuthenticated,
        'userId': currentUser?.id,
        'username': currentUser?.username,
        'changed': wasAuthenticated != _isAuthenticated
      });
      
      // UI aktualisieren wenn sich Status geÃ¤ndert hat
```

**authFinalInviteemailInvitedata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:213:41`
- ğŸ“ Original: `'];
    final inviteEmail = inviteData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_world = World.fromJson(tokenData['world']);
    
    // Invite-Details extrahieren
    final inviteData = tokenData['invite'];
    final inviteEmail = inviteData['email'];
    final invitedByData = inviteData['invitedBy'];
    final invitedByName = invitedByData?['username'] ?? 'Unbekannt';
```

**authFinalInvitedbydataInvitedata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:214:42`
- ğŸ“ Original: `'];
    final invitedByData = inviteData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Invite-Details extrahieren
    final inviteData = tokenData['invite'];
    final inviteEmail = inviteData['email'];
    final invitedByData = inviteData['invitedBy'];
    final invitedByName = invitedByData?['username'] ?? 'Unbekannt';
```

**authFinalInvitedbynameInvitedbydata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:215:48`
- ğŸ“ Original: `'];
    final invitedByName = invitedByData?['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Invite-Details extrahieren
    final inviteData = tokenData['invite'];
    final inviteEmail = inviteData['email'];
    final invitedByData = inviteData['invitedBy'];
    final invitedByName = invitedByData?['username'] ?? 'Unbekannt';
    
    // Invite-Zeitstempel verarbeiten
```

**authInvitezeitstempelVerarbeitenFinal** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:216:67`
- ğŸ“ Original: `';
    
    // Invite-Zeitstempel verarbeiten
    final expiresAtString = inviteData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final inviteData = tokenData['invite'];
    final inviteEmail = inviteData['email'];
    final invitedByData = inviteData['invitedBy'];
    final invitedByName = invitedByData?['username'] ?? 'Unbekannt';
    
    // Invite-Zeitstempel verarbeiten
    final expiresAtString = inviteData['expiresAt'];
```

**authIfRequiresaction** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:285:26`
- ğŸ“ Original: `':
        if (requiresAction == '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Je nach Status unterschiedliche Logik
    switch (status) {
      case 'not_logged_in':
        if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
```

**authMailIstUnbekannt** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:286:40`
- ğŸ“ Original: `') {
          // Mail ist unbekannt -> nur Register
          actionText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Je nach Status unterschiedliche Logik
    switch (status) {
      case 'not_logged_in':
        if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
          infoText = '$baseInfoText\n\n$actionText';
```

**authIfRequiresaction** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:294:38`
- ğŸ“ Original: `':
        if (requiresAction == '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
        break;
        
      case 'user_exists_not_logged_in':
        if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
```

**authMailIstBekannt** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:295:37`
- ğŸ“ Original: `') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
break;
        
      case 'user_exists_not_logged_in':
        if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
```

**authIfRequiresaction** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:303:24`
- ğŸ“ Original: `':
        if (requiresAction == '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
        break;
        
      case 'wrong_email':
        if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
```

**authFinalCurrentuseremailUserstatusdata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:304:51`
- ğŸ“ Original: `') {
          final currentUserEmail = userStatusData['`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
break;
        
      case 'wrong_email':
        if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
```

**authUserMitFalscher** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:305:73`
- ğŸ“ Original: `'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
case 'wrong_email':
        if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
```

**authQueryparameters** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:711:27`
- ğŸ“ Original: `', queryParameters: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('login', queryParameters: {'invite_token': widget.inviteToken});
  }

  // User abmelden und zur Registration weiterleiten
```

**authWidgetinvitetokenUserAbmelden** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:711:61`
- ğŸ“ Original: `': widget.inviteToken});
  }

  // User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('login', queryParameters: {'invite_token': widget.inviteToken});
  }

  // User abmelden und zur Registration weiterleiten
```

**authQueryparameters** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:728:34`
- ğŸ“ Original: `', queryParameters: {
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted && _inviteEmail != null) {
        // Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('register', queryParameters: {
          'email': _inviteEmail!,
          'invite_token': widget.inviteToken ?? ''
        });
```

**auth_inviteemail** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:729:17`
- ğŸ“ Original: `': _inviteEmail!,
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted && _inviteEmail != null) {
        // Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('register', queryParameters: {
          'email': _inviteEmail!,
          'invite_token': widget.inviteToken ?? ''
        });
      }
```

**authWidgetinvitetoken** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:730:24`
- ğŸ“ Original: `': widget.inviteToken ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('register', queryParameters: {
          'email': _inviteEmail!,
          'invite_token': widget.inviteToken ?? ''
        });
      }
    } catch (e) {
```

**authCatchEApploggerlogerror** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:730:50`
- ğŸ“ Original: `'
        });
      }
    } catch (e) {
      AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('register', queryParameters: {
          'email': _inviteEmail!,
          'invite_token': widget.inviteToken ?? ''
        });
      }
    } catch (e) {
```

**authCoreservicesinvite_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:7:8`
- ğŸ“ Original: `'../../core/services/invite_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../core/services/world_service.dart';
import '../../core/services/invite_service.dart';
import '../../core/models/world.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
```

**authIfMountedSetstate** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:285:41`
- ğŸ“ Original: `')) {
            if (mounted) {
              setState(() {
                _preRegisteredWorlds[world.id] = false;
              });
            }
          } else {
            // Only log other errors
            AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        } catch (e) {
          // 404 means user is not pre-registered, which is normal
          if (e.toString().contains('404')) {
            if (mounted) {
              setState(() {
                _preRegisteredWorlds[world.id] = false;
```

### ğŸ·ï¸ BUTTON

**buttonIconConstIconiconsarrow_back** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:118:72`
- ğŸ“ Original: `'),
                                icon: const Icon(Icons.arrow_back),
                                color: Colors.grey[400],
                              ),
                            ),
                            
                            // Icon
                            Container(
                              width: 80,
                              height: 80,
                              decoration: BoxDecoration(
                                color: AppTheme.primaryColor.withOpacity(0.2),
                                borderRadius: BorderRadius.circular(20),
                                border: Border.all(
                                  color: AppTheme.primaryColor.withOpacity(0.5),
                                  width: 2,
                                ),
                              ),
                              child: const Icon(
                                Icons.lock_reset,
                                size: 40,
                                color: AppTheme.primaryColor,
                              ),
                            ),
                            const SizedBox(height: 20),
                            
                            Text(
                              '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
Align(
                              alignment: Alignment.centerLeft,
                              child: IconButton(
                                onPressed: () => context.goNamed('login'),
                                icon: const Icon(Icons.arrow_back),
                                color: Colors.grey[400],
                              ),
```

**buttonLabelstyleTextstylecolorColorsgrey400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:311:59`
- ğŸ“ Original: `',
                                      labelStyle: TextStyle(color: Colors.grey[400]),
                                      prefixIcon: const Icon(Icons.lock, color: AppTheme.primaryColor),
                                      suffixIcon: IconButton(
                                        icon: Icon(
                                          _obscurePassword ? Icons.visibility : Icons.visibility_off,
                                          color: Colors.grey[400],
                                        ),
                                        onPressed: () {
                                          setState(() {
                                            _obscurePassword = !_obscurePassword;
                                          });
                                        },
                                      ),
                                      filled: true,
                                      fillColor: const Color(0xFF2D2D2D),
                                      border: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.grey[600]!),
                                      ),
                                      enabledBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.grey[600]!),
                                      ),
                                      focusedBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                      ),
                                      errorBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.red[400]!),
                                      ),
                                      focusedErrorBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                      ),
                                    ),
                                    validator: (value) {
                                      if (value == null || value.isEmpty) {
                                        return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
                                    },
                                    decoration: InputDecoration(
                                      labelText: 'Passwort',
                                      labelStyle: TextStyle(color: Colors.grey[400]),
                                      prefixIcon: const Icon(Icons.lock, color: AppTheme.primaryColor),
                                      suffixIcon: IconButton(
```

**buttonStyleTextstylecolorColorsgrey400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:552:59`
- ğŸ“ Original: `',
                                        style: TextStyle(color: Colors.grey[400]),
                                      ),
                                      TextButton(
                                        onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisAlignment: MainAxisAlignment.center,
                                    children: [
                                      Text(
                                        'Noch kein Konto? ',
                                        style: TextStyle(color: Colors.grey[400]),
                                      ),
                                      TextButton(
```

**buttonChildConstText** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:556:83`
- ğŸ“ Original: `'),
                                        child: const Text(
                                          '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
style: TextStyle(color: Colors.grey[400]),
                                      ),
                                      TextButton(
                                        onPressed: () => context.goNamed('register'),
                                        child: const Text(
                                          'Registrieren',
                                          style: TextStyle(
```

**buttonStyleTextstyleColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:558:56`
- ğŸ“ Original: `',
                                          style: TextStyle(
                                            color: AppTheme.primaryColor,
                                            fontWeight: FontWeight.bold,
                                            fontSize: 16,
                                          ),
                                        ),
                                      ),
                                    ],
                                  ),
                                ],
                              ),
                            ),
                          ),
                        ),
                      ),
                    ),
                  ),
                ),
              ),
            ),
          ),
          
          // Loading Overlay
          if (_isLoading)
            AnimatedOpacity(
              opacity: _isLoading ? 1.0 : 0.0,
              duration: const Duration(milliseconds: 200),
              child: Container(
                color: Colors.black.withOpacity(0.7),
                child: const Center(
                  child: Column(
                    mainAxisAlignment: MainAxisAlignment.center,
                    children: [
                      CircularProgressIndicator(
                        valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                      ),
                      SizedBox(height: 16),
                      Text(
                        '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
TextButton(
                                        onPressed: () => context.goNamed('register'),
                                        child: const Text(
                                          'Registrieren',
                                          style: TextStyle(
                                            color: AppTheme.primaryColor,
                                            fontWeight: FontWeight.bold,
```

**buttonLabelstyleTextstylecolorColorsgrey400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:369:53`
- ğŸ“ Original: `',
                                labelStyle: TextStyle(color: Colors.grey[400]),
                                prefixIcon: const Icon(Icons.lock, color: AppTheme.primaryColor),
                                suffixIcon: IconButton(
                                  icon: Icon(
                                    _obscurePassword ? Icons.visibility : Icons.visibility_off,
                                    color: Colors.grey[400],
                                  ),
                                  onPressed: () {
                                    setState(() {
                                      _obscurePassword = !_obscurePassword;
                                    });
                                  },
                                ),
                                filled: true,
                                fillColor: const Color(0xFF2D2D2D),
                                border: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.grey[600]!),
                                ),
                                enabledBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.grey[600]!),
                                ),
                                focusedBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                ),
                                errorBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.red[400]!),
                                ),
                                focusedErrorBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                ),
                              ),
                              validator: (value) {
                                if (value == null || value.isEmpty) {
                                  return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
obscureText: _obscurePassword,
                              style: const TextStyle(color: Colors.white),
                              decoration: InputDecoration(
                                labelText: 'Passwort',
                                labelStyle: TextStyle(color: Colors.grey[400]),
                                prefixIcon: const Icon(Icons.lock, color: AppTheme.primaryColor),
                                suffixIcon: IconButton(
```

**buttonStyleTextstylecolorColorsgrey400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:477:55`
- ğŸ“ Original: `',
                                  style: TextStyle(color: Colors.grey[400]),
                                ),
                                TextButton(
                                  onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisAlignment: MainAxisAlignment.center,
                              children: [
                                Text(
                                  'Bereits ein Konto? ',
                                  style: TextStyle(color: Colors.grey[400]),
                                ),
                                TextButton(
```

**buttonChildConstText** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:481:74`
- ğŸ“ Original: `'),
                                  child: const Text(
                                    '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
style: TextStyle(color: Colors.grey[400]),
                                ),
                                TextButton(
                                  onPressed: () => context.goNamed('login'),
                                  child: const Text(
                                    'Anmelden',
                                    style: TextStyle(
```

**buttonNeuesPasswort** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:247:48`
- ğŸ“ Original: `'Neues Passwort'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
                                  },
                                  decoration: InputDecoration(
                                    labelText: 'Neues Passwort',
                                    labelStyle: TextStyle(color: Colors.grey[400]),
                                    prefixIcon: const Icon(Icons.lock, color: AppTheme.primaryColor),
                                    suffixIcon: IconButton(
```

**buttonPasswortBestÃ¤tigen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:316:48`
- ğŸ“ Original: `'Passwort bestÃ¤tigen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
                                  },
                                  decoration: InputDecoration(
                                    labelText: 'Passwort bestÃ¤tigen',
                                    labelStyle: TextStyle(color: Colors.grey[400]),
                                    prefixIcon: const Icon(Icons.lock_outline, color: AppTheme.primaryColor),
                                    suffixIcon: IconButton(
```

**buttonColorColorsred600Else** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:397:35`
- ğŸ“ Original: `',
              color: Colors.red[600],
            ));
          }
        } else {
          if (onPreRegister != null) {
            buttons.add(_buildButton(
              onPressed: onPreRegister,
              icon: Icons.how_to_reg,
              label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
buttons.add(_buildButton(
              onPressed: onCancelPreRegistration,
              icon: Icons.cancel,
              label: 'ZurÃ¼ckziehen',
              color: Colors.red[600],
            ));
          }
```

**buttonColorColorsorange600Break** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:406:38`
- ğŸ“ Original: `',
              color: Colors.orange[600],
            ));
          }
        }
        break;
        
      case WorldStatus.open:
      case WorldStatus.running:
        // Beitreten oder Verlassen
        if (isJoined) {
          // Spielen Button immer zuerst anzeigen wenn verfÃ¼gbar
          if (onPlay != null) {
            buttons.add(_buildButton(
              onPressed: onPlay,
              icon: Icons.play_circle_filled,
              label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
buttons.add(_buildButton(
              onPressed: onPreRegister,
              icon: Icons.how_to_reg,
              label: 'Vorregistrieren',
              color: Colors.orange[600],
            ));
          }
```

**buttonColorColorsgreen600Verlassen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:422:30`
- ğŸ“ Original: `',
              color: Colors.green[600],
            ));
          }
          // Verlassen Button als zweite Option
          if (onLeave != null) {
            buttons.add(_buildButton(
              onPressed: onLeave,
              icon: Icons.exit_to_app,
              label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
buttons.add(_buildButton(
              onPressed: onPlay,
              icon: Icons.play_circle_filled,
              label: 'Spielen',
              color: Colors.green[600],
            ));
          }
```

**buttonColorColorsred600Else** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:431:32`
- ğŸ“ Original: `',
              color: Colors.red[600],
            ));
          }
        } else {
          if (onJoin != null) {
            buttons.add(_buildButton(
              onPressed: onJoin,
              icon: Icons.play_arrow,
              label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
buttons.add(_buildButton(
              onPressed: onLeave,
              icon: Icons.exit_to_app,
              label: 'Verlassen',
              color: Colors.red[600],
            ));
          }
```

**buttonColorAppthemeprimarycolorBreak** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:440:32`
- ğŸ“ Original: `',
              color: AppTheme.primaryColor,
            ));
          }
        }
        break;
        
      case WorldStatus.closed:
      case WorldStatus.archived:
        // Keine Aktions-Buttons bei geschlossenen/archivierten Welten
        return _buildStatusBadge();
    }
    
    // Invite Button fÃ¼r upcoming, open und running
    if ([WorldStatus.upcoming, WorldStatus.open, WorldStatus.running].contains(world.status) && 
        onInvite != null) {
      buttons.add(_buildButton(
        onPressed: onInvite,
        icon: Icons.person_add,
        label: null,
        color: Colors.purple[600],
        iconOnly: true,
        tooltip: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
buttons.add(_buildButton(
              onPressed: onJoin,
              icon: Icons.play_arrow,
              label: 'Beitreten',
              color: AppTheme.primaryColor,
            ));
          }
```

**buttonErneutVersuchen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:79:33`
- ğŸ“ Original: `'Erneut versuchen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
              onPressed: onRefresh,
              icon: const Icon(Icons.refresh, size: 18),
              label: const Text('Erneut versuchen'),
              style: ElevatedButton.styleFrom(
                backgroundColor: AppTheme.primaryColor,
                foregroundColor: Colors.white,
```

**buttonErneutVersuchen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:153:35`
- ğŸ“ Original: `'Erneut versuchen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
                onPressed: onRetry,
                icon: const Icon(Icons.refresh, size: 18),
                label: const Text('Erneut versuchen'),
                style: ElevatedButton.styleFrom(
                  backgroundColor: AppTheme.primaryColor,
                  foregroundColor: Colors.white,
```

**buttonFinalRequiresactionUserstatusdata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:248:42`
- ğŸ“ Original: `'];
    final requiresAction = userStatusData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// User-Status analysieren
    final userStatusData = tokenData['userStatus'];
    final status = userStatusData['status'];
    final requiresAction = userStatusData['requiresAction'];
    
    // **NEUE INTELLIGENTE BUTTON-LOGIK**
```

**buttonNeueIntelligenteButtonlogik** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:249:58`
- ğŸ“ Original: `'];
    
    // **NEUE INTELLIGENTE BUTTON-LOGIK**
    String actionText = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// User-Status analysieren
    final userStatusData = tokenData['userStatus'];
    final status = userStatusData['status'];
    final requiresAction = userStatusData['requiresAction'];
    
    // **NEUE INTELLIGENTE BUTTON-LOGIK**
    String actionText = '';
```

**buttonStringInfotext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:252:26`
- ğŸ“ Original: `';
    String infoText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
final requiresAction = userStatusData['requiresAction'];
    
    // **NEUE INTELLIGENTE BUTTON-LOGIK**
    String actionText = '';
    String infoText = '';
    bool showLoginButton = false;
    bool showRegisterButton = false;
```

**buttonBoolShowloginbuttonFalse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:253:24`
- ğŸ“ Original: `';
    bool showLoginButton = false;
    bool showRegisterButton = false;
    bool showAcceptButton = false;
    bool showLogoutButton = false;
    
    // Basis-Info-Text mit Einlader, Welt und GÃ¼ltigkeitsstatus
    final inviterText = invitedByName;
    
    final actionTypeText = isUpcoming 
      ? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// **NEUE INTELLIGENTE BUTTON-LOGIK**
    String actionText = '';
    String infoText = '';
    bool showLoginButton = false;
    bool showRegisterButton = false;
    bool showAcceptButton = false;
```

**buttonInfotext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:288:88`
- ğŸ“ Original: `';
          infoText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
case 'not_logged_in':
        if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
          infoText = '$baseInfoText\n\n$actionText';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
```

**buttonShowregisterbuttonIsinvitevalidNur** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:289:51`
- ğŸ“ Original: `';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
          infoText = '$baseInfoText\n\n$actionText';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
```

**buttonInfotext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:297:100`
- ğŸ“ Original: `';
          infoText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
case 'user_exists_not_logged_in':
        if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
```

**buttonShowloginbuttonIsinvitevalidNur** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:298:51`
- ğŸ“ Original: `';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
```

**buttonInfotext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:307:118`
- ğŸ“ Original: `';
          infoText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
```

**buttonShowlogoutbuttonIsinvitevalidNur** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:308:129`
- ğŸ“ Original: `';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
        
      case '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
```

**buttonIfRequiresaction** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:313:26`
- ğŸ“ Original: `':
        if (requiresAction == '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
        break;
        
      case 'correct_email':
        if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
```

**buttonUserRichtigAngemeldet** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:314:42`
- ğŸ“ Original: `') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
break;
        
      case 'correct_email':
        if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
```

**buttonInfotext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:316:117`
- ğŸ“ Original: `';
          infoText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
case 'correct_email':
        if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
```

**buttonShowacceptbuttonIsinvitevalidNur** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:317:51`
- ğŸ“ Original: `';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
          
          // Auto-Accept entfernt: User soll bewusst entscheiden!
        }
        break;
        
      default:
        AppLogger.app.w('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
          
          // Auto-Accept entfernt: User soll bewusst entscheiden!
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1103:71`
- ğŸ“ Original: `'),
                          style: ElevatedButton.styleFrom(
                            backgroundColor: AppTheme.primaryColor,
                            foregroundColor: Colors.white,
                            shape: RoundedRectangleBorder(
                              borderRadius: BorderRadius.circular(12),
                            ),
                          ),
                          child: const Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
width: double.infinity,
                        height: 48,
                        child: ElevatedButton(
                          onPressed: () => context.goNamed('world-list'),
                          style: ElevatedButton.styleFrom(
                            backgroundColor: AppTheme.primaryColor,
                            foregroundColor: Colors.white,
```

### ğŸ·ï¸ DIALOG

**dialogRoutingapp_routerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:11:8`
- ğŸ“ Original: `'../../routing/app_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../core/models/world.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../routing/app_router.dart';
// Unused import removed
import '../../shared/widgets/invite_dialog.dart';
import '../../shared/widgets/user_info_widget.dart';
```

**dialogSharedwidgetsinvite_dialogdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:13:8`
- ğŸ“ Original: `'../../shared/widgets/invite_dialog.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/background_widget.dart';
import '../../routing/app_router.dart';
// Unused import removed
import '../../shared/widgets/invite_dialog.dart';
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';
import './widgets/world_card.dart';
```

**dialogSharedwidgetsuser_info_widgetdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:14:8`
- ğŸ“ Original: `'../../shared/widgets/user_info_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../routing/app_router.dart';
// Unused import removed
import '../../shared/widgets/invite_dialog.dart';
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';
import './widgets/world_card.dart';
import './widgets/world_filters.dart';
```

**dialogSharedwidgetsnavigation_widgetdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:15:8`
- ğŸ“ Original: `'../../shared/widgets/navigation_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Unused import removed
import '../../shared/widgets/invite_dialog.dart';
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';
import './widgets/world_card.dart';
import './widgets/world_filters.dart';
```

**dialogPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../theme/app_theme.dart';

class InviteDialog extends StatefulWidget {
```

**dialogClassInvitedialogExtends** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:2:35`
- ğŸ“ Original: `';

class InviteDialog extends StatefulWidget {
  final String worldName;

  const InviteDialog({
    super.key,
    required this.worldName,
  });

  @override
  State<InviteDialog> createState() => _InviteDialogState();
}

class _InviteDialogState extends State<InviteDialog> {
  final _formKey = GlobalKey<FormState>();
  final _emailController = TextEditingController();
  bool _isLoading = false;

  @override
  void dispose() {
    _emailController.dispose();
    super.dispose();
  }

  void _submit() async {
    final formState = _formKey.currentState;
    if (formState == null || !formState.validate()) return;
    
    setState(() {
      _isLoading = true;
    });

    // Simuliere API-Aufruf fÃ¼r E-Mail-Versand
    await Future.delayed(const Duration(seconds: 1));
    
    if (mounted) {
      setState(() {
        _isLoading = false;
      });
      Navigator.of(context).pop(_emailController.text.trim());
    }
  }

  @override
  Widget build(BuildContext context) {
    return AlertDialog(
      backgroundColor: const Color(0xFF1A1A1A), // Dunkler Hintergrund
      shape: RoundedRectangleBorder(
        borderRadius: BorderRadius.circular(20),
        side: BorderSide(
          color: AppTheme.primaryColor.withOpacity(0.3),
          width: 1,
        ),
      ),
      title: Text(
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../theme/app_theme.dart';

class InviteDialog extends StatefulWidget {
  final String worldName;
```

**dialogPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../theme/app_theme.dart';

class PreRegisterDialog extends StatefulWidget {
```

**dialogClassPreregisterdialogExtends** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:2:35`
- ğŸ“ Original: `';

class PreRegisterDialog extends StatefulWidget {
  final String worldName;
  final Function(String email) onPreRegister;

  const PreRegisterDialog({
    super.key,
    required this.worldName,
    required this.onPreRegister,
  });

  @override
  State<PreRegisterDialog> createState() => _PreRegisterDialogState();
}

class _PreRegisterDialogState extends State<PreRegisterDialog> {
  final _formKey = GlobalKey<FormState>();
  final _emailController = TextEditingController();
  bool _isLoading = false;

  @override
  void dispose() {
    _emailController.dispose();
    super.dispose();
  }

  Future<void> _submit() async {
    final formState = _formKey.currentState;
    if (formState == null || !formState.validate()) return;

    setState(() {
      _isLoading = true;
    });

    try {
      await widget.onPreRegister(_emailController.text.trim());
      if (mounted) {
        Navigator.of(context).pop(true);
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../theme/app_theme.dart';

class PreRegisterDialog extends StatefulWidget {
  final String worldName;
```

### ğŸ·ï¸ ERROR

**errorWorldjoinbytoken** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:30:29`
- ğŸ“ Original: `'world-join-by-token'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// HINZUGEFÃœGT: Invite-Redirect Management
  void setPendingInviteRedirect(String inviteToken) {
    _pendingInviteToken = inviteToken;
    _pendingRedirectRoute = 'world-join-by-token';
    _pendingRouteParams = {'token': inviteToken};
    AppLogger.auth.i('ğŸ« Invite-Redirect gesetzt', error: {'token': inviteToken.substring(0, 8) + '...'});
  }
```

**errorInviteredirectGesetzt** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:32:22`
- ğŸ“ Original: `'ğŸ« Invite-Redirect gesetzt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_pendingInviteToken = inviteToken;
    _pendingRedirectRoute = 'world-join-by-token';
    _pendingRouteParams = {'token': inviteToken};
    AppLogger.auth.i('ğŸ« Invite-Redirect gesetzt', error: {'token': inviteToken.substring(0, 8) + '...'});
  }

  void setPendingRoute(String routeName, {Map<String, String>? params}) {
```

**errorVoidSetpendingroutestringRoutename** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:32:102`
- ğŸ“ Original: `'});
  }

  void setPendingRoute(String routeName, {Map<String, String>? params}) {
    _pendingRedirectRoute = routeName;
    _pendingRouteParams = params;
    AppLogger.auth.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_pendingInviteToken = inviteToken;
    _pendingRedirectRoute = 'world-join-by-token';
    _pendingRouteParams = {'token': inviteToken};
    AppLogger.auth.i('ğŸ« Invite-Redirect gesetzt', error: {'token': inviteToken.substring(0, 8) + '...'});
  }

  void setPendingRoute(String routeName, {Map<String, String>? params}) {
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:38:46`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void setPendingRoute(String routeName, {Map<String, String>? params}) {
    _pendingRedirectRoute = routeName;
    _pendingRouteParams = params;
    AppLogger.auth.i('ğŸ§­ Pending-Route gesetzt', error: {'route': routeName, 'params': params});
  }

  Map<String, dynamic>? getPendingRedirect() {
```

**errorRoutename** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:38:63`
- ğŸ“ Original: `': routeName, '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void setPendingRoute(String routeName, {Map<String, String>? params}) {
    _pendingRedirectRoute = routeName;
    _pendingRouteParams = params;
    AppLogger.auth.i('ğŸ§­ Pending-Route gesetzt', error: {'route': routeName, 'params': params});
  }

  Map<String, dynamic>? getPendingRedirect() {
```

**errorParamsMapstringDynamic** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:38:84`
- ğŸ“ Original: `': params});
  }

  Map<String, dynamic>? getPendingRedirect() {
    if (_pendingRedirectRoute != null) {
      final redirect = {
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void setPendingRoute(String routeName, {Map<String, String>? params}) {
    _pendingRedirectRoute = routeName;
    _pendingRouteParams = params;
    AppLogger.auth.i('ğŸ§­ Pending-Route gesetzt', error: {'route': routeName, 'params': params});
  }

  Map<String, dynamic>? getPendingRedirect() {
```

**error_pendingrouteparams** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:45:16`
- ğŸ“ Original: `': _pendingRouteParams,
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (_pendingRedirectRoute != null) {
      final redirect = {
        'route': _pendingRedirectRoute!,
        'params': _pendingRouteParams,
        'inviteToken': _pendingInviteToken,
      };
      AppLogger.auth.i('ğŸ” Pending-Redirect abgerufen', error: redirect);
```

**error_pendinginvitetokenApploggerauthi** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:46:21`
- ğŸ“ Original: `': _pendingInviteToken,
      };
      AppLogger.auth.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final redirect = {
        'route': _pendingRedirectRoute!,
        'params': _pendingRouteParams,
        'inviteToken': _pendingInviteToken,
      };
      AppLogger.auth.i('ğŸ” Pending-Redirect abgerufen', error: redirect);
      return redirect;
```

**errorErrorRedirectReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:48:53`
- ğŸ“ Original: `', error: redirect);
      return redirect;
    }
    return null;
  }

  void clearPendingRedirect() {
    AppLogger.auth.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'params': _pendingRouteParams,
        'inviteToken': _pendingInviteToken,
      };
      AppLogger.auth.i('ğŸ” Pending-Redirect abgerufen', error: redirect);
      return redirect;
    }
    return null;
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:55:50`
- ğŸ“ Original: `', error: {
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}

  void clearPendingRedirect() {
    AppLogger.auth.i('ğŸ§¹ Pending-Redirect gelÃ¶scht', error: {
      'hadRoute': _pendingRedirectRoute != null,
      'hadInvite': _pendingInviteToken != null
    });
```

**error_pendingredirectrouteNull** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:56:16`
- ğŸ“ Original: `': _pendingRedirectRoute != null,
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void clearPendingRedirect() {
    AppLogger.auth.i('ğŸ§¹ Pending-Redirect gelÃ¶scht', error: {
      'hadRoute': _pendingRedirectRoute != null,
      'hadInvite': _pendingInviteToken != null
    });
    _pendingInviteToken = null;
```

**error_pendinginvitetokenNull_pendinginvitetoken** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:57:17`
- ğŸ“ Original: `': _pendingInviteToken != null
    });
    _pendingInviteToken = null;
    _pendingRedirectRoute = null;
    _pendingRouteParams = null;
  }

  Future<bool> isLoggedIn() async {
    try {
      final accessToken = await TokenStorage.getAccessToken();
      AppLogger.auth.d('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void clearPendingRedirect() {
    AppLogger.auth.i('ğŸ§¹ Pending-Redirect gelÃ¶scht', error: {
      'hadRoute': _pendingRedirectRoute != null,
      'hadInvite': _pendingInviteToken != null
    });
    _pendingInviteToken = null;
    _pendingRedirectRoute = null;
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:67:54`
- ğŸ“ Original: `', error: {
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<bool> isLoggedIn() async {
    try {
      final accessToken = await TokenStorage.getAccessToken();
      AppLogger.auth.d('ğŸ” PrÃ¼fe Authentication Status', error: {
        'hasToken': accessToken != null,
      });
```

**errorAccesstokenNullIf** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:68:18`
- ğŸ“ Original: `': accessToken != null,
      });
      
      if (accessToken == null || accessToken.isEmpty) {
        AppLogger.auth.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final accessToken = await TokenStorage.getAccessToken();
      AppLogger.auth.d('ğŸ” PrÃ¼fe Authentication Status', error: {
        'hasToken': accessToken != null,
      });
      
      if (accessToken == null || accessToken.isEmpty) {
```

**errorErrorEAwait** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:98:54`
- ğŸ“ Original: `', error: e);
      await logout();
      return false;
    }
  }

  // VollstÃ¤ndige Token-Validierung beim App-Start (ohne API-Calls)
  Future<bool> validateTokensOnStart() async {
    try {
      final accessToken = await TokenStorage.getAccessToken();
      final refreshToken = await TokenStorage.getRefreshToken();
      
      if (accessToken == null || refreshToken == null) {
        return false;
      }

      // JWT-Token Format validieren
      if (!_isValidJWT(accessToken) || !_isValidJWT(refreshToken)) {
        return false;
      }

      // Token-Ablauf prÃ¼fen (nur lokale Validierung, keine API-Calls)
      final accessExp = _getTokenExpiration(accessToken);
      final refreshExp = _getTokenExpiration(refreshToken);
      
      if (accessExp == null || refreshExp == null) {
        return false;
      }

      final now = DateTime.now();
      
      // Refresh-Token ist abgelaufen
      if (refreshExp.isBefore(now)) {
        return false;
      }
      
      // Access-Token ist abgelaufen, aber Refresh-Token ist noch gÃ¼ltig
      if (accessExp.isBefore(now)) {
        // Token ist abgelaufen, aber wir versuchen nicht zu erneuern
        // Das wird beim ersten API-Call automatisch gemacht
        return true; // Erlaube App-Start, Token-Refresh erfolgt bei Bedarf
      }

      // Beide Token sind gÃ¼ltig
      return true;
    } catch (e) {
      return false;
    }
  }

  // JWT-Token Format validieren
  bool _isValidJWT(String token) {
    try {
      final parts = token.split('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
isAuthenticated.value = false;
      return false;
    } catch (e) {
      AppLogger.auth.e('âŒ isLoggedIn() fehlgeschlagen', error: e);
      await logout();
      return false;
    }
```

**errorResponsestatuscodeThrowException** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:208:22`
- ğŸ“ Original: `': response.statusCode,
        });
        throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (response.statusCode == 401) {
        AppLogger.logAuthEvent('login_failed', username: username, metadata: {
          'reason': 'invalid_credentials',
          'statusCode': response.statusCode,
        });
        throw Exception('Benutzername oder Passwort falsch');
      } else {
```

**errorElseFinalErrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:210:59`
- ğŸ“ Original: `');
      } else {
        final errorData = jsonDecode(response.body);
        AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'reason': 'invalid_credentials',
          'statusCode': response.statusCode,
        });
        throw Exception('Benutzername oder Passwort falsch');
      } else {
        final errorData = jsonDecode(response.body);
        AppLogger.logAuthEvent('login_failed', username: username, metadata: {
```

**errorUsernameUsernameMetadata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:213:45`
- ğŸ“ Original: `', username: username, metadata: {
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Benutzername oder Passwort falsch');
      } else {
        final errorData = jsonDecode(response.body);
        AppLogger.logAuthEvent('login_failed', username: username, metadata: {
          'reason': 'server_error',
          'statusCode': response.statusCode,
          'error': errorData['message'],
```

**errorResponsestatuscode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:215:22`
- ğŸ“ Original: `': response.statusCode,
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final errorData = jsonDecode(response.body);
        AppLogger.logAuthEvent('login_failed', username: username, metadata: {
          'reason': 'server_error',
          'statusCode': response.statusCode,
          'error': errorData['message'],
        });
        throw Exception(errorData['message'] ?? 'Login fehlgeschlagen');
```

**errorErrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:216:17`
- ğŸ“ Original: `': errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('login_failed', username: username, metadata: {
          'reason': 'server_error',
          'statusCode': response.statusCode,
          'error': errorData['message'],
        });
        throw Exception(errorData['message'] ?? 'Login fehlgeschlagen');
      }
```

**errorThrowExceptionerrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:216:38`
- ğŸ“ Original: `'],
        });
        throw Exception(errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('login_failed', username: username, metadata: {
          'reason': 'server_error',
          'statusCode': response.statusCode,
          'error': errorData['message'],
        });
        throw Exception(errorData['message'] ?? 'Login fehlgeschlagen');
      }
```

**errorLoginFehlgeschlagen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:218:49`
- ğŸ“ Original: `'Login fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'statusCode': response.statusCode,
          'error': errorData['message'],
        });
        throw Exception(errorData['message'] ?? 'Login fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.logAuthEvent('login_error', username: username, metadata: {
```

**errorNullApploggerauthd** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:255:29`
- ğŸ“ Original: `'] != null) {
          AppLogger.auth.d('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final userData = data['user'];
        
        // Log Registration Debug Info
        if (userData['_debug'] != null) {
          AppLogger.auth.d('ğŸ“ Registrierung Debug Info', error: {
            'userId': userData['id'],
            'username': userData['username'],
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:256:55`
- ğŸ“ Original: `', error: {
            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Log Registration Debug Info
        if (userData['_debug'] != null) {
          AppLogger.auth.d('ğŸ“ Registrierung Debug Info', error: {
            'userId': userData['id'],
            'username': userData['username'],
            'rolesCount': userData['_debug']['rolesCount'],
```

**errorUserdata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:257:20`
- ğŸ“ Original: `': userData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Log Registration Debug Info
        if (userData['_debug'] != null) {
          AppLogger.auth.d('ğŸ“ Registrierung Debug Info', error: {
            'userId': userData['id'],
            'username': userData['username'],
            'rolesCount': userData['_debug']['rolesCount'],
            'roleDetails': userData['_debug']['roleDetails'],
```

**errorResponsestatuscode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:283:22`
- ğŸ“ Original: `': response.statusCode,
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (response.statusCode == 409) {
        AppLogger.logAuthEvent('register_failed', username: username, metadata: {
          'reason': 'conflict',
          'statusCode': response.statusCode,
          'email': email,
        });
        throw Exception('Benutzername oder E-Mail bereits vorhanden');
```

**errorBenutzernameOderEmail** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:286:25`
- ğŸ“ Original: `'Benutzername oder E-Mail bereits vorhanden'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'statusCode': response.statusCode,
          'email': email,
        });
        throw Exception('Benutzername oder E-Mail bereits vorhanden');
      } else {
        final errorData = jsonDecode(response.body);
        AppLogger.logAuthEvent('register_failed', username: username, metadata: {
```

**errorResponsestatuscode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:291:22`
- ğŸ“ Original: `': response.statusCode,
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final errorData = jsonDecode(response.body);
        AppLogger.logAuthEvent('register_failed', username: username, metadata: {
          'reason': 'server_error',
          'statusCode': response.statusCode,
          'error': errorData['error'] ?? errorData['message'],
          'details': errorData['details'],
          'email': email,
```

**errorErrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:292:17`
- ğŸ“ Original: `': errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('register_failed', username: username, metadata: {
          'reason': 'server_error',
          'statusCode': response.statusCode,
          'error': errorData['error'] ?? errorData['message'],
          'details': errorData['details'],
          'email': email,
        });
```

**errorErrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:292:36`
- ğŸ“ Original: `'] ?? errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('register_failed', username: username, metadata: {
          'reason': 'server_error',
          'statusCode': response.statusCode,
          'error': errorData['error'] ?? errorData['message'],
          'details': errorData['details'],
          'email': email,
        });
```

**errorErrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:293:19`
- ğŸ“ Original: `': errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'reason': 'server_error',
          'statusCode': response.statusCode,
          'error': errorData['error'] ?? errorData['message'],
          'details': errorData['details'],
          'email': email,
        });
```

**errorEmailDetailliertereFehlerbehandlung** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:294:17`
- ğŸ“ Original: `': email,
        });
        
        // Detailliertere Fehlerbehandlung
        if (errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'statusCode': response.statusCode,
          'error': errorData['error'] ?? errorData['message'],
          'details': errorData['details'],
          'email': email,
        });
        
        // Detailliertere Fehlerbehandlung
```

**errorNullIfErrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:298:31`
- ğŸ“ Original: `'] != null) {
          if (errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
        
        // Detailliertere Fehlerbehandlung
        if (errorData['details'] != null) {
          if (errorData['details']['hint'] != null) {
            throw Exception('${errorData['error']} - ${errorData['details']['hint']}');
          }
```

**errorErrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:300:29`
- ğŸ“ Original: `'${errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Detailliertere Fehlerbehandlung
        if (errorData['details'] != null) {
          if (errorData['details']['hint'] != null) {
            throw Exception('${errorData['error']} - ${errorData['details']['hint']}');
          }
        }
```

**errorErrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:300:48`
- ğŸ“ Original: `']} - ${errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Detailliertere Fehlerbehandlung
        if (errorData['details'] != null) {
          if (errorData['details']['hint'] != null) {
            throw Exception('${errorData['error']} - ${errorData['details']['hint']}');
          }
        }
```

**errorThrowExceptionerrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:300:85`
- ğŸ“ Original: `');
          }
        }
        
        throw Exception(errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Detailliertere Fehlerbehandlung
        if (errorData['details'] != null) {
          if (errorData['details']['hint'] != null) {
            throw Exception('${errorData['error']} - ${errorData['details']['hint']}');
          }
        }
```

**errorErrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:304:41`
- ğŸ“ Original: `'] ?? errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        }
        
        throw Exception(errorData['error'] ?? errorData['message'] ?? 'Registrierung fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.logAuthEvent('register_error', username: username, metadata: {
```

**errorRegistrierungFehlgeschlagen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:304:71`
- ğŸ“ Original: `'Registrierung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        }
        
        throw Exception(errorData['error'] ?? errorData['message'] ?? 'Registrierung fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.logAuthEvent('register_error', username: username, metadata: {
```

**errorEmailRethrowErweitertes** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:309:15`
- ğŸ“ Original: `': email,
      });
      rethrow;
    }
  }

  // Erweitertes Logout mit Server-Call und vollstÃ¤ndigem Cleanup
  Future<void> logout() async {
    final username = _currentUser?.username ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      AppLogger.logAuthEvent('register_error', username: username, metadata: {
        'error': e.toString(),
        'email': email,
      });
      rethrow;
    }
```

**errorUsernameUsernameMetadata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:330:55`
- ğŸ“ Original: `', username: username, metadata: {
            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('server_logout_success', username: username);
        } catch (e) {
          // Server-Logout fehlgeschlagen, trotzdem lokal ausloggen
          AppLogger.logAuthEvent('server_logout_failed', username: username, metadata: {
            'error': e.toString(),
          });
        }
```

**errorEtostringLokalesCleanup** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:331:19`
- ğŸ“ Original: `': e.toString(),
          });
        }
      }
      
      // Lokales Cleanup
      await TokenStorage.clearTokens();
      _currentUser = null;
      _apiService.clearToken();
      isAuthenticated.value = false; // Reaktiven Status setzen
      
      AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
          // Server-Logout fehlgeschlagen, trotzdem lokal ausloggen
          AppLogger.logAuthEvent('server_logout_failed', username: username, metadata: {
            'error': e.toString(),
          });
        }
      }
```

**errorUsernameUsernameCatch** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:342:45`
- ğŸ“ Original: `', username: username);
    } catch (e) {
      AppLogger.auth.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_apiService.clearToken();
      isAuthenticated.value = false; // Reaktiven Status setzen
      
      AppLogger.logAuthEvent('logout_success', username: username);
    } catch (e) {
      AppLogger.auth.e('âŒ Logout-Fehler', error: e);
    }
```

**errorErrorERatelimited** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:344:40`
- ğŸ“ Original: `', error: e);
    }
  }

  // Rate-Limited Token-Refresh mit parallelem Schutz
  Future<bool> refreshTokenIfNeeded() async {
    if (_refreshing) {
      // Warten bis aktueller Refresh abgeschlossen ist
      while (_refreshing) {
        await Future.delayed(const Duration(milliseconds: 100));
      }
      return true; // Annahme: Refresh war erfolgreich
    }

    _refreshing = true;
    try {
      final refreshToken = await TokenStorage.getRefreshToken();
      if (refreshToken == null) {
        await logout();
        return false;
      }

      // Refresh-Token Format validieren
      if (!_isValidJWT(refreshToken)) {
        await logout();
        return false;
      }

      // Refresh-Token Ablauf prÃ¼fen
      final refreshExp = _getTokenExpiration(refreshToken);
      if (refreshExp == null || refreshExp.isBefore(DateTime.now())) {
        await logout();
        return false;
      }

      _apiService.setToken(refreshToken);
      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logAuthEvent('logout_success', username: username);
    } catch (e) {
      AppLogger.auth.e('âŒ Logout-Fehler', error: e);
    }
  }
```

**errorCatchEApploggerauthe** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:430:51`
- ğŸ“ Original: `');
      }
    } catch (e) {
      AppLogger.auth.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await logout();
        return null;
      } else {
        throw Exception('Failed to fetch user data');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Fehler beim Laden des aktuellen Users', error: e);
```

**errorErrorEReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:433:64`
- ğŸ“ Original: `', error: e);
      return null;
    }
  }

  // Konsistente Token-Speicherung und API-Service-Update
  Future<void> _saveTokensAndUpdateService(String accessToken, String refreshToken) async {
    await TokenStorage.saveTokens(accessToken, refreshToken);
    _apiService.setToken(accessToken);
  }

  Future<User?> loadStoredUser() async {
    try {
      final userDataString = await TokenStorage.getUserData();
      final accessToken = await TokenStorage.getAccessToken();
      
      if (userDataString != null && accessToken != null) {
        final userData = jsonDecode(userDataString);
        _currentUser = User.fromJson(userData);
        _apiService.setToken(accessToken);
        // isAuthenticated.value wird vom Aufrufer gesetzt, nicht hier
        return _currentUser;
      }
    } catch (e) {
      AppLogger.auth.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Failed to fetch user data');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Fehler beim Laden des aktuellen Users', error: e);
      return null;
    }
  }
```

**errorErrorEReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:457:68`
- ğŸ“ Original: `', error: e);
    }
    return null;
  }

  Future<String?> getCurrentAccessToken() async {
    return await TokenStorage.getAccessToken();
  }

  // Passwort-Reset anfordern
  Future<bool> requestPasswordReset(String email) async {
    try {
      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return _currentUser;
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Fehler beim Laden des gespeicherten Users', error: e);
    }
    return null;
  }
```

**errorReturnTrueElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:474:55`
- ğŸ“ Original: `');
        return true;
      } else {
        final errorData = jsonDecode(response.body);
        throw Exception(errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});

      if (response.statusCode == 200) {
        AppLogger.auth.i('âœ… Password-Reset angefordert');
        return true;
      } else {
        final errorData = jsonDecode(response.body);
```

**errorPasswortresetAnfrageFehlgeschlagen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:478:49`
- ğŸ“ Original: `'Passwort-Reset Anfrage fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return true;
      } else {
        final errorData = jsonDecode(response.body);
        throw Exception(errorData['message'] ?? 'Passwort-Reset Anfrage fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset Anfrage fehlgeschlagen', error: e);
```

**errorPasswordresetAnfrageFehlgeschlagen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:481:24`
- ğŸ“ Original: `'âŒ Password-Reset Anfrage fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorData['message'] ?? 'Passwort-Reset Anfrage fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset Anfrage fehlgeschlagen', error: e);
      rethrow;
    }
  }
```

**errorPasswordresetWirdVersucht** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:489:24`
- ğŸ“ Original: `'ğŸ”„ Password-Reset wird versucht'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Passwort zurÃ¼cksetzen mit Token
  Future<bool> resetPassword(String token, String newPassword) async {
    try {
      AppLogger.auth.i('ğŸ”„ Password-Reset wird versucht', error: {'tokenPreview': token.substring(0, 8) + '...'});
      
      final response = await _apiService.post('/auth/reset-password', {
        'token': token,
```

**errorFinalResponseAwait** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:489:110`
- ğŸ“ Original: `'});
      
      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Passwort zurÃ¼cksetzen mit Token
  Future<bool> resetPassword(String token, String newPassword) async {
    try {
      AppLogger.auth.i('ğŸ”„ Password-Reset wird versucht', error: {'tokenPreview': token.substring(0, 8) + '...'});
      
      final response = await _apiService.post('/auth/reset-password', {
        'token': token,
```

**errorReturnTrueElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:497:63`
- ğŸ“ Original: `');
        return true;
      } else {
        final errorData = jsonDecode(response.body);
        AppLogger.auth.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});

      if (response.statusCode == 200) {
        AppLogger.auth.i('âœ… Password erfolgreich zurÃ¼ckgesetzt');
        return true;
      } else {
        final errorData = jsonDecode(response.body);
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:501:54`
- ğŸ“ Original: `', error: {
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return true;
      } else {
        final errorData = jsonDecode(response.body);
        AppLogger.auth.w('âŒ Password-Reset API-Fehler', error: {
          'statusCode': response.statusCode,
          'response': errorData
        });
```

**errorResponsestatuscode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:502:22`
- ğŸ“ Original: `': response.statusCode,
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else {
        final errorData = jsonDecode(response.body);
        AppLogger.auth.w('âŒ Password-Reset API-Fehler', error: {
          'statusCode': response.statusCode,
          'response': errorData
        });
        throw Exception(errorData['error'] ?? errorData['message'] ?? 'Passwort-ZurÃ¼cksetzung fehlgeschlagen');
```

**errorErrordataThrowExceptionerrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:503:20`
- ğŸ“ Original: `': errorData
        });
        throw Exception(errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final errorData = jsonDecode(response.body);
        AppLogger.auth.w('âŒ Password-Reset API-Fehler', error: {
          'statusCode': response.statusCode,
          'response': errorData
        });
        throw Exception(errorData['error'] ?? errorData['message'] ?? 'Passwort-ZurÃ¼cksetzung fehlgeschlagen');
      }
```

**errorErrordata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:505:41`
- ğŸ“ Original: `'] ?? errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'statusCode': response.statusCode,
          'response': errorData
        });
        throw Exception(errorData['error'] ?? errorData['message'] ?? 'Passwort-ZurÃ¼cksetzung fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset fehlgeschlagen', error: e);
```

**errorPasswortzurÃ¼cksetzungFehlgeschlagen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:505:71`
- ğŸ“ Original: `'Passwort-ZurÃ¼cksetzung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'statusCode': response.statusCode,
          'response': errorData
        });
        throw Exception(errorData['error'] ?? errorData['message'] ?? 'Passwort-ZurÃ¼cksetzung fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset fehlgeschlagen', error: e);
```

**errorPasswordresetFehlgeschlagen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:508:24`
- ğŸ“ Original: `'âŒ Password-Reset fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorData['error'] ?? errorData['message'] ?? 'Passwort-ZurÃ¼cksetzung fehlgeschlagen');
      }
    } catch (e) {
      AppLogger.auth.e('âŒ Password-Reset fehlgeschlagen', error: e);
      rethrow;
    }
  }
```

**errorIfErrorcodeNull** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:68:57`
- ğŸ“ Original: `';
    
    if (errorCode != null) {
      switch (errorCode) {
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Strukturierte Fehlerbehandlung mit Error-Codes
  InviteErrorCode _parseErrorCode(Map<String, dynamic> errorData) {
    final errorCode = errorData['errorCode'] as String?;
    final message = errorData['message'] as String? ?? '';
    
    if (errorCode != null) {
      switch (errorCode) {
```

**errorReturnInviteerrorcodeinvitealreadysentCase** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:72:34`
- ğŸ“ Original: `':
          return InviteErrorCode.inviteAlreadySent;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (errorCode != null) {
      switch (errorCode) {
        case 'INVITE_ALREADY_SENT':
          return InviteErrorCode.inviteAlreadySent;
        case 'PERMISSION_DENIED':
          return InviteErrorCode.permissionDenied;
```

**errorReturnInviteerrorcodepermissiondeniedCase** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:74:32`
- ğŸ“ Original: `':
          return InviteErrorCode.permissionDenied;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
switch (errorCode) {
        case 'INVITE_ALREADY_SENT':
          return InviteErrorCode.inviteAlreadySent;
        case 'PERMISSION_DENIED':
          return InviteErrorCode.permissionDenied;
        case 'WORLD_NOT_FOUND':
          return InviteErrorCode.worldNotFound;
```

**errorReturnInviteerrorcodeworldnotfoundCase** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:76:30`
- ğŸ“ Original: `':
          return InviteErrorCode.worldNotFound;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return InviteErrorCode.inviteAlreadySent;
        case 'PERMISSION_DENIED':
          return InviteErrorCode.permissionDenied;
        case 'WORLD_NOT_FOUND':
          return InviteErrorCode.worldNotFound;
        case 'WORLD_NOT_OPEN':
          return InviteErrorCode.worldNotOpen;
```

**errorReturnInviteerrorcodeworldnotopenCase** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:78:29`
- ğŸ“ Original: `':
          return InviteErrorCode.worldNotOpen;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return InviteErrorCode.permissionDenied;
        case 'WORLD_NOT_FOUND':
          return InviteErrorCode.worldNotFound;
        case 'WORLD_NOT_OPEN':
          return InviteErrorCode.worldNotOpen;
        case 'INVALID_EMAIL':
          return InviteErrorCode.invalidEmail;
```

**errorReturnInviteerrorcodeinvalidemailDefault** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:80:28`
- ğŸ“ Original: `':
          return InviteErrorCode.invalidEmail;
        default:
          return InviteErrorCode.unknown;
      }
    }
    
    // Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return InviteErrorCode.worldNotFound;
        case 'WORLD_NOT_OPEN':
          return InviteErrorCode.worldNotOpen;
        case 'INVALID_EMAIL':
          return InviteErrorCode.invalidEmail;
        default:
          return InviteErrorCode.unknown;
```

**errorReturnInviteerrorcodeinvitealreadysentElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:88:49`
- ğŸ“ Original: `')) {
      return InviteErrorCode.inviteAlreadySent;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
    
    // Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('bereits eine Einladung')) {
      return InviteErrorCode.inviteAlreadySent;
    } else if (message.contains('Berechtigung')) {
      return InviteErrorCode.permissionDenied;
```

**errorReturnInviteerrorcodepermissiondeniedElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:90:46`
- ğŸ“ Original: `')) {
      return InviteErrorCode.permissionDenied;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('bereits eine Einladung')) {
      return InviteErrorCode.inviteAlreadySent;
    } else if (message.contains('Berechtigung')) {
      return InviteErrorCode.permissionDenied;
    } else if (message.contains('nicht gefunden')) {
      return InviteErrorCode.worldNotFound;
```

**errorReturnInviteerrorcodeworldnotfoundElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:92:48`
- ğŸ“ Original: `')) {
      return InviteErrorCode.worldNotFound;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return InviteErrorCode.inviteAlreadySent;
    } else if (message.contains('Berechtigung')) {
      return InviteErrorCode.permissionDenied;
    } else if (message.contains('nicht gefunden')) {
      return InviteErrorCode.worldNotFound;
    } else if (message.contains('nicht geÃ¶ffnet')) {
      return InviteErrorCode.worldNotOpen;
```

**errorReturnInviteerrorcodeworldnotopenElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:94:48`
- ğŸ“ Original: `')) {
      return InviteErrorCode.worldNotOpen;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return InviteErrorCode.permissionDenied;
    } else if (message.contains('nicht gefunden')) {
      return InviteErrorCode.worldNotFound;
    } else if (message.contains('nicht geÃ¶ffnet')) {
      return InviteErrorCode.worldNotOpen;
    } else if (message.contains('E-Mail')) {
      return InviteErrorCode.invalidEmail;
```

**errorReturnInviteerrorcodeinvalidemailReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:96:40`
- ğŸ“ Original: `')) {
      return InviteErrorCode.invalidEmail;
    }
    
    return InviteErrorCode.unknown;
  }

  // Benutzerfreundliche Fehlermeldungen basierend auf Error-Codes
  String _getErrorMessage(InviteErrorCode errorCode, String? originalMessage) {
    switch (errorCode) {
      case InviteErrorCode.inviteAlreadySent:
        return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return InviteErrorCode.worldNotFound;
    } else if (message.contains('nicht geÃ¶ffnet')) {
      return InviteErrorCode.worldNotOpen;
    } else if (message.contains('E-Mail')) {
      return InviteErrorCode.invalidEmail;
    }
```

**errorCaseInviteerrorcodepermissiondeniedReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:107:73`
- ğŸ“ Original: `';
      case InviteErrorCode.permissionDenied:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
String _getErrorMessage(InviteErrorCode errorCode, String? originalMessage) {
    switch (errorCode) {
      case InviteErrorCode.inviteAlreadySent:
        return 'Diese E-Mail-Adresse hat bereits eine Einladung erhalten';
      case InviteErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung, Einladungen zu versenden';
      case InviteErrorCode.worldNotFound:
```

**errorCaseInviteerrorcodeworldnotfoundReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:109:69`
- ğŸ“ Original: `';
      case InviteErrorCode.worldNotFound:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.inviteAlreadySent:
        return 'Diese E-Mail-Adresse hat bereits eine Einladung erhalten';
      case InviteErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung, Einladungen zu versenden';
      case InviteErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case InviteErrorCode.worldNotOpen:
```

**errorCaseInviteerrorcodeworldnotopenReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:111:36`
- ğŸ“ Original: `';
      case InviteErrorCode.worldNotOpen:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung, Einladungen zu versenden';
      case InviteErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case InviteErrorCode.worldNotOpen:
        return 'Diese Welt ist nicht fÃ¼r Einladungen geÃ¶ffnet';
      case InviteErrorCode.invalidEmail:
```

**errorCaseInviteerrorcodeinvalidemailReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:113:62`
- ğŸ“ Original: `';
      case InviteErrorCode.invalidEmail:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case InviteErrorCode.worldNotOpen:
        return 'Diese Welt ist nicht fÃ¼r Einladungen geÃ¶ffnet';
      case InviteErrorCode.invalidEmail:
        return 'UngÃ¼ltige E-Mail-Adresse';
      case InviteErrorCode.networkError:
```

**errorCaseInviteerrorcodenetworkerrorReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:115:41`
- ğŸ“ Original: `';
      case InviteErrorCode.networkError:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.worldNotOpen:
        return 'Diese Welt ist nicht fÃ¼r Einladungen geÃ¶ffnet';
      case InviteErrorCode.invalidEmail:
        return 'UngÃ¼ltige E-Mail-Adresse';
      case InviteErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case InviteErrorCode.unknown:
```

**errorCaseInviteerrorcodeunknownReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:117:58`
- ğŸ“ Original: `';
      case InviteErrorCode.unknown:
        return originalMessage ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.invalidEmail:
        return 'UngÃ¼ltige E-Mail-Adresse';
      case InviteErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case InviteErrorCode.unknown:
        return originalMessage ?? 'Einladung fehlgeschlagen';
    }
```

**errorFutureboolCreateinviteintWorldid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:119:60`
- ğŸ“ Original: `';
    }
  }

  Future<bool> createInvite(int worldId, String email) async {
    try {
      final data = <String, dynamic>{
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case InviteErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case InviteErrorCode.unknown:
        return originalMessage ?? 'Einladung fehlgeschlagen';
    }
  }
```

**errorTrueElseStrukturierte** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:133:37`
- ğŸ“ Original: `'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return responseData['success'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
```

**errorThrowExceptionerrormessageOn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:138:76`
- ğŸ“ Original: `']);
        throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['message']);
        throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
```

**errorOnSocketexceptionThrow** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:142:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } catch (e) {
      // Fallback fÃ¼r unbekannte Fehler
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFutureboolCreatepublicinviteintWorldid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:152:52`
- ğŸ“ Original: `');
    }
  }

  Future<bool> createPublicInvite(int worldId, String email) async {
    try {
      final data = <String, dynamic>{
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Einladung fehlgeschlagen: $e');
    }
  }
```

**errorThrowExceptionerrormessageElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:170:76`
- ğŸ“ Original: `']);
        throw Exception(errorMessage);
      } else {
        throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Konsistente Fehlerbehandlung wie createInvite
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['message']);
        throw Exception(errorMessage);
      } else {
        throw Exception('Ã–ffentliche Einladung fehlgeschlagen: ${response.statusCode}');
```

**errorOnFormatexceptionCatch** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:173:86`
- ğŸ“ Original: `');
      }
    } on FormatException catch (e) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final errorMessage = _getErrorMessage(errorCode, errorData['message']);
        throw Exception(errorMessage);
      } else {
        throw Exception('Ã–ffentliche Einladung fehlgeschlagen: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorOnSocketexceptionThrow** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:176:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Ã–ffentliche Einladung fehlgeschlagen: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFuturelistinviteGetinvitesintWorldid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:185:64`
- ğŸ“ Original: `');
    }
  }

  Future<List<Invite>> getInvites(int worldId) async {
    try {
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Ã–ffentliche Einladung fehlgeschlagen: $e');
    }
  }
```

**errorOnFormatexceptionCatch** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:197:90`
- ğŸ“ Original: `');
      }
    } on FormatException catch (e) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final List<dynamic> invitesJson = jsonDecode(response.body);
        return invitesJson.map((json) => Invite.fromJson(json as Map<String, dynamic>)).toList();
      } else {
        throw Exception('Einladungen konnten nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorOnSocketexceptionThrow** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:200:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Einladungen konnten nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
```

**errorBackwardskompatibilitÃ¤tAlteMethode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:209:68`
- ğŸ“ Original: `');
    }
  }

  // Backwards-KompatibilitÃ¤t: Alte Methode mit Map-RÃ¼ckgabe
  Future<List<Map<String, dynamic>>> getInvitesAsMap(int worldId) async {
    final invites = await getInvites(worldId);
    return invites.map((invite) => invite.toJson()).toList();
  }

  Future<bool> deleteInvite(int worldId, int inviteId, {String? token}) async {
    try {
      if (token != null) {
        final data = <String, dynamic>{
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Einladungen konnten nicht geladen werden: $e');
    }
  }
```

**errorReturnResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:228:86`
- ğŸ“ Original: `');
        return response.statusCode == 200;
      }
    } on FormatException catch (e) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final response = await _apiService.deleteWithBody('/worlds/$worldId/invites/$inviteId', data);
        return response.statusCode == 200;
      } else {
        final response = await _apiService.delete('/worlds/$worldId/invites/$inviteId');
        return response.statusCode == 200;
      }
    } on FormatException catch (e) {
```

**errorOnSocketexceptionThrow** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:232:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return response.statusCode == 200;
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(InviteErrorCode.networkError, null));
    } on http.ClientException {
```

**errorIfErrorcodeNull** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:68:90`
- ğŸ“ Original: `';
    
    if (errorCode != null) {
      switch (errorCode) {
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Strukturierte Fehlerbehandlung mit Error-Codes
  WorldErrorCode _parseErrorCode(Map<String, dynamic> errorData) {
    final errorCode = errorData['errorCode'] as String?;
    final message = errorData['error'] as String? ?? errorData['message'] as String? ?? '';
    
    if (errorCode != null) {
      switch (errorCode) {
```

**errorReturnWorlderrorcodeworldnotfoundCase** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:72:30`
- ğŸ“ Original: `':
          return WorldErrorCode.worldNotFound;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (errorCode != null) {
      switch (errorCode) {
        case 'WORLD_NOT_FOUND':
          return WorldErrorCode.worldNotFound;
        case 'PERMISSION_DENIED':
          return WorldErrorCode.permissionDenied;
```

**errorReturnWorlderrorcodepermissiondeniedCase** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:74:32`
- ğŸ“ Original: `':
          return WorldErrorCode.permissionDenied;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
switch (errorCode) {
        case 'WORLD_NOT_FOUND':
          return WorldErrorCode.worldNotFound;
        case 'PERMISSION_DENIED':
          return WorldErrorCode.permissionDenied;
        case 'WORLD_ARCHIVED':
          return WorldErrorCode.worldArchived;
```

**errorReturnWorlderrorcodeworldarchivedCase** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:76:29`
- ğŸ“ Original: `':
          return WorldErrorCode.worldArchived;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.worldNotFound;
        case 'PERMISSION_DENIED':
          return WorldErrorCode.permissionDenied;
        case 'WORLD_ARCHIVED':
          return WorldErrorCode.worldArchived;
        case 'ALREADY_REGISTERED':
          return WorldErrorCode.alreadyRegistered;
```

**errorReturnWorlderrorcodealreadyregisteredCase** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:78:33`
- ğŸ“ Original: `':
          return WorldErrorCode.alreadyRegistered;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.permissionDenied;
        case 'WORLD_ARCHIVED':
          return WorldErrorCode.worldArchived;
        case 'ALREADY_REGISTERED':
          return WorldErrorCode.alreadyRegistered;
        case 'ALREADY_PRE_REGISTERED':
          return WorldErrorCode.alreadyPreRegistered;
```

**errorReturnWorlderrorcodealreadypreregisteredCase** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:80:37`
- ğŸ“ Original: `':
          return WorldErrorCode.alreadyPreRegistered;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.worldArchived;
        case 'ALREADY_REGISTERED':
          return WorldErrorCode.alreadyRegistered;
        case 'ALREADY_PRE_REGISTERED':
          return WorldErrorCode.alreadyPreRegistered;
        case 'PRE_REGISTRATION_CLOSED':
          return WorldErrorCode.preRegistrationClosed;
```

**errorReturnWorlderrorcodepreregistrationclosedCase** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:82:38`
- ğŸ“ Original: `':
          return WorldErrorCode.preRegistrationClosed;
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.alreadyRegistered;
        case 'ALREADY_PRE_REGISTERED':
          return WorldErrorCode.alreadyPreRegistered;
        case 'PRE_REGISTRATION_CLOSED':
          return WorldErrorCode.preRegistrationClosed;
        case 'NOT_AUTHENTICATED':
          return WorldErrorCode.notAuthenticated;
```

**errorReturnWorlderrorcodenotauthenticatedDefault** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:84:32`
- ğŸ“ Original: `':
          return WorldErrorCode.notAuthenticated;
        default:
          return WorldErrorCode.unknown;
      }
    }
    
    // Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.alreadyPreRegistered;
        case 'PRE_REGISTRATION_CLOSED':
          return WorldErrorCode.preRegistrationClosed;
        case 'NOT_AUTHENTICATED':
          return WorldErrorCode.notAuthenticated;
        default:
          return WorldErrorCode.unknown;
```

**errorReturnWorlderrorcodeworldnotfoundElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:92:41`
- ğŸ“ Original: `')) {
      return WorldErrorCode.worldNotFound;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
    
    // Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('nicht gefunden')) {
      return WorldErrorCode.worldNotFound;
    } else if (message.contains('Berechtigung')) {
      return WorldErrorCode.permissionDenied;
```

**errorReturnWorlderrorcodepermissiondeniedElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:94:46`
- ğŸ“ Original: `')) {
      return WorldErrorCode.permissionDenied;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Fallback: Text-basierte Erkennung (fÃ¼r Backwards-KompatibilitÃ¤t)
    if (message.contains('nicht gefunden')) {
      return WorldErrorCode.worldNotFound;
    } else if (message.contains('Berechtigung')) {
      return WorldErrorCode.permissionDenied;
    } else if (message.contains('archiviert')) {
      return WorldErrorCode.worldArchived;
```

**errorReturnWorlderrorcodeworldarchivedElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:96:44`
- ğŸ“ Original: `')) {
      return WorldErrorCode.worldArchived;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return WorldErrorCode.worldNotFound;
    } else if (message.contains('Berechtigung')) {
      return WorldErrorCode.permissionDenied;
    } else if (message.contains('archiviert')) {
      return WorldErrorCode.worldArchived;
    } else if (message.contains('bereits registriert')) {
      return WorldErrorCode.alreadyRegistered;
```

**errorReturnWorlderrorcodealreadyregisteredElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:98:53`
- ğŸ“ Original: `')) {
      return WorldErrorCode.alreadyRegistered;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return WorldErrorCode.permissionDenied;
    } else if (message.contains('archiviert')) {
      return WorldErrorCode.worldArchived;
    } else if (message.contains('bereits registriert')) {
      return WorldErrorCode.alreadyRegistered;
    } else if (message.contains('bereits vorregistriert')) {
      return WorldErrorCode.alreadyPreRegistered;
```

**errorReturnWorlderrorcodealreadypreregisteredElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:100:56`
- ğŸ“ Original: `')) {
      return WorldErrorCode.alreadyPreRegistered;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return WorldErrorCode.worldArchived;
    } else if (message.contains('bereits registriert')) {
      return WorldErrorCode.alreadyRegistered;
    } else if (message.contains('bereits vorregistriert')) {
      return WorldErrorCode.alreadyPreRegistered;
    } else if (message.contains('geschlossen')) {
      return WorldErrorCode.preRegistrationClosed;
```

**errorReturnWorlderrorcodepreregistrationclosedElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:102:45`
- ğŸ“ Original: `')) {
      return WorldErrorCode.preRegistrationClosed;
    } else if (message.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.alreadyRegistered;
    } else if (message.contains('bereits vorregistriert')) {
      return WorldErrorCode.alreadyPreRegistered;
    } else if (message.contains('geschlossen')) {
      return WorldErrorCode.preRegistrationClosed;
    } else if (message.contains('angemeldet')) {
      return WorldErrorCode.notAuthenticated;
```

**errorReturnWorlderrorcodenotauthenticatedReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:104:44`
- ğŸ“ Original: `')) {
      return WorldErrorCode.notAuthenticated;
    }
    
    return WorldErrorCode.unknown;
  }

  // Benutzerfreundliche Fehlermeldungen basierend auf Error-Codes
  String _getErrorMessage(WorldErrorCode errorCode, String? originalMessage) {
    switch (errorCode) {
      case WorldErrorCode.worldNotFound:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldErrorCode.alreadyPreRegistered;
    } else if (message.contains('geschlossen')) {
      return WorldErrorCode.preRegistrationClosed;
    } else if (message.contains('angemeldet')) {
      return WorldErrorCode.notAuthenticated;
    }
```

**errorCaseWorlderrorcodepermissiondeniedReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:115:36`
- ğŸ“ Original: `';
      case WorldErrorCode.permissionDenied:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
String _getErrorMessage(WorldErrorCode errorCode, String? originalMessage) {
    switch (errorCode) {
      case WorldErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case WorldErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung fÃ¼r diese Aktion';
      case WorldErrorCode.worldArchived:
```

**errorCaseWorlderrorcodeworldarchivedReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:117:60`
- ğŸ“ Original: `';
      case WorldErrorCode.worldArchived:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.worldNotFound:
        return 'Welt nicht gefunden';
      case WorldErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung fÃ¼r diese Aktion';
      case WorldErrorCode.worldArchived:
        return 'Diese Welt ist nicht mehr verfÃ¼gbar';
      case WorldErrorCode.alreadyRegistered:
```

**errorCaseWorlderrorcodealreadyregisteredReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:119:52`
- ğŸ“ Original: `';
      case WorldErrorCode.alreadyRegistered:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.permissionDenied:
        return 'Du hast keine Berechtigung fÃ¼r diese Aktion';
      case WorldErrorCode.worldArchived:
        return 'Diese Welt ist nicht mehr verfÃ¼gbar';
      case WorldErrorCode.alreadyRegistered:
        return 'Du bist bereits Mitglied dieser Welt';
      case WorldErrorCode.alreadyPreRegistered:
```

**errorCaseWorlderrorcodealreadypreregisteredReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:121:53`
- ğŸ“ Original: `';
      case WorldErrorCode.alreadyPreRegistered:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.worldArchived:
        return 'Diese Welt ist nicht mehr verfÃ¼gbar';
      case WorldErrorCode.alreadyRegistered:
        return 'Du bist bereits Mitglied dieser Welt';
      case WorldErrorCode.alreadyPreRegistered:
        return 'Du bist bereits fÃ¼r diese Welt vorregistriert';
      case WorldErrorCode.preRegistrationClosed:
```

**errorCaseWorlderrorcodepreregistrationclosedReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:123:62`
- ğŸ“ Original: `';
      case WorldErrorCode.preRegistrationClosed:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.alreadyRegistered:
        return 'Du bist bereits Mitglied dieser Welt';
      case WorldErrorCode.alreadyPreRegistered:
        return 'Du bist bereits fÃ¼r diese Welt vorregistriert';
      case WorldErrorCode.preRegistrationClosed:
        return 'Vorregistrierung fÃ¼r diese Welt ist nicht mÃ¶glich';
      case WorldErrorCode.notAuthenticated:
```

**errorCaseWorlderrorcodenotauthenticatedReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:125:66`
- ğŸ“ Original: `';
      case WorldErrorCode.notAuthenticated:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.alreadyPreRegistered:
        return 'Du bist bereits fÃ¼r diese Welt vorregistriert';
      case WorldErrorCode.preRegistrationClosed:
        return 'Vorregistrierung fÃ¼r diese Welt ist nicht mÃ¶glich';
      case WorldErrorCode.notAuthenticated:
        return 'Du musst angemeldet sein';
      case WorldErrorCode.networkError:
```

**errorCaseWorlderrorcodenetworkerrorReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:127:41`
- ğŸ“ Original: `';
      case WorldErrorCode.networkError:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.preRegistrationClosed:
        return 'Vorregistrierung fÃ¼r diese Welt ist nicht mÃ¶glich';
      case WorldErrorCode.notAuthenticated:
        return 'Du musst angemeldet sein';
      case WorldErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case WorldErrorCode.unknown:
```

**errorCaseWorlderrorcodeunknownReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:129:58`
- ğŸ“ Original: `';
      case WorldErrorCode.unknown:
        return originalMessage ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.notAuthenticated:
        return 'Du musst angemeldet sein';
      case WorldErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case WorldErrorCode.unknown:
        return originalMessage ?? 'Aktion fehlgeschlagen';
    }
```

**errorFuturelistworldGetworldsAsync** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:131:57`
- ğŸ“ Original: `';
    }
  }

  Future<List<World>> getWorlds() async {
    try {
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldErrorCode.networkError:
        return 'Netzwerkfehler - bitte versuche es erneut';
      case WorldErrorCode.unknown:
        return originalMessage ?? 'Aktion fehlgeschlagen';
    }
  }
```

**errorOnFormatexceptionCatch** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:143:85`
- ğŸ“ Original: `');
      }
    } on FormatException catch (e) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final List<dynamic> worldsJson = jsonDecode(response.body);
        return worldsJson.map((json) => World.fromJson(json)).toList();
      } else {
        throw Exception('Welten konnten nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorOnSocketexceptionThrow** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:146:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Welten konnten nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFutureworldGetworldintWorldid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:155:63`
- ğŸ“ Original: `');
    }
  }

  Future<World> getWorld(int worldId) async {
    try {
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Welten konnten nicht geladen werden: $e');
    }
  }
```

**errorOnFormatexceptionCatch** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:167:82`
- ğŸ“ Original: `');
      }
    } on FormatException catch (e) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final worldJson = jsonDecode(response.body);
        return World.fromJson(worldJson);
      } else {
        throw Exception('Welt konnte nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
```

**errorOnSocketexceptionThrow** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:170:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Welt konnte nicht geladen werden: ${response.statusCode}');
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFutureboolJoinworldintWorldid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:179:60`
- ğŸ“ Original: `');
    }
  }

  Future<bool> joinWorld(int worldId) async {
    try {
      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Welt konnte nicht geladen werden: $e');
    }
  }
```

**errorTrueElseStrukturierte** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:189:37`
- ğŸ“ Original: `'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return responseData['success'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
```

**errorThrowExceptionerrormessageOn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:194:74`
- ğŸ“ Original: `']);
        throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['error']);
        throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
```

**errorOnSocketexceptionThrow** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:198:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFutureboolPreregisterworldintWorldid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:207:51`
- ğŸ“ Original: `');
    }
  }

  Future<bool> preRegisterWorld(int worldId, String email, {Map<String, dynamic>? config}) async {
    try {
      final data = <String, dynamic>{
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Beitritt fehlgeschlagen: $e');
    }
  }
```

**errorTrueElseStrukturierte** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:224:37`
- ğŸ“ Original: `'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return responseData['success'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
```

**errorThrowExceptionerrormessageOn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:229:74`
- ğŸ“ Original: `']);
        throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['error']);
        throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
```

**errorOnSocketexceptionThrow** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:233:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFutureboolPreregisterworldauthenticatedintWorldid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:242:59`
- ğŸ“ Original: `');
    }
  }

  Future<bool> preRegisterWorldAuthenticated(int worldId, {Map<String, dynamic>? config}) async {
    try {
      final currentUser = _authService.currentUser;
      if (currentUser == null) {
        throw Exception(_getErrorMessage(WorldErrorCode.notAuthenticated, null));
      }

      final data = <String, dynamic>{
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Vorregistrierung fehlgeschlagen: $e');
    }
  }
```

**errorTrueElseStrukturierte** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:264:37`
- ğŸ“ Original: `'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return responseData['success'] == true;
      } else {
        // Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
```

**errorThrowExceptionerrormessageOn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:269:74`
- ğŸ“ Original: `']);
        throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Strukturierte Fehlerbehandlung
        final errorData = jsonDecode(response.body);
        final errorCode = _parseErrorCode(errorData);
        final errorMessage = _getErrorMessage(errorCode, errorData['error']);
        throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
```

**errorOnSocketexceptionThrow** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:273:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception(errorMessage);
      }
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFutureboolCancelpreregistrationintWorldid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:282:59`
- ğŸ“ Original: `');
    }
  }

  Future<bool> cancelPreRegistration(int worldId, String email) async {
    try {
      final response = await _apiService.delete('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Vorregistrierung fehlgeschlagen: $e');
    }
  }
```

**errorReturnResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:288:92`
- ğŸ“ Original: `');
      
      return response.statusCode == 200;
    } on FormatException catch (e) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<bool> cancelPreRegistration(int worldId, String email) async {
    try {
      final response = await _apiService.delete('/worlds/$worldId/pre-register?email=$email');
      
      return response.statusCode == 200;
    } on FormatException catch (e) {
```

**errorOnSocketexceptionThrow** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:292:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return response.statusCode == 200;
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFutureboolCancelpreregistrationauthenticatedintWorldid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:301:74`
- ğŸ“ Original: `');
    }
  }

  Future<bool> cancelPreRegistrationAuthenticated(int worldId) async {
    try {
      final currentUser = _authService.currentUser;
      if (currentUser == null) {
        throw Exception(_getErrorMessage(WorldErrorCode.notAuthenticated, null));
      }

      return await cancelPreRegistration(worldId, currentUser.email);
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Vorregistrierung konnte nicht storniert werden: $e');
    }
  }
```

**errorFutureboolLeaveworldintWorldid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:317:74`
- ğŸ“ Original: `');
    }
  }

  Future<bool> leaveWorld(int worldId) async {
    try {
      final response = await _apiService.delete('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Vorregistrierung konnte nicht storniert werden: $e');
    }
  }
```

**errorReturnResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:323:77`
- ğŸ“ Original: `');
      
      return response.statusCode == 200;
    } on FormatException catch (e) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<bool> leaveWorld(int worldId) async {
    try {
      final response = await _apiService.delete('/worlds/$worldId/players/me');
      
      return response.statusCode == 200;
    } on FormatException catch (e) {
```

**errorOnSocketexceptionThrow** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:327:52`
- ğŸ“ Original: `');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } catch (e) {
      if (e is Exception) {
        rethrow;
      }
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return response.statusCode == 200;
    } on FormatException catch (e) {
      throw Exception('UngÃ¼ltige Server-Antwort: $e');
    } on SocketException {
      throw Exception(_getErrorMessage(WorldErrorCode.networkError, null));
    } on http.ClientException {
```

**errorFutureboolIsplayerinworldintWorldid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:336:62`
- ğŸ“ Original: `');
    }
  }

  Future<bool> isPlayerInWorld(int worldId) async {
    try {
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e is Exception) {
        rethrow;
      }
      throw Exception('Welt konnte nicht verlassen werden: $e');
    }
  }
```

**errorTLogThis** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:364:13`
- ğŸ“ Original: `'t log this as an error
      return PreRegistrationStatus(isPreRegistered: false);
    }
  }

  // Backwards-KompatibilitÃ¤t: Alte Methode mit bool-RÃ¼ckgabe
  Future<bool> isPreRegisteredForWorld(int worldId) async {
    final status = await getPreRegistrationStatus(worldId);
    return status.isPreRegistered;
  }

  // Invite-Token Validierung
  Future<Map<String, dynamic>?> validateInviteToken(String token) async {
    try {
      // API-Call ohne Authentifizierung (Ã¶ffentlicher Endpoint)
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return PreRegistrationStatus(isPreRegistered: false);
    } catch (e) {
      // 404 means user is not pre-registered, which is normal
      // Don't log this as an error
      return PreRegistrationStatus(isPreRegistered: false);
    }
  }
```

**errorEContext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:390:55`
- ğŸ“ Original: `', e, context: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Token-Validierung', e, context: {'token': token.substring(0, 8) + '...'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
```

**errorTokensubstring08** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:390:77`
- ğŸ“ Original: `': token.substring(0, 8) + '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Token-Validierung', e, context: {'token': token.substring(0, 8) + '...'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
```

**errorFallbackFÃ¼rBessere** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:390:108`
- ğŸ“ Original: `'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
  }

  // Invite akzeptieren und User der Welt hinzufÃ¼gen
  Future<Map<String, dynamic>?> acceptInvite(String token) async {
    try {
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Token-Validierung', e, context: {'token': token.substring(0, 8) + '...'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:399:48`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Invite akzeptieren und User der Welt hinzufÃ¼gen
  Future<Map<String, dynamic>?> acceptInvite(String token) async {
    try {
      AppLogger.app.i('ğŸ« Invite wird akzeptiert', error: {'token': token.substring(0, 8) + '...'});
      
      // API-Call mit Authentifizierung (da User eingeloggt sein muss)
      final response = await _apiService.post('/invites/accept/$token', {});
```

**errorTokensubstring08** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:399:65`
- ğŸ“ Original: `': token.substring(0, 8) + '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Invite akzeptieren und User der Welt hinzufÃ¼gen
  Future<Map<String, dynamic>?> acceptInvite(String token) async {
    try {
      AppLogger.app.i('ğŸ« Invite wird akzeptiert', error: {'token': token.substring(0, 8) + '...'});
      
      // API-Call mit Authentifizierung (da User eingeloggt sein muss)
      final response = await _apiService.post('/invites/accept/$token', {});
```

**errorApicallMitAuthentifizierung** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:399:96`
- ğŸ“ Original: `'});
      
      // API-Call mit Authentifizierung (da User eingeloggt sein muss)
      final response = await _apiService.post('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Invite akzeptieren und User der Welt hinzufÃ¼gen
  Future<Map<String, dynamic>?> acceptInvite(String token) async {
    try {
      AppLogger.app.i('ğŸ« Invite wird akzeptiert', error: {'token': token.substring(0, 8) + '...'});
      
      // API-Call mit Authentifizierung (da User eingeloggt sein muss)
      final response = await _apiService.post('/invites/accept/$token', {});
```

**errorIfResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:402:70`
- ğŸ“ Original: `', {});
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        if (responseData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('ğŸ« Invite wird akzeptiert', error: {'token': token.substring(0, 8) + '...'});
      
      // API-Call mit Authentifizierung (da User eingeloggt sein muss)
      final response = await _apiService.post('/invites/accept/$token', {});
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
```

**errorTrueResponsedata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:406:34`
- ğŸ“ Original: `'] == true && responseData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        if (responseData['success'] == true && responseData['data'] != null) {
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': responseData['data']['world']?['id'],
            'worldName': responseData['data']['world']?['name']
```

**errorNullApploggerappi** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:406:66`
- ğŸ“ Original: `'] != null) {
          AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        if (responseData['success'] == true && responseData['data'] != null) {
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': responseData['data']['world']?['id'],
            'worldName': responseData['data']['world']?['name']
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:407:59`
- ğŸ“ Original: `', error: {
            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        if (responseData['success'] == true && responseData['data'] != null) {
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': responseData['data']['world']?['id'],
            'worldName': responseData['data']['world']?['name']
          });
```

**errorResponsedata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:408:21`
- ğŸ“ Original: `': responseData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final responseData = jsonDecode(response.body);
        if (responseData['success'] == true && responseData['data'] != null) {
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': responseData['data']['world']?['id'],
            'worldName': responseData['data']['world']?['name']
          });
          return responseData['data'];
```

**errorResponsedata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:409:23`
- ğŸ“ Original: `': responseData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (responseData['success'] == true && responseData['data'] != null) {
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': responseData['data']['world']?['id'],
            'worldName': responseData['data']['world']?['name']
          });
          return responseData['data'];
        }
```

**errorReturnResponsedata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:409:62`
- ğŸ“ Original: `']
          });
          return responseData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (responseData['success'] == true && responseData['data'] != null) {
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': responseData['data']['world']?['id'],
            'worldName': responseData['data']['world']?['name']
          });
          return responseData['data'];
        }
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:417:54`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Fehlerbehandlung fÃ¼r spezifische HTTP-Status-Codes
      if (response.statusCode == 409) {
        AppLogger.app.w('âš ï¸ Invite bereits akzeptiert', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite bereits akzeptiert');
      } else if (response.statusCode == 403) {
        AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
```

**errorTokensubstring08** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:417:71`
- ğŸ“ Original: `': token.substring(0, 8) + '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Fehlerbehandlung fÃ¼r spezifische HTTP-Status-Codes
      if (response.statusCode == 409) {
        AppLogger.app.w('âš ï¸ Invite bereits akzeptiert', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite bereits akzeptiert');
      } else if (response.statusCode == 403) {
        AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
```

**errorInviteBereitsAkzeptiert** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:418:25`
- ğŸ“ Original: `'Invite bereits akzeptiert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Fehlerbehandlung fÃ¼r spezifische HTTP-Status-Codes
      if (response.statusCode == 409) {
        AppLogger.app.w('âš ï¸ Invite bereits akzeptiert', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite bereits akzeptiert');
      } else if (response.statusCode == 403) {
        AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
```

**errorEmailmismatchBeiInvite** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:420:25`
- ğŸ“ Original: `'âš ï¸ E-Mail-Mismatch bei Invite'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.w('âš ï¸ Invite bereits akzeptiert', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite bereits akzeptiert');
      } else if (response.statusCode == 403) {
        AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
      } else if (response.statusCode == 410) {
        AppLogger.app.w('âš ï¸ Invite-Token abgelaufen', error: {'token': token.substring(0, 8) + '...'});
```

**errorDieseEinladungIst** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:421:25`
- ğŸ“ Original: `'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Invite bereits akzeptiert');
      } else if (response.statusCode == 403) {
        AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
      } else if (response.statusCode == 410) {
        AppLogger.app.w('âš ï¸ Invite-Token abgelaufen', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite-Token ist abgelaufen');
```

**errorInvitetokenAbgelaufen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:423:25`
- ğŸ“ Original: `'âš ï¸ Invite-Token abgelaufen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
      } else if (response.statusCode == 410) {
        AppLogger.app.w('âš ï¸ Invite-Token abgelaufen', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite-Token ist abgelaufen');
      }
```

**errorInvitetokenIstAbgelaufen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:424:25`
- ğŸ“ Original: `'Invite-Token ist abgelaufen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
      } else if (response.statusCode == 410) {
        AppLogger.app.w('âš ï¸ Invite-Token abgelaufen', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite-Token ist abgelaufen');
      }
      
      return null;
```

**errorFehlerBeiInviteakzeptierung** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:429:26`
- ğŸ“ Original: `'Fehler bei Invite-Akzeptierung'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Invite-Akzeptierung', e, context: {'token': token.substring(0, 8) + '...'});
      rethrow;
    }
  }
```

**errorOverrideVoidDispose** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:24:66`
- ğŸ“ Original: `');

  @override
  void dispose() {
    _emailController.dispose();
    super.dispose();
  }

  Future<void> _requestPasswordReset() async {
    if (!_formKey.currentState!.validate()) {
      return;
    }

    setState(() {
      _isLoading = true;
      _errorMessage = null;
      _isSuccess = false;
    });

    try {
      final success = await _authService.requestPasswordReset(
        _emailController.text.trim(),
      );

      if (success && mounted) {
        setState(() {
          _isSuccess = true;
        });
        
        // Nach 3 Sekunden zurÃ¼ck zum Login
        Future.delayed(const Duration(seconds: 3), () {
          if (mounted) {
            context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
String? _errorMessage;
  
  // E-Mail-Validierung Regex
  static final RegExp _emailRegex = RegExp(r'^[^@]+@[^@]+\.[^@]+$');

  @override
  void dispose() {
```

**errorFinallyIfMounted** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:63:67`
- ğŸ“ Original: `');
        });
      }
    } finally {
      if (mounted) {
        setState(() {
          _isLoading = false;
        });
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: BackgroundWidget(
        child: Center(
          child: SingleChildScrollView(
            padding: const EdgeInsets.all(24.0),
            child: Center(
              child: ConstrainedBox(
                constraints: const BoxConstraints(maxWidth: 400),
                child: Card(
                  elevation: 12,
                  color: const Color(0xFF1A1A1A),
                  shape: RoundedRectangleBorder(
                    borderRadius: BorderRadius.circular(20),
                    side: BorderSide(
                      color: AppTheme.primaryColor.withOpacity(0.3),
                      width: 1,
                    ),
                  ),
                  child: Container(
                    decoration: BoxDecoration(
                      borderRadius: BorderRadius.circular(20),
                      gradient: const LinearGradient(
                        begin: Alignment.topLeft,
                        end: Alignment.bottomRight,
                        colors: [
                          Color(0xFF1A1A1A),
                          Color(0xFF2A2A2A),
                        ],
                      ),
                    ),
                    child: Padding(
                      padding: const EdgeInsets.all(32.0),
                      child: Form(
                        key: _formKey,
                        child: Column(
                          mainAxisSize: MainAxisSize.min,
                          children: [
                            // Back Button
                            Align(
                              alignment: Alignment.centerLeft,
                              child: IconButton(
                                onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        setState(() {
          _errorMessage = e.toString().replaceAll('Exception: ', '');
        });
      }
    } finally {
```

**errorErrorE_authservice** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:77:79`
- ğŸ“ Original: `', error: e);
      _authService = AuthService();
    }
  }

  void _loadQueryParameters() {
    // Query-Parameter aus der URL lesen
    final routeData = GoRouterState.of(context);
    _inviteToken = routeData.uri.queryParameters['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_authService = AuthService();
      }
    } catch (e) {
      AppLogger.app.w('âš ï¸ ServiceLocator Fehler - nutze direkte Instanziierung', error: e);
      _authService = AuthService();
    }
  }
```

**errorApploggerappi** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:85:63`
- ğŸ“ Original: `'];
    
    AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void _loadQueryParameters() {
    // Query-Parameter aus der URL lesen
    final routeData = GoRouterState.of(context);
    _inviteToken = routeData.uri.queryParameters['invite_token'];
    
    AppLogger.app.i('ğŸ« Login Query-Parameter geladen', error: {
      'hasInviteToken': _inviteToken != null,
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:87:53`
- ğŸ“ Original: `', error: {
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final routeData = GoRouterState.of(context);
    _inviteToken = routeData.uri.queryParameters['invite_token'];
    
    AppLogger.app.i('ğŸ« Login Query-Parameter geladen', error: {
      'hasInviteToken': _inviteToken != null,
      'inviteToken': _inviteToken?.substring(0, 8)
    });
```

**error_invitetokenNull** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:88:22`
- ğŸ“ Original: `': _inviteToken != null,
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_inviteToken = routeData.uri.queryParameters['invite_token'];
    
    AppLogger.app.i('ğŸ« Login Query-Parameter geladen', error: {
      'hasInviteToken': _inviteToken != null,
      'inviteToken': _inviteToken?.substring(0, 8)
    });
  }
```

**error_invitetokensubstring08Futurevoid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:89:19`
- ğŸ“ Original: `': _inviteToken?.substring(0, 8)
    });
  }

  Future<void> _login() async {
    if (!_formKey.currentState!.validate()) return;

    setState(() {
      _isLoading = true;
      _loginError = null;
    });

    try {
      final user = await _authService.login(
        _usernameController.text.trim(),
        _passwordController.text,
      );

      if (user != null) {
        AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('ğŸ« Login Query-Parameter geladen', error: {
      'hasInviteToken': _inviteToken != null,
      'inviteToken': _inviteToken?.substring(0, 8)
    });
  }
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:108:45`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

      if (user != null) {
        AppLogger.app.i('âœ… Login erfolgreich', error: {'userId': user.id, 'username': user.username});
        
        if (mounted) {
          // HINZUGEFÃœGT: Post-Auth-Redirect prÃ¼fen
```

**errorUserid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:108:63`
- ğŸ“ Original: `': user.id, '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

      if (user != null) {
        AppLogger.app.i('âœ… Login erfolgreich', error: {'userId': user.id, 'username': user.username});
        
        if (mounted) {
          // HINZUGEFÃœGT: Post-Auth-Redirect prÃ¼fen
```

**errorUserusernameIfMounted** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:108:84`
- ğŸ“ Original: `': user.username});
        
        if (mounted) {
          // HINZUGEFÃœGT: Post-Auth-Redirect prÃ¼fen
          final pendingRedirect = _authService.getPendingRedirect();
          
          if (pendingRedirect != null) {
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

      if (user != null) {
        AppLogger.app.i('âœ… Login erfolgreich', error: {'userId': user.id, 'username': user.username});
        
        if (mounted) {
          // HINZUGEFÃœGT: Post-Auth-Redirect prÃ¼fen
```

**errorErrorPendingredirect_authserviceclearpendingredirect** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:115:58`
- ğŸ“ Original: `', error: pendingRedirect);
            _authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
            final routeName = pendingRedirect['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final pendingRedirect = _authService.getPendingRedirect();
          
          if (pendingRedirect != null) {
            AppLogger.app.i('ğŸ« Post-Auth-Redirect erkannt', error: pendingRedirect);
            _authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:129:74`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
```

**error_invitetokensubstring08** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:129:91`
- ğŸ“ Original: `': _inviteToken!.substring(0, 8) + '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
```

**errorContextgonamed** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:129:130`
- ğŸ“ Original: `'});
            context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
```

**errorPathparameters** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:130:49`
- ğŸ“ Original: `', pathParameters: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
            context.goNamed('world-list');
```

**error_invitetokenElseStandardredirect** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:130:75`
- ğŸ“ Original: `': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
            context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
            context.goNamed('world-list');
```

**errorESetstate_loginerror** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:138:47`
- ğŸ“ Original: `', e);
      setState(() {
        _loginError = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      }
    } catch (e) {
      AppLogger.logError('Login fehlgeschlagen', e);
      setState(() {
        _loginError = e.toString().replaceAll('Exception: ', '');
      });
```

**errorFinallyIfMounted** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:140:63`
- ğŸ“ Original: `');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isLoading = false;
        });
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Stack(
        children: [
          BackgroundWidget(
            child: Center(
              child: SingleChildScrollView(
                padding: const EdgeInsets.all(24.0),
                child: FadeTransition(
                  opacity: _fadeAnimation,
                  child: Center(
                    child: ConstrainedBox(
                      constraints: const BoxConstraints(maxWidth: 400),
                      child: Card(
                        elevation: 12,
                        color: const Color(0xFF1A1A1A),
                        shape: RoundedRectangleBorder(
                          borderRadius: BorderRadius.circular(20),
                          side: BorderSide(
                            color: AppTheme.primaryColor.withOpacity(0.3),
                            width: 1,
                          ),
                        ),
                        child: Container(
                          decoration: BoxDecoration(
                            borderRadius: BorderRadius.circular(20),
                            gradient: const LinearGradient(
                              begin: Alignment.topLeft,
                              end: Alignment.bottomRight,
                              colors: [
                                Color(0xFF1A1A1A),
                                Color(0xFF2A2A2A),
                              ],
                            ),
                          ),
                          child: Padding(
                            padding: const EdgeInsets.all(32.0),
                            child: Form(
                              key: _formKey,
                              child: Column(
                                mainAxisSize: MainAxisSize.min,
                                children: [
                                  // Logo/Title with Animation
                                  TweenAnimationBuilder<double>(
                                    tween: Tween(begin: 0.8, end: 1.0),
                                    duration: const Duration(milliseconds: 600),
                                    curve: Curves.elasticOut,
                                    builder: (context, value, child) {
                                      return Transform.scale(
                                        scale: value,
                                        child: child,
                                      );
                                    },
                                    child: Container(
                                      width: 80,
                                      height: 80,
                                      decoration: BoxDecoration(
                                        color: AppTheme.primaryColor.withOpacity(0.2),
                                        borderRadius: BorderRadius.circular(20),
                                        border: Border.all(
                                          color: AppTheme.primaryColor.withOpacity(0.5),
                                          width: 2,
                                        ),
                                      ),
                                      child: const Icon(
                                        Icons.public,
                                        size: 40,
                                        color: AppTheme.primaryColor,
                                      ),
                                    ),
                                  ),
                                  const SizedBox(height: 20),
                                  Text(
                                    '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      AppLogger.logError('Login fehlgeschlagen', e);
      setState(() {
        _loginError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
```

**errorErrorE_authservice** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:56:79`
- ğŸ“ Original: `', error: e);
      _authService = AuthService();
    }
  }

  void _loadQueryParameters() {
    // Query-Parameter aus der URL lesen
    final routeData = GoRouterState.of(context);
    _inviteToken = routeData.uri.queryParameters['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      
    } catch (e) {
      AppLogger.app.w('âš ï¸ ServiceLocator Fehler - nutze direkte Instanziierung', error: e);
      _authService = AuthService();
    }
  }
```

**error_prefilledemailRoutedatauriqueryparameters** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:64:63`
- ğŸ“ Original: `'];
    _prefilledEmail = routeData.uri.queryParameters['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void _loadQueryParameters() {
    // Query-Parameter aus der URL lesen
    final routeData = GoRouterState.of(context);
    _inviteToken = routeData.uri.queryParameters['invite_token'];
    _prefilledEmail = routeData.uri.queryParameters['email'];
    
    AppLogger.app.i('ğŸ“§ Registration Query-Parameter geladen', error: {
```

**errorApploggerappi** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:65:59`
- ğŸ“ Original: `'];
    
    AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Query-Parameter aus der URL lesen
    final routeData = GoRouterState.of(context);
    _inviteToken = routeData.uri.queryParameters['invite_token'];
    _prefilledEmail = routeData.uri.queryParameters['email'];
    
    AppLogger.app.i('ğŸ“§ Registration Query-Parameter geladen', error: {
      'hasInviteToken': _inviteToken != null,
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:67:60`
- ğŸ“ Original: `', error: {
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_inviteToken = routeData.uri.queryParameters['invite_token'];
    _prefilledEmail = routeData.uri.queryParameters['email'];
    
    AppLogger.app.i('ğŸ“§ Registration Query-Parameter geladen', error: {
      'hasInviteToken': _inviteToken != null,
      'hasPrefilledEmail': _prefilledEmail != null,
      'inviteToken': _inviteToken?.substring(0, 8),
```

**error_invitetokenNull** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:68:22`
- ğŸ“ Original: `': _inviteToken != null,
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_prefilledEmail = routeData.uri.queryParameters['email'];
    
    AppLogger.app.i('ğŸ“§ Registration Query-Parameter geladen', error: {
      'hasInviteToken': _inviteToken != null,
      'hasPrefilledEmail': _prefilledEmail != null,
      'inviteToken': _inviteToken?.substring(0, 8),
      'email': _prefilledEmail
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:77:43`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// E-Mail vorbefÃ¼llen wenn vorhanden
    if (_prefilledEmail != null && _prefilledEmail!.isNotEmpty) {
      _emailController.text = _prefilledEmail!;
      AppLogger.app.i('ğŸ“§ E-Mail vorbefÃ¼llt', error: {'email': _prefilledEmail});
    }
  }
```

**error_prefilledemailOverrideVoid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:77:60`
- ğŸ“ Original: `': _prefilledEmail});
    }
  }

  @override
  void dispose() {
    _usernameController.dispose();
    _emailController.dispose();
    _passwordController.dispose();
    super.dispose();
  }

  Future<void> _register() async {
    final formState = _formKey.currentState;
    if (formState == null || !formState.validate()) {
      return;
    }

    setState(() {
      _isLoading = true;
      _registerError = null;
    });

    try {
      final user = await _authService.register(
        _usernameController.text.trim(),
        _emailController.text.trim().toLowerCase(),
        _passwordController.text,
      );

      if (user != null) {
        AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// E-Mail vorbefÃ¼llen wenn vorhanden
    if (_prefilledEmail != null && _prefilledEmail!.isNotEmpty) {
      _emailController.text = _prefilledEmail!;
      AppLogger.app.i('ğŸ“§ E-Mail vorbefÃ¼llt', error: {'email': _prefilledEmail});
    }
  }
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:108:53`
- ğŸ“ Original: `', error: {
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

      if (user != null) {
        AppLogger.app.i('âœ… Registrierung erfolgreich', error: {
          'userId': user.id,
          'username': user.username,
          'email': user.email,
```

**errorUserid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:109:18`
- ğŸ“ Original: `': user.id,
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (user != null) {
        AppLogger.app.i('âœ… Registrierung erfolgreich', error: {
          'userId': user.id,
          'username': user.username,
          'email': user.email,
        });
```

**errorUserusername** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:110:20`
- ğŸ“ Original: `': user.username,
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (user != null) {
        AppLogger.app.i('âœ… Registrierung erfolgreich', error: {
          'userId': user.id,
          'username': user.username,
          'email': user.email,
        });
```

**errorUseremailIfMounted** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:111:17`
- ğŸ“ Original: `': user.email,
        });
        
        if (mounted) {
          // HINZUGEFÃœGT: Post-Auth-Redirect prÃ¼fen
          final pendingRedirect = _authService.getPendingRedirect();
          
          if (pendingRedirect != null) {
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('âœ… Registrierung erfolgreich', error: {
          'userId': user.id,
          'username': user.username,
          'email': user.email,
        });
        
        if (mounted) {
```

**errorErrorPendingredirect_authserviceclearpendingredirect** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:119:76`
- ğŸ“ Original: `', error: pendingRedirect);
            _authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
            final routeName = pendingRedirect['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final pendingRedirect = _authService.getPendingRedirect();
          
          if (pendingRedirect != null) {
            AppLogger.app.i('ğŸ« Post-Auth-Redirect nach Registration erkannt', error: pendingRedirect);
            _authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:146:92`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query nach Registration - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
```

**error_invitetokensubstring08** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:146:109`
- ğŸ“ Original: `': _inviteToken!.substring(0, 8) + '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query nach Registration - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
```

**errorScaffoldmessengerofcontextshowsnackbarConstSnackbar** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:146:148`
- ğŸ“ Original: `'});
            
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query nach Registration - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
```

**errorEContext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:177:55`
- ğŸ“ Original: `', e, context: {
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      }
    } catch (e) {
      AppLogger.logError('Registrierung fehlgeschlagen', e, context: {
        'username': _usernameController.text.trim(),
        'email': _emailController.text.trim().toLowerCase(),
      });
```

**error_usernamecontrollertexttrim** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:178:18`
- ğŸ“ Original: `': _usernameController.text.trim(),
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      AppLogger.logError('Registrierung fehlgeschlagen', e, context: {
        'username': _usernameController.text.trim(),
        'email': _emailController.text.trim().toLowerCase(),
      });
```

**error_emailcontrollertexttrimtolowercaseSetstate_registererror** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:179:15`
- ğŸ“ Original: `': _emailController.text.trim().toLowerCase(),
      });
      
      setState(() {
        _registerError = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      AppLogger.logError('Registrierung fehlgeschlagen', e, context: {
        'username': _usernameController.text.trim(),
        'email': _emailController.text.trim().toLowerCase(),
      });
      
      setState(() {
```

**errorFinallyIfMounted** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:183:66`
- ğŸ“ Original: `');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isLoading = false;
        });
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: BackgroundWidget(
        child: Center(
          child: SingleChildScrollView(
            padding: const EdgeInsets.all(24.0),
            child: Center(
              child: ConstrainedBox(
                constraints: const BoxConstraints(maxWidth: 400),
                child: Card(
                  elevation: 12,
                  color: const Color(0xFF1A1A1A), // Dunkle Karte
                  shape: RoundedRectangleBorder(
                    borderRadius: BorderRadius.circular(20),
                    side: BorderSide(
                      color: AppTheme.primaryColor.withOpacity(0.3),
                      width: 1,
                    ),
                  ),
                  child: Container(
                    decoration: BoxDecoration(
                      borderRadius: BorderRadius.circular(20),
                      gradient: const LinearGradient(
                        begin: Alignment.topLeft,
                        end: Alignment.bottomRight,
                        colors: [
                          Color(0xFF1A1A1A),
                          Color(0xFF2A2A2A),
                        ],
                      ),
                    ),
                    child: Padding(
                      padding: const EdgeInsets.all(32.0),
                      child: Form(
                        key: _formKey,
                        child: Column(
                          mainAxisSize: MainAxisSize.min,
                          children: [
                            // Logo/Title
                            Container(
                              width: 80,
                              height: 80,
                              decoration: BoxDecoration(
                                color: AppTheme.primaryColor.withOpacity(0.2),
                                borderRadius: BorderRadius.circular(20),
                                border: Border.all(
                                  color: AppTheme.primaryColor.withOpacity(0.5),
                                  width: 2,
                                ),
                              ),
                              child: const Icon(
                                Icons.person_add,
                                size: 40,
                                color: AppTheme.primaryColor,
                              ),
                            ),
                            const SizedBox(height: 20),
                            Text(
                              '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
      
      setState(() {
        _registerError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
```

**errorIfErrorcontains** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:97:65`
- ğŸ“ Original: `');
          if (error.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        setState(() {
          final error = e.toString().replaceAll('Exception: ', '');
          if (error.contains('expired') || error.contains('invalid')) {
            _errorMessage = 'Der Reset-Link ist ungÃ¼ltig oder abgelaufen. Bitte fordere einen neuen Link an.';
          } else {
```

**errorErrorcontains** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:98:38`
- ğŸ“ Original: `') || error.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
        setState(() {
          final error = e.toString().replaceAll('Exception: ', '');
          if (error.contains('expired') || error.contains('invalid')) {
            _errorMessage = 'Der Reset-Link ist ungÃ¼ltig oder abgelaufen. Bitte fordere einen neuen Link an.';
          } else {
            _errorMessage = error;
```

**error_errormessage** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:98:67`
- ğŸ“ Original: `')) {
            _errorMessage = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
        setState(() {
          final error = e.toString().replaceAll('Exception: ', '');
          if (error.contains('expired') || error.contains('invalid')) {
            _errorMessage = 'Der Reset-Link ist ungÃ¼ltig oder abgelaufen. Bitte fordere einen neuen Link an.';
          } else {
            _errorMessage = error;
```

**errorElse_errormessageError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:99:109`
- ğŸ“ Original: `';
          } else {
            _errorMessage = error;
          }
        });
      }
    } finally {
      if (mounted) {
        setState(() {
          _isLoading = false;
        });
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: BackgroundWidget(
        child: Center(
          child: SingleChildScrollView(
            padding: const EdgeInsets.all(24.0),
            child: FadeTransition(
              opacity: _fadeAnimation,
              child: Center(
                child: ConstrainedBox(
                  constraints: const BoxConstraints(maxWidth: 400),
                  child: Card(
                    elevation: 12,
                    color: const Color(0xFF1A1A1A),
                    shape: RoundedRectangleBorder(
                      borderRadius: BorderRadius.circular(20),
                      side: BorderSide(
                        color: AppTheme.primaryColor.withOpacity(0.3),
                        width: 1,
                      ),
                    ),
                    child: Container(
                      decoration: BoxDecoration(
                        borderRadius: BorderRadius.circular(20),
                        gradient: const LinearGradient(
                          begin: Alignment.topLeft,
                          end: Alignment.bottomRight,
                          colors: [
                            Color(0xFF1A1A1A),
                            Color(0xFF2A2A2A),
                          ],
                        ),
                      ),
                      child: Padding(
                        padding: const EdgeInsets.all(32.0),
                        child: Form(
                          key: _formKey,
                          child: Column(
                            mainAxisSize: MainAxisSize.min,
                            children: [
                              // Icon with Animation
                              TweenAnimationBuilder<double>(
                                tween: Tween(begin: 0.8, end: 1.0),
                                duration: const Duration(milliseconds: 600),
                                curve: Curves.elasticOut,
                                builder: (context, value, child) {
                                  return Transform.scale(
                                    scale: value,
                                    child: child,
                                  );
                                },
                                child: Container(
                                  width: 80,
                                  height: 80,
                                  decoration: BoxDecoration(
                                    color: _isSuccess 
                                      ? Colors.green.withOpacity(0.2)
                                      : AppTheme.primaryColor.withOpacity(0.2),
                                    borderRadius: BorderRadius.circular(20),
                                    border: Border.all(
                                      color: _isSuccess
                                        ? Colors.green.withOpacity(0.5)
                                        : AppTheme.primaryColor.withOpacity(0.5),
                                      width: 2,
                                    ),
                                  ),
                                  child: Icon(
                                    _isSuccess ? Icons.check_circle : Icons.lock_reset,
                                    size: 40,
                                    color: _isSuccess ? Colors.green : AppTheme.primaryColor,
                                  ),
                                ),
                              ),
                              const SizedBox(height: 20),
                              
                              Text(
                                _isSuccess ? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {
          final error = e.toString().replaceAll('Exception: ', '');
          if (error.contains('expired') || error.contains('invalid')) {
            _errorMessage = 'Der Reset-Link ist ungÃ¼ltig oder abgelaufen. Bitte fordere einen neuen Link an.';
          } else {
            _errorMessage = error;
          }
```

**errorApploggerlogerror** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:58:49`
- ğŸ“ Original: `';
      AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _checkPlayerStatuses();
      _applyFiltersAndSorting();
    } catch (e) {
      _error = 'Fehler beim Laden der Welten: $e';
      AppLogger.logError('World-Liste laden fehlgeschlagen', e);
    } finally {
      _setLoading(false);
```

**errorEFinally_setloadingfalse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:59:59`
- ğŸ“ Original: `', e);
    } finally {
      _setLoading(false);
    }
  }

  Future<void> _loadPlayerCounts() async {
    // TODO: Implement actual player count API when available
    // For now, use mock data
    for (final world in _worlds) {
      _playerCounts[world.id] = 0; // Placeholder
    }
    notifyListeners();
  }

  Future<void> _checkPlayerStatuses() async {
    for (final world in _worlds) {
      try {
        // Check if user is in the world
        final isJoined = await _worldService.isPlayerInWorld(world.id);
        
        // Check if user is pre-registered
        final isPreRegistered = await _worldService.isPreRegisteredForWorld(world.id);
        
        _joinedWorlds[world.id] = isJoined;
        _preRegisteredWorlds[world.id] = isPreRegistered;
        notifyListeners();
      } catch (e) {
        AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_applyFiltersAndSorting();
    } catch (e) {
      _error = 'Fehler beim Laden der Welten: $e';
      AppLogger.logError('World-Liste laden fehlgeschlagen', e);
    } finally {
      _setLoading(false);
    }
```

**errorEContext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:87:63`
- ğŸ“ Original: `', e, context: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_preRegisteredWorlds[world.id] = isPreRegistered;
        notifyListeners();
      } catch (e) {
        AppLogger.logError('Player-Status Check fehlgeschlagen', e, context: {'worldId': world.id});
        _joinedWorlds[world.id] = false;
        _preRegisteredWorlds[world.id] = false;
      }
```

**errorWorldid_joinedworldsworldidFalse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:87:87`
- ğŸ“ Original: `': world.id});
        _joinedWorlds[world.id] = false;
        _preRegisteredWorlds[world.id] = false;
      }
    }
  }

  void setStatusFilter(WorldStatus? status) {
    _statusFilter = status;
    _applyFiltersAndSorting();
  }

  void setCategoryFilter(WorldCategory? category) {
    _categoryFilter = category;
    _applyFiltersAndSorting();
  }

  void setSortBy(String sortBy) {
    _sortBy = sortBy;
    _applyFiltersAndSorting();
  }

  void toggleSortOrder() {
    _sortAscending = !_sortAscending;
    _applyFiltersAndSorting();
  }

  void resetFilters() {
    _statusFilter = null;
    _categoryFilter = null;
    _sortBy = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_preRegisteredWorlds[world.id] = isPreRegistered;
        notifyListeners();
      } catch (e) {
        AppLogger.logError('Player-Status Check fehlgeschlagen', e, context: {'worldId': world.id});
        _joinedWorlds[world.id] = false;
        _preRegisteredWorlds[world.id] = false;
      }
```

**errorNotifylistenersRethrowFuturevoid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:190:42`
- ğŸ“ Original: `';
      notifyListeners();
      rethrow;
    }
  }

  Future<void> preRegisterWorld(World world) async {
    try {
      // TODO: Implement pre-registration API call
      await Future.delayed(const Duration(milliseconds: 500)); // Simulated API call
      
      _preRegisteredWorlds[world.id] = true;
      notifyListeners();
    } catch (e) {
      _error = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
notifyListeners();
    } catch (e) {
      _error = 'Fehler beim Beitreten: $e';
      notifyListeners();
      rethrow;
    }
```

**errorNotifylistenersRethrowFuturevoid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:204:52`
- ğŸ“ Original: `';
      notifyListeners();
      rethrow;
    }
  }
  
  Future<void> cancelPreRegistration(World world) async {
    try {
      final success = await _worldService.cancelPreRegistrationAuthenticated(world.id);
      if (success) {
        _preRegisteredWorlds[world.id] = false;
        notifyListeners();
      } else {
        throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_preRegisteredWorlds[world.id] = true;
      notifyListeners();
    } catch (e) {
      _error = 'Fehler bei der Vorregistrierung: $e';
      notifyListeners();
      rethrow;
    }
```

**errorCatchE_error** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:217:76`
- ğŸ“ Original: `');
      }
    } catch (e) {
      _error = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_preRegisteredWorlds[world.id] = false;
        notifyListeners();
      } else {
        throw Exception('Vorregistrierung konnte nicht zurÃ¼ckgezogen werden');
      }
    } catch (e) {
      _error = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung: $e';
```

**errorNotifylistenersRethrowFuturevoid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:220:66`
- ğŸ“ Original: `';
      notifyListeners();
      rethrow;
    }
  }
  
  Future<void> leaveWorld(World world) async {
    try {
      await _worldService.leaveWorld(world.id);
      _joinedWorlds[world.id] = false;
      
      // Update player count
      final currentCount = _playerCounts[world.id] ?? 0;
      if (currentCount > 0) {
        _playerCounts[world.id] = currentCount - 1;
      }
      
      notifyListeners();
    } catch (e) {
      _error = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
throw Exception('Vorregistrierung konnte nicht zurÃ¼ckgezogen werden');
      }
    } catch (e) {
      _error = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung: $e';
      notifyListeners();
      rethrow;
    }
```

**errorNotifylistenersRethrowFuturebool** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:239:51`
- ğŸ“ Original: `';
      notifyListeners();
      rethrow;
    }
  }

  Future<bool> createInvite(World world, String email) async {
    try {
      final success = await _inviteService.createInvite(world.id, email);
      if (!success) {
        _error = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
notifyListeners();
    } catch (e) {
      _error = 'Fehler beim Verlassen der Welt: $e';
      notifyListeners();
      rethrow;
    }
```

**errorNotifylistenersReturnSuccess** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:249:57`
- ğŸ“ Original: `';
      }
      notifyListeners();
      return success;
    } catch (e) {
      _error = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final success = await _inviteService.createInvite(world.id, email);
      if (!success) {
        _error = 'Einladung konnte nicht erstellt werden';
      }
      notifyListeners();
      return success;
```

**errorFehlerBeimLaden** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:131:15`
- ğŸ“ Original: `'Fehler beim Laden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
            const SizedBox(height: 16),
            Text(
              'Fehler beim Laden',
              style: TextStyle(
                fontSize: 20,
                fontWeight: FontWeight.bold,
```

**errorErrorE_worldservice** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:103:79`
- ğŸ“ Original: `', error: e);
      _worldService = WorldService();
      _authService = AuthService();
      
      // Auch bei Fallback Authentication-Status prÃ¼fen
      _checkAuthenticationStatus();
    }
  }

  void _checkAuthenticationStatus() {
    try {
      final currentUser = _authService.currentUser;
      final wasAuthenticated = _isAuthenticated;
      _isAuthenticated = currentUser != null;
      
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Authentication-Status prÃ¼fen
      _checkAuthenticationStatus();
    } catch (e) {
      AppLogger.app.w('âš ï¸ ServiceLocator Fehler - nutze direkte Instanziierung', error: e);
      _worldService = WorldService();
      _authService = AuthService();
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:118:55`
- ğŸ“ Original: `', error: {
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final wasAuthenticated = _isAuthenticated;
      _isAuthenticated = currentUser != null;
      
      AppLogger.app.i('ğŸ”’ Authentication Status geprÃ¼ft', error: {
        'isAuthenticated': _isAuthenticated,
        'userId': currentUser?.id,
        'username': currentUser?.username,
```

**error_isauthenticated** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:119:25`
- ğŸ“ Original: `': _isAuthenticated,
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_isAuthenticated = currentUser != null;
      
      AppLogger.app.i('ğŸ”’ Authentication Status geprÃ¼ft', error: {
        'isAuthenticated': _isAuthenticated,
        'userId': currentUser?.id,
        'username': currentUser?.username,
        'changed': wasAuthenticated != _isAuthenticated
```

**errorCurrentuserid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:120:16`
- ğŸ“ Original: `': currentUser?.id,
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('ğŸ”’ Authentication Status geprÃ¼ft', error: {
        'isAuthenticated': _isAuthenticated,
        'userId': currentUser?.id,
        'username': currentUser?.username,
        'changed': wasAuthenticated != _isAuthenticated
      });
```

**errorCurrentuserusername** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:121:18`
- ğŸ“ Original: `': currentUser?.username,
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('ğŸ”’ Authentication Status geprÃ¼ft', error: {
        'isAuthenticated': _isAuthenticated,
        'userId': currentUser?.id,
        'username': currentUser?.username,
        'changed': wasAuthenticated != _isAuthenticated
      });
```

**errorE_isauthenticatedFalse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:130:71`
- ğŸ“ Original: `', e);
      _isAuthenticated = false;
    }
  }

  Future<void> _loadWorldData() async {
    // FIXED: Robustere Loading-State Verwaltung
    if (_isLoading) {
      return;
    }

    setState(() {
      _isLoading = true;
      _errorMessage = null;
    });

    try {
      // **KLARE FLOW-TRENNUNG**
      switch (widget.flowType) {
        case WorldJoinFlowType.normal:
          await _handleNormalFlow();
          break;
        case WorldJoinFlowType.invite:
          await _handleInviteFlow();
          break;
      }
      
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {});
      }
    } catch (e) {
      AppLogger.logError('Fehler beim PrÃ¼fen des Authentication-Status', e);
      _isAuthenticated = false;
    }
  }
```

**errorSetstate_errormessage** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:158:54`
- ğŸ“ Original: `');
      setState(() {
        _errorMessage = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      
    } catch (e) {
      AppLogger.app.w('ğŸ’¥ FEHLER in _loadWorldData: $e');
      setState(() {
        _errorMessage = 'Fehler beim Laden der Welt-Daten: ${e.toString()}';
        _isLoading = false;
```

**error_isloadingFalseNormale** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:160:75`
- ğŸ“ Original: `';
        _isLoading = false;
      });
    }
  }

  // **NORMALE NAVIGATION: Einfach und direkt**
  Future<void> _handleNormalFlow() async {
    if (widget.worldId == null) {
      setState(() {
        _errorMessage = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      AppLogger.app.w('ğŸ’¥ FEHLER in _loadWorldData: $e');
      setState(() {
        _errorMessage = 'Fehler beim Laden der Welt-Daten: ${e.toString()}';
        _isLoading = false;
      });
    }
```

**error_isloadingFalseReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:170:48`
- ğŸ“ Original: `';
        _isLoading = false;
      });
      return;
    }
    
    // World laden
    _world = await _worldService.getWorld(int.parse(widget.worldId!));
    
    // Status prÃ¼fen
    await _checkWorldStatus();
    
    // Fertig!
    setState(() {
      _isLoading = false;
    });
  }

  // **INVITE-FLOW: Komplex mit Auth-PrÃ¼fung**
  Future<void> _handleInviteFlow() async {
    if (widget.inviteToken == null) {
      setState(() {
        _errorMessage = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<void> _handleNormalFlow() async {
    if (widget.worldId == null) {
      setState(() {
        _errorMessage = 'Keine Welt-ID gefunden';
        _isLoading = false;
      });
      return;
```

**error_isloadingFalseReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:192:55`
- ğŸ“ Original: `';
        _isLoading = false;
      });
      return;
    }
    
    // Token validieren
    final tokenData = await _worldService.validateInviteToken(widget.inviteToken!);
    
    if (tokenData == null || tokenData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<void> _handleInviteFlow() async {
    if (widget.inviteToken == null) {
      setState(() {
        _errorMessage = 'Kein Einladungstoken gefunden';
        _isLoading = false;
      });
      return;
```

**errorNullSetstate_errormessage** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:201:46`
- ğŸ“ Original: `'] == null) {
      setState(() {
        _errorMessage = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Token validieren
    final tokenData = await _worldService.validateInviteToken(widget.inviteToken!);
    
    if (tokenData == null || tokenData['world'] == null) {
      setState(() {
        _errorMessage = 'UngÃ¼ltiger oder abgelaufener Einladungslink';
        _isLoading = false;
```

**error_isloadingFalseReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:203:69`
- ğŸ“ Original: `';
        _isLoading = false;
      });
      return;
    }
    
    // World aus Token-Daten laden
    _world = World.fromJson(tokenData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (tokenData == null || tokenData['world'] == null) {
      setState(() {
        _errorMessage = 'UngÃ¼ltiger oder abgelaufener Einladungslink';
        _isLoading = false;
      });
      return;
```

**errorIsinvitevalidIsexpiredIsaccepted** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:236:72`
- ğŸ“ Original: `');
    }
    
    isInviteValid = !isExpired && !isAccepted;
    
    // World-Details
    final worldName = _world?.name ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
isAccepted = true;
      }
    } catch (e) {
      AppLogger.app.w('âš ï¸ Fehler beim Parsen der Invite-Zeitstempel: $e');
    }
    
    isInviteValid = !isExpired && !isAccepted;
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:364:46`
- ğŸ“ Original: `', error: {
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final preRegStatus = await _worldService.getPreRegistrationStatus(_world!.id);
      _isPreRegistered = preRegStatus.isPreRegistered;
      
      AppLogger.app.d('âœ… World-Status geprÃ¼ft', error: {
        'worldName': _world!.name,
        'isJoined': _isJoined,
        'isPreRegistered': _isPreRegistered
```

**errorFehlerBeimPrÃ¼fen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:370:26`
- ğŸ“ Original: `'Fehler beim PrÃ¼fen des World-Status'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'isPreRegistered': _isPreRegistered
      });
    } catch (e) {
      AppLogger.logError('Fehler beim PrÃ¼fen des World-Status', e);
    }
  }
```

**errorInviteBereitsAkzeptiert** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:399:33`
- ğŸ“ Original: `'Invite bereits akzeptiert'`
- ğŸ¯ Widget: Widget: SnackBar
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      // SPEZIALBEHANDLUNG: "Invite bereits akzeptiert" ist KEIN Fehler!
      if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Du bist bereits Mitglied dieser Welt "${_world?.name}"!';
```

**errorAutomatischeInviteakzeptierungFehlgeschlagen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:418:26`
- ğŸ“ Original: `'Automatische Invite-Akzeptierung fehlgeschlagen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
      
      // Andere Fehler normal behandeln
      AppLogger.logError('Automatische Invite-Akzeptierung fehlgeschlagen', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = 'Du kannst nun der Welt beitreten.';
```

**errorDuKannstNun** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:421:24`
- ğŸ“ Original: `'Du kannst nun der Welt beitreten.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logError('Automatische Invite-Akzeptierung fehlgeschlagen', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = 'Du kannst nun der Welt beitreten.';
      });
    }
  }
```

**errorInviteErfolgreichAkzeptiert** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:444:27`
- ğŸ“ Original: `'âœ… Invite erfolgreich akzeptiert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (inviteResult != null) {
          success = true;
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': _world!.id,
            'worldName': _world!.name
          });
```

**error_worldnameElseNormale** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:446:23`
- ğŸ“ Original: `': _world!.name
          });
        }
      } else {
        // **NORMALE NAVIGATION: Standard World-Join**
        AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
success = true;
          AppLogger.app.i('âœ… Invite erfolgreich akzeptiert', error: {
            'worldId': _world!.id,
            'worldName': _world!.name
          });
        }
      } else {
```

**errorBeitrittFehlgeschlagenVersuche** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:475:24`
- ğŸ“ Original: `'Beitritt fehlgeschlagen. Versuche es erneut.'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
      } else {
        setState(() {
          _joinError = 'Beitritt fehlgeschlagen. Versuche es erneut.';
        });
      }
    } catch (e) {
```

**errorWorldJoinFehlgeschlagen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:479:26`
- ğŸ“ Original: `'World Join fehlgeschlagen'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
      }
    } catch (e) {
      AppLogger.logError('World Join fehlgeschlagen', e, context: {
        'worldId': _world?.id,
        'worldName': _world?.name,
        'hasInviteToken': widget.inviteToken != null,
```

**errorBereitsAkzeptiert** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:488:35`
- ğŸ“ Original: `'bereits akzeptiert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {
        // Bessere Fehlermeldungen fÃ¼r verschiedene Szenarien
        if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
```

**errorDieseEinladungWurde** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:489:24`
- ğŸ“ Original: `'Diese Einladung wurde bereits akzeptiert.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {
        // Bessere Fehlermeldungen fÃ¼r verschiedene Szenarien
        if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
```

**errorNichtFÃ¼rDeine** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:491:42`
- ğŸ“ Original: `'nicht fÃ¼r deine E-Mail-Adresse'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
```

**errorDieseEinladungIst** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:492:24`
- ğŸ“ Original: `'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
```

**errorDieseEinladungIst** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:494:24`
- ğŸ“ Original: `'Diese Einladung ist abgelaufen.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
```

**errorEinFehlerIst** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:496:24`
- ğŸ“ Original: `'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
      });
    } finally {
```

**errorFinallySetstate_isjoining** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:496:98`
- ğŸ“ Original: `';
        }
      });
    } finally {
      setState(() {
        _isJoining = false;
      });
    }
  }
  
  Future<void> _preRegisterWorld() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.preRegisterWorldAuthenticated(world.id);
      
      if (success) {
        setState(() {
          _isPreRegistered = true;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
      });
    } finally {
```

**errorCatchESetstate** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:533:56`
- ğŸ“ Original: `';
        });
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
      } else {
        setState(() {
          _joinError = 'Fehler bei der Vorregistrierung';
        });
      }
    } catch (e) {
```

**errorFinallyIfMounted** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:538:62`
- ğŸ“ Original: `');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _cancelPreRegistration() async {
    final world = _world;
    if (world == null) return;

    setState(() {
      _isPreRegistering = true;
      _joinError = null;
    });

    try {
      final success = await _worldService.cancelPreRegistrationAuthenticated(world.id);
      if (success) {
        setState(() {
          _isPreRegistered = false;
        });
        
        if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
```

**errorCatchESetstate** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:575:70`
- ğŸ“ Original: `';
        });
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
      } else {
        setState(() {
          _joinError = 'Fehler beim ZurÃ¼ckziehen der Vorregistrierung';
        });
      }
    } catch (e) {
```

**errorFinallyIfMounted** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:580:62`
- ğŸ“ Original: `');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isPreRegistering = false;
        });
      }
    }
  }
  
  Future<void> _leaveWorld() async {
    final world = _world;
    if (world == null) return;
    
    // BestÃ¤tigungsdialog anzeigen
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
```

**errorFinallyIfMounted** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:640:62`
- ğŸ“ Original: `');
      });
    } finally {
      if (mounted) {
        setState(() {
          _isJoining = false;
        });
      }
    }
  }
  
  void _playWorld() {
    final world = _world;
    if (world == null) return;
    // Navigate directly to world dashboard for playing
    context.goNamed('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('Exception: ', '');
      });
    } finally {
      if (mounted) {
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:692:69`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('ğŸ« Navigation zur Registration mit Invite-E-Mail', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
```

**errorEmailFixedInvitetoken** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:692:86`
- ğŸ“ Original: `': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('ğŸ« Navigation zur Registration mit Invite-E-Mail', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
```

**errorNavigationZumLogin** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:704:21`
- ğŸ“ Original: `'ğŸ« Navigation zum Login fÃ¼r Invite'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation zu Login 
  void _navigateToLogin(String email) {
    AppLogger.app.i('ğŸ« Navigation zum Login fÃ¼r Invite', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
```

**errorEmailFixedInvitetoken** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:704:72`
- ğŸ“ Original: `': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
      _authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation zu Login 
  void _navigateToLogin(String email) {
    AppLogger.app.i('ğŸ« Navigation zum Login fÃ¼r Invite', error: {'email': email});
    
    // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen
    if (widget.inviteToken != null) {
```

**errorError** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:717:58`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('ğŸ« User logout fÃ¼r Invite-Umleitung', error: {'inviteEmail': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
```

**error_inviteemailFixedInvitetoken** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:717:81`
- ğŸ“ Original: `': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
        _authService.setPendingInviteRedirect(widget.inviteToken!);
      }
      
      await _authService.logout();
      
      if (mounted && _inviteEmail != null) {
        // Nach Logout zur Registration mit korrekter E-Mail
        context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// User abmelden und zur Registration weiterleiten
  Future<void> _logout() async {
    try {
      AppLogger.app.i('ğŸ« User logout fÃ¼r Invite-Umleitung', error: {'inviteEmail': _inviteEmail});
      
      // FIXED: Invite-Token fÃ¼r Post-Auth-Redirect setzen BEVOR logout
      if (widget.inviteToken != null) {
```

**errorEIfMounted** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:734:59`
- ğŸ“ Original: `', e);
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
      }
    } catch (e) {
      AppLogger.logError('Logout fÃ¼r Invite fehlgeschlagen', e);
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
```

**errorBackgroundcolorColorsredOverride** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:738:48`
- ğŸ“ Original: `'),
            backgroundColor: Colors.red,
          ),
        );
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    
    return Scaffold(
      body: BackgroundWidget(
        child: Stack(
          children: [
            // Main content
            SafeArea(
              child: _isLoading
                  ? const Center(
                      child: CircularProgressIndicator(
                        valueColor: AlwaysStoppedAnimation<Color>(AppTheme.primaryColor),
                      ),
                    )
                  : _errorMessage != null
                      ? _buildErrorState()
                      : _infoMessage != null
                          ? _buildInfoState()
                          : _world == null
                              ? _buildNotFoundState()
                              : _buildWorldContent(),
            ),
            
            // User info widget (only show when authenticated)
            if (_isAuthenticated)
              const UserInfoWidget(),
            
            // Navigation widget (only show when authenticated)
            if (_isAuthenticated)
              NavigationWidget(
                currentRoute: '`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('Fehler beim Abmelden'),
            backgroundColor: Colors.red,
          ),
        );
```

**errorStyleThemeofcontexttextthemeheadlinesmallcopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:828:43`
- ğŸ“ Original: `',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        _errorMessage ?? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 24),
                      Text(
                        'Fehler beim Laden',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
```

**errorStyleThemeofcontexttextthemebodylargecopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:836:61`
- ğŸ“ Original: `',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // Verschiedene Action-Buttons je nach Szenario
                      if (_showRegistrationButton && _inviteEmail != null) ...[
                        // Registration Button fÃ¼r neuen User
                        SizedBox(
                          width: double.infinity,
                          height: 48,
                          child: ElevatedButton.icon(
                            onPressed: () => _navigateToRegistration(_inviteEmail!),
                            icon: const Icon(Icons.person_add),
                            label: const Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        _errorMessage ?? 'Unbekannter Fehler',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

**errorStyleTextstylecolorColorsred400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1310:66`
- ğŸ“ Original: `',
                                style: TextStyle(color: Colors.red[400], fontSize: 14),
                              ),
                            ),
                          ],
                        ),
                      ),
                    ],
                  ],
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
  
  Widget _buildDescriptionTab() {
    return SingleChildScrollView(
      padding: const EdgeInsets.all(24),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          const Row(
            children: [
              Icon(Icons.info_outline, color: AppTheme.primaryColor, size: 24),
              SizedBox(width: 8),
              Text(
                '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(width: 8),
                            Expanded(
                              child: Text(
                                _joinError ?? 'Unbekannter Fehler',
                                style: TextStyle(color: Colors.red[400], fontSize: 14),
                              ),
                            ),
```

**errorErrorE_authservice** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:82:79`
- ğŸ“ Original: `', error: e);
      _authService = AuthService();
      _worldService = WorldService();
      _inviteService = InviteService();
    }
  }

  Future<void> _loadWorlds() async {
    setState(() {
      _isLoading = true;
      _error = null;
    });

    try {
      final worlds = await _worldService.getWorlds();
      if (mounted) {
        setState(() {
          _worlds = worlds;
          _isLoading = false;
        });
        
        // Simuliere Spieleranzahl fÃ¼r Demo-Zwecke
        _generateMockPlayerCounts();
        
        // Check player status for each world (silently handle 404s)
        _checkPlayerStatuses();
        _checkPreRegistrationStatuses();
        
        // Initial filter anwenden
        _applyFiltersAndSorting();
      }
    } catch (e) {
      if (mounted) {
        // Only show error for non-401/404 errors
        if (!e.toString().contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_inviteService = InviteService();
      }
    } catch (e) {
      AppLogger.app.w('âš ï¸ ServiceLocator Fehler - nutze direkte Instanziierung', error: e);
      _authService = AuthService();
      _worldService = WorldService();
      _inviteService = InviteService();
```

**errorTokenFehlt** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:116:102`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // Only show error for non-401/404 errors
        if (!e.toString().contains('401') && !e.toString().contains('404') && !e.toString().contains('Token fehlt')) {
          setState(() {
            _error = e.toString();
            _isLoading = false;
```

**errorFehlerBeimLaden** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:124:29`
- ğŸ“ Original: `'Fehler beim Laden der Welten: ${e.toString()}'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Fehler beim Laden der Welten: ${e.toString()}'),
              backgroundColor: AppTheme.errorColor,
            ),
          );
```

**errorEContext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:266:65`
- ğŸ“ Original: `', e, context: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        } else {
          // Only log other errors
          AppLogger.logError('Player-Status Check fehlgeschlagen', e, context: {'worldId': world.id});
        }
      }
    }
```

**errorWorldidFuturevoid_checkpreregistrationstatuses** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:266:89`
- ğŸ“ Original: `': world.id});
        }
      }
    }
  }

  Future<void> _checkPreRegistrationStatuses() async {
    for (final world in _worlds) {
      // Only check for worlds that support pre-registration
      if (world.canPreRegister) {
        try {
          final isPreRegistered = await _worldService.isPreRegisteredForWorld(world.id);
          if (mounted) {
            setState(() {
              _preRegisteredWorlds[world.id] = isPreRegistered;
            });
          }
        } catch (e) {
          // 404 means user is not pre-registered, which is normal
          if (e.toString().contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        } else {
          // Only log other errors
          AppLogger.logError('Player-Status Check fehlgeschlagen', e, context: {'worldId': world.id});
        }
      }
    }
```

**errorEContext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:293:77`
- ğŸ“ Original: `', e, context: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          } else {
            // Only log other errors
            AppLogger.logError('Pre-Registration Status Check fehlgeschlagen', e, context: {'worldId': world.id});
          }
        }
      }
```

**errorWorldidFuturevoid_joinworldworld** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:293:101`
- ğŸ“ Original: `': world.id});
          }
        }
      }
    }
  }

  Future<void> _joinWorld(World world) async {
    try {
      final success = await _worldService.joinWorld(world.id);
      if (success && mounted) {
        setState(() {
          _joinedWorlds[world.id] = true;
        });
        
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          } else {
            // Only log other errors
            AppLogger.logError('Pre-Registration Status Check fehlgeschlagen', e, context: {'worldId': world.id});
          }
        }
      }
```

**errorElseFinalErrormessage** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:325:35`
- ğŸ“ Original: `');
          }
        } else {
          final errorMessage = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
          if (mounted) {
            context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
```

**errorScaffoldmessengerofcontextshowsnackbarSnackbarContent** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:328:72`
- ğŸ“ Original: `');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
              backgroundColor: AppTheme.errorColor,
            ),
          );
        }
      }
    }
  }

  Future<void> _preRegisterWorld(World world) async {
    try {
      final success = await _worldService.preRegisterWorldAuthenticated(world.id);
      if (success && mounted) {
        setState(() {
          _preRegisteredWorlds[world.id] = true;
        });
        
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
```

**errorElseFinalErrormessage** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:363:35`
- ğŸ“ Original: `');
          }
        } else {
          final errorMessage = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
          if (mounted) {
            context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
```

**errorScaffoldmessengerofcontextshowsnackbarSnackbarContent** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:366:72`
- ğŸ“ Original: `');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
              backgroundColor: AppTheme.errorColor,
            ),
          );
        }
      }
    }
  }

  Future<void> _leaveWorld(World world) async {
    // Zeige BestÃ¤tigungsdialog
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
```

**errorElseFinalErrormessage** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:430:35`
- ğŸ“ Original: `');
          }
        } else {
          final errorMessage = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
          if (mounted) {
            context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
```

**errorScaffoldmessengerofcontextshowsnackbarSnackbarContent** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:433:72`
- ğŸ“ Original: `');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
              backgroundColor: AppTheme.errorColor,
            ),
          );
        }
      }
    }
  }

  Future<void> _cancelPreRegistration(World world) async {
    try {
      final success = await _worldService.cancelPreRegistrationAuthenticated(world.id);
      
      if (success && mounted) {
        setState(() {
          _preRegisteredWorlds[world.id] = false;
        });
        
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
```

**errorElseFinalErrormessage** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:469:35`
- ğŸ“ Original: `');
          }
        } else {
          final errorMessage = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
          if (mounted) {
            context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
```

**errorScaffoldmessengerofcontextshowsnackbarSnackbarContent** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:472:72`
- ğŸ“ Original: `');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
              backgroundColor: AppTheme.errorColor,
            ),
          );
        }
      }
    }
  }

  Future<void> _createInvite(World world) async {
    final result = await showDialog<String>(
      context: context,
      builder: (context) => InviteDialog(worldName: world.name),
    );

    if (result != null && result.isNotEmpty) {
      try {
        final success = await _inviteService.createInvite(world.id, result);
        if (success && mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            const SnackBar(
              content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context.goNamed('login');
          }
        } else {
          final errorMessage = e.toString().replaceAll('Exception: ', '');
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text(errorMessage),
```

**errorElseFinalErrormessage** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:509:37`
- ğŸ“ Original: `');
            }
          } else {
            final errorMessage = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Cache invalidieren nach Logout
            AppRouter.invalidateAuthCache();
            if (mounted) {
              context.goNamed('login');
            }
          } else {
            final errorMessage = e.toString().replaceAll('Exception: ', '');
```

**errorScaffoldmessengerofcontextshowsnackbarSnackbarContent** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:512:74`
- ğŸ“ Original: `');
            ScaffoldMessenger.of(context).showSnackBar(
              SnackBar(
                content: Text(errorMessage),
                backgroundColor: AppTheme.errorColor,
              ),
            );
          }
        }
      }
    }
  }

  // Deep-Link zur World-Join-Page
  void _navigateToWorldJoin(World world) {
    context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context.goNamed('login');
            }
          } else {
            final errorMessage = e.toString().replaceAll('Exception: ', '');
            ScaffoldMessenger.of(context).showSnackBar(
              SnackBar(
                content: Text(errorMessage),
```

**errorStyleTextstyleColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:687:70`
- ğŸ“ Original: `',
                                        style: TextStyle(
                                          color: Colors.red[200],
                                          fontWeight: FontWeight.bold,
                                        ),
                                      ),
                                      const SizedBox(height: 8),
                                      Text(
                                        _error ?? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      const SizedBox(height: 16),
                                      Text(
                                        'Fehler beim Laden der Welten',
                                        style: TextStyle(
                                          color: Colors.red[200],
                                          fontWeight: FontWeight.bold,
```

**errorStyleTextstyleColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:695:70`
- ğŸ“ Original: `',
                                        style: TextStyle(
                                          color: (Colors.red[200] ?? Colors.red).withOpacity(0.8),
                                        ),
                                        textAlign: TextAlign.center,
                                      ),
                                    ],
                                  ),
                                )
                              else if (_filteredWorlds.isEmpty)
                                Container(
                                  padding: const EdgeInsets.all(16),
                                  decoration: BoxDecoration(
                                    color: const Color(0xFF2D2D2D),
                                    borderRadius: BorderRadius.circular(12),
                                    border: Border.all(
                                      color: AppTheme.primaryColor.withOpacity(0.3),
                                    ),
                                  ),
                                  child: Column(
                                    children: [
                                      Icon(
                                        Icons.filter_list,
                                        size: 48,
                                        color: AppTheme.primaryColor.withOpacity(0.7),
                                      ),
                                      const SizedBox(height: 16),
                                      Text(
                                        '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      const SizedBox(height: 8),
                                      Text(
                                        _error ?? 'Unbekannter Fehler',
                                        style: TextStyle(
                                          color: (Colors.red[200] ?? Colors.red).withOpacity(0.8),
                                        ),
```

**errorBackgroundcolorAppthemeerrorcolorFinally** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:52:51`
- ğŸ“ Original: `'),
            backgroundColor: AppTheme.errorColor,
          ),
        );
      }
    } finally {
      if (mounted) {
        setState(() {
          _isLoading = false;
        });
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    return AlertDialog(
      backgroundColor: const Color(0xFF1A1A1A), // Dunkler Hintergrund
      shape: RoundedRectangleBorder(
        borderRadius: BorderRadius.circular(20),
        side: BorderSide(
          color: AppTheme.primaryColor.withOpacity(0.3),
          width: 1,
        ),
      ),
      title: Text(
        '`
- ğŸ¯ Widget: Widget: SnackBar
- ğŸ”§ Context:
```dart
if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Fehler: ${e.toString()}'),
            backgroundColor: AppTheme.errorColor,
          ),
        );
```

### ğŸ·ï¸ INVITE

**inviteModelsuserdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:3:8`
- ğŸ“ Original: `'../models/user.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'package:flutter/foundation.dart';
import '../models/user.dart';
import '../../config/logger.dart';
import 'api_service.dart';
import 'token_storage.dart';
```

**inviteConfigloggerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:4:8`
- ğŸ“ Original: `'../../config/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'package:flutter/foundation.dart';
import '../models/user.dart';
import '../../config/logger.dart';
import 'api_service.dart';
import 'token_storage.dart';
```

**inviteIfPartslength3** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:161:35`
- ğŸ“ Original: `');
      if (parts.length != 3) return null;
      
      final payload = jsonDecode(utf8.decode(base64Url.decode(base64Url.normalize(parts[1]))));
      final exp = payload['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Token-Ablaufzeit extrahieren
  DateTime? _getTokenExpiration(String token) {
    try {
      final parts = token.split('.');
      if (parts.length != 3) return null;
      
      final payload = jsonDecode(utf8.decode(base64Url.decode(base64Url.normalize(parts[1]))));
```

**inviteFinalRefreshtokenData** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:184:46`
- ğŸ“ Original: `'];
        final refreshToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
        final accessToken = data['accessToken'];
        final refreshToken = data['refreshToken'];
        final userData = data['user'];
```

**inviteFinalUserdataData** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:185:48`
- ğŸ“ Original: `'];
        final userData = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
        final accessToken = data['accessToken'];
        final refreshToken = data['refreshToken'];
        final userData = data['user'];

        // Tokens speichern und API-Service aktualisieren
```

**inviteTokensSpeichernUnd** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:186:36`
- ğŸ“ Original: `'];

        // Tokens speichern und API-Service aktualisieren
        await _saveTokensAndUpdateService(accessToken, refreshToken);
        await TokenStorage.saveUserData(jsonEncode(userData));

        // User-Objekt erstellen
        _currentUser = User.fromJson(userData);
        isAuthenticated.value = true; // Reaktiven Status setzen
        
        // Fetch complete user data with roles
        await fetchCurrentUser();
        
        AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final data = jsonDecode(response.body);
        final accessToken = data['accessToken'];
        final refreshToken = data['refreshToken'];
        final userData = data['user'];

        // Tokens speichern und API-Service aktualisieren
        await _saveTokensAndUpdateService(accessToken, refreshToken);
```

**inviteFinalRefreshtokenData** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:244:46`
- ğŸ“ Original: `'];
        final refreshToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final data = jsonDecode(response.body);
        
        // Token aus der Response extrahieren
        final accessToken = data['accessToken'];
        final refreshToken = data['refreshToken'];
        
        if (accessToken != null && refreshToken != null) {
```

**inviteIfAccesstokenNull** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:245:48`
- ğŸ“ Original: `'];
        
        if (accessToken != null && refreshToken != null) {
          // Tokens speichern und API-Service aktualisieren
          await _saveTokensAndUpdateService(accessToken, refreshToken);
        }
        
        final userData = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Token aus der Response extrahieren
        final accessToken = data['accessToken'];
        final refreshToken = data['refreshToken'];
        
        if (accessToken != null && refreshToken != null) {
          // Tokens speichern und API-Service aktualisieren
```

**inviteLogRegistrationDebug** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:252:36`
- ğŸ“ Original: `'];
        
        // Log Registration Debug Info
        if (userData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _saveTokensAndUpdateService(accessToken, refreshToken);
        }
        
        final userData = data['user'];
        
        // Log Registration Debug Info
        if (userData['_debug'] != null) {
```

**inviteRefreshtokenrotationNeuenRefreshtoken** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:384:49`
- ğŸ“ Original: `'];
        
        // Refresh-Token-Rotation: Neuen Refresh-Token verwenden falls vorhanden
        final newRefreshToken = data['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
        final newAccessToken = data['accessToken'];
        
        // Refresh-Token-Rotation: Neuen Refresh-Token verwenden falls vorhanden
        final newRefreshToken = data['refreshToken'];
```

**inviteFinalCurrentrefreshtokenAwait** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:387:51`
- ğŸ“ Original: `'];
        final currentRefreshToken = await TokenStorage.getRefreshToken();
        final finalRefreshToken = newRefreshToken ?? currentRefreshToken;
        
        // Tokens speichern und API-Service aktualisieren
        await _saveTokensAndUpdateService(newAccessToken, finalRefreshToken);
        return true;
      } else {
        await logout();
        return false;
      }
    } catch (e) {
      await logout();
      return false;
    } finally {
      _refreshing = false;
    }
  }

  // Optionaler Force-Refresh fÃ¼r manuelle Token-Erneuerung
  Future<bool> forceRefreshToken() async {
    final tokenValid = await refreshTokenIfNeeded();
    if (!tokenValid) {
      await logout();
    }
    return tokenValid;
  }

  // Fetch current user data with roles from server
  Future<User?> fetchCurrentUser() async {
    try {
      final response = await _apiService.get('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final newAccessToken = data['accessToken'];
        
        // Refresh-Token-Rotation: Neuen Refresh-Token verwenden falls vorhanden
        final newRefreshToken = data['refreshToken'];
        final currentRefreshToken = await TokenStorage.getRefreshToken();
        final finalRefreshToken = newRefreshToken ?? currentRefreshToken;
```

**inviteBackgroundcolorColorsgreenDuration** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:128:99`
- ğŸ“ Original: `'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
            );
            
            // Kurze VerzÃ¶gerung fÃ¼r bessere UX
            await Future.delayed(const Duration(milliseconds: 500));
            
            if (mounted) {
              if (params != null) {
                context.goNamed(routeName, pathParameters: params);
              } else {
                context.goNamed(routeName);
              }
            }
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**inviteBackgroundcolorColorsgreenDuration** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:150:99`
- ğŸ“ Original: `'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
            );
            
            // Kurze VerzÃ¶gerung fÃ¼r bessere UX
            await Future.delayed(const Duration(milliseconds: 500));
            
            if (mounted) {
              context.goNamed('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**inviteFinalCreatedatstringInvitedata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:219:50`
- ğŸ“ Original: `'];
    final createdAtString = inviteData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final invitedByName = invitedByData?['username'] ?? 'Unbekannt';
    
    // Invite-Zeitstempel verarbeiten
    final expiresAtString = inviteData['expiresAt'];
    final createdAtString = inviteData['createdAt'];
    final acceptedAtString = inviteData['acceptedAt']; // Falls bereits akzeptiert
```

**inviteFinalAcceptedatstringInvitedata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:220:50`
- ğŸ“ Original: `'];
    final acceptedAtString = inviteData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Invite-Zeitstempel verarbeiten
    final expiresAtString = inviteData['expiresAt'];
    final createdAtString = inviteData['createdAt'];
    final acceptedAtString = inviteData['acceptedAt']; // Falls bereits akzeptiert
    
    DateTime? expiresAt;
```

**inviteFallsBereitsAkzeptiert** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:221:52`
- ğŸ“ Original: `']; // Falls bereits akzeptiert
    
    DateTime? expiresAt;
    bool isExpired = false;
    bool isAccepted = false;
    
    try {
      if (expiresAtString != null) {
        expiresAt = DateTime.parse(expiresAtString);
        isExpired = DateTime.now().isAfter(expiresAt);
      }
      if (acceptedAtString != null) {
        isAccepted = true;
      }
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Invite-Zeitstempel verarbeiten
    final expiresAtString = inviteData['expiresAt'];
    final createdAtString = inviteData['createdAt'];
    final acceptedAtString = inviteData['acceptedAt']; // Falls bereits akzeptiert
    
    DateTime? expiresAt;
    bool isExpired = false;
```

**inviteExpiresatlocalmonthtostringpadleft2** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:270:69`
- ğŸ“ Original: `')}.${expiresAtLocal.month.toString().padLeft(2, '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
String validityText = '';
    if (expiresAt != null) {
      final expiresAtLocal = expiresAt.toLocal();
      final dateStr = '${expiresAtLocal.day.toString().padLeft(2, '0')}.${expiresAtLocal.month.toString().padLeft(2, '0')}.${expiresAtLocal.year} ${expiresAtLocal.hour.toString().padLeft(2, '0')}:${expiresAtLocal.minute.toString().padLeft(2, '0')}';
      
      if (isAccepted) {
        validityText = '\n\nâœ… Diese Einladung wurde bereits akzeptiert.';
```

**inviteExpiresatlocalyearExpiresatlocalhourtostringpadleft2** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:270:120`
- ğŸ“ Original: `')}.${expiresAtLocal.year} ${expiresAtLocal.hour.toString().padLeft(2, '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
String validityText = '';
    if (expiresAt != null) {
      final expiresAtLocal = expiresAt.toLocal();
      final dateStr = '${expiresAtLocal.day.toString().padLeft(2, '0')}.${expiresAtLocal.month.toString().padLeft(2, '0')}.${expiresAtLocal.year} ${expiresAtLocal.hour.toString().padLeft(2, '0')}:${expiresAtLocal.minute.toString().padLeft(2, '0')}';
      
      if (isAccepted) {
        validityText = '\n\nâœ… Diese Einladung wurde bereits akzeptiert.';
```

**inviteExpiresatlocalminutetostringpadleft2** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:270:193`
- ğŸ“ Original: `')}:${expiresAtLocal.minute.toString().padLeft(2, '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
String validityText = '';
    if (expiresAt != null) {
      final expiresAtLocal = expiresAt.toLocal();
      final dateStr = '${expiresAtLocal.day.toString().padLeft(2, '0')}.${expiresAtLocal.month.toString().padLeft(2, '0')}.${expiresAtLocal.year} ${expiresAtLocal.hour.toString().padLeft(2, '0')}:${expiresAtLocal.minute.toString().padLeft(2, '0')}';
      
      if (isAccepted) {
        validityText = '\n\nâœ… Diese Einladung wurde bereits akzeptiert.';
```

**inviteIfIsacceptedValiditytext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:270:248`
- ğŸ“ Original: `';
      
      if (isAccepted) {
        validityText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
String validityText = '';
    if (expiresAt != null) {
      final expiresAtLocal = expiresAt.toLocal();
      final dateStr = '${expiresAtLocal.day.toString().padLeft(2, '0')}.${expiresAtLocal.month.toString().padLeft(2, '0')}.${expiresAtLocal.year} ${expiresAtLocal.hour.toString().padLeft(2, '0')}:${expiresAtLocal.minute.toString().padLeft(2, '0')}';
      
      if (isAccepted) {
        validityText = '\n\nâœ… Diese Einladung wurde bereits akzeptiert.';
```

**inviteElseIfIsexpired** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:273:72`
- ğŸ“ Original: `';
      } else if (isExpired) {
        validityText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
final dateStr = '${expiresAtLocal.day.toString().padLeft(2, '0')}.${expiresAtLocal.month.toString().padLeft(2, '0')}.${expiresAtLocal.year} ${expiresAtLocal.hour.toString().padLeft(2, '0')}:${expiresAtLocal.minute.toString().padLeft(2, '0')}';
      
      if (isAccepted) {
        validityText = '\n\nâœ… Diese Einladung wurde bereits akzeptiert.';
      } else if (isExpired) {
        validityText = '\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.';
      } else {
```

**inviteElseValiditytext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:275:74`
- ğŸ“ Original: `';
      } else {
        validityText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (isAccepted) {
        validityText = '\n\nâœ… Diese Einladung wurde bereits akzeptiert.';
      } else if (isExpired) {
        validityText = '\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.';
      } else {
        validityText = '\n\nâ° GÃ¼ltig bis: $dateStr';
      }
```

**inviteFinalBaseinfotext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:277:51`
- ğŸ“ Original: `';
      }
    }
    
    final baseInfoText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
} else if (isExpired) {
        validityText = '\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.';
      } else {
        validityText = '\n\nâ° GÃ¼ltig bis: $dateStr';
      }
    }
```

**inviteBeiUngÃ¼ltigenInvites** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:327:49`
- ğŸ“ Original: `';
    }
    
    // Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
default:
        AppLogger.app.w('âŒ Unbekannter User-Status: $status');
        actionText = 'Unbekannter Status: $status';
        infoText = '$baseInfoText\n\n$actionText';
    }
    
    // Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
```

**inviteSetstate_infomessageInfotext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:332:76`
- ğŸ“ Original: `';
    }
    
    setState(() {
      _infoMessage = infoText;
      _inviteEmail = inviteEmail;
      
      // Button-Flags setzen
      _showLoginButton = showLoginButton;
      _showRegistrationButton = showRegisterButton; 
      _showLogoutButton = showLogoutButton;
      _showAcceptInviteButton = showAcceptButton;
      
      // WICHTIG: Alte Fehlermeldung zurÃ¼cksetzen!
      _errorMessage = null;
      
      _isLoading = false;
    });
  }

  // Neue Methode: World-Status fÃ¼r normale Navigation prÃ¼fen
  Future<void> _checkWorldStatus() async {
    if (_world == null) return;
    
    try {
      // PrÃ¼fe ob User bereits Mitglied ist
      _isJoined = await _worldService.isPlayerInWorld(_world!.id);
      
      // PrÃ¼fe Vorregistrierung
      final preRegStatus = await _worldService.getPreRegistrationStatus(_world!.id);
      _isPreRegistered = preRegStatus.isPreRegistered;
      
      AppLogger.app.d('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.';
    }
    
    setState(() {
```

**inviteStyleTextstylefontsize16** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1683:40`
- ğŸ“ Original: `',
                    style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                  ),
          ),
        ),
      );
    }

    // **LOGOUT BUTTON (wenn User mit falscher E-Mail angemeldet)**
    if (_showLogoutButton) {
      buttons.add(
        Container(
          width: double.infinity,
          margin: const EdgeInsets.only(bottom: 12.0),
          child: ElevatedButton(
            onPressed: () async {
              await _authService.logout();
              // Nach Logout zur Landing-Page
              if (mounted) {
                context.go('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  )
                : const Text(
                    'Einladung annehmen',
                    style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                  ),
          ),
```

**inviteBackgroundcolorColorsgreenCatch** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:496:62`
- ğŸ“ Original: `'),
              backgroundColor: Colors.green,
            ),
          );
        }
      } catch (e) {
        if (mounted) {
          // PrÃ¼fe ob es ein Token-Problem ist
          if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (success && mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            const SnackBar(
              content: Text('Einladung erfolgreich versendet!'),
              backgroundColor: Colors.green,
            ),
          );
```

**inviteEinladungSenden** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:149:28`
- ğŸ“ Original: `'Einladung senden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                  ),
                )
              : const Text('Einladung senden'),
          ),
        ),
      ],
```

### ğŸ·ï¸ UI

**ui2ServicesInitialisieren** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\app.dart:89:49`
- ğŸ“ Original: `');
    
    // 2. Services initialisieren (jetzt sicher, da App bereits lÃ¤uft)
    try {
      final authService = AuthService();
      final apiService = ApiService.withAuth(authService);
      final worldService = WorldService();
      final inviteService = InviteService();

      ServiceLocator.register<AuthService>(authService);
      ServiceLocator.register<ApiService>(apiService);
      ServiceLocator.register<WorldService>(worldService);
      ServiceLocator.register<InviteService>(inviteService);
      
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// 1. Environment initialisieren
    await Env.initialize();
    
    AppLogger.app.i('ğŸŒ Environment initialisiert');
    
    // 2. Services initialisieren (jetzt sicher, da App bereits lÃ¤uft)
    try {
```

**ui500FuturehttpresponseDeletewithbodystring** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\api_service.dart:201:47`
- ğŸ“ Original: `', 500);
  }

  Future<http.Response> deleteWithBody(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
headers: _headers,
        );
    }
    return http.Response('Request retry failed', 500);
  }

  Future<http.Response> deleteWithBody(String endpoint, Map<String, dynamic> data) async {
```

**uiModernsteSicherheitUnd** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\landing\landing_page.dart:526:50`
- ğŸ“ Original: `'Modernste Sicherheit und faire Spielregeln fÃ¼r alle'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.security,
                                    title: 'Sicher & Fair',
                                    description: 'Modernste Sicherheit und faire Spielregeln fÃ¼r alle',
                                    color: Colors.orange,
                                  ),
                                  _buildFeatureCard(
```

**uiOptimierteServerFÃ¼r** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\landing\landing_page.dart:532:50`
- ğŸ“ Original: `'Optimierte Server fÃ¼r minimale Latenz'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.speed,
                                    title: 'Blitzschnell',
                                    description: 'Optimierte Server fÃ¼r minimale Latenz',
                                    color: Colors.purple,
                                  ),
                                  _buildFeatureCard(
```

**uiÃœberallSpielen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\landing\landing_page.dart:537:44`
- ğŸ“ Original: `'Ãœberall spielen'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
),
                                  _buildFeatureCard(
                                    icon: Icons.devices,
                                    title: 'Ãœberall spielen',
                                    description: 'Auf PC, Tablet oder Smartphone - immer dabei',
                                    color: Colors.red,
                                  ),
```

**uiBereitFÃ¼rDein** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\landing\landing_page.dart:572:35`
- ğŸ“ Original: `'Bereit fÃ¼r dein Abenteuer?'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Column(
                              children: [
                                const Text(
                                  'Bereit fÃ¼r dein Abenteuer?',
                                  style: TextStyle(
                                    fontSize: 28,
                                    fontWeight: FontWeight.bold,
```

**uiServicecontainerFÃ¼rDependency** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\main.dart:5:27`
- ğŸ“ Original: `';

// Service-Container fÃ¼r Dependency Injection
class ServiceLocator {
  static final Map<Type, dynamic> _services = {};

  static void register<T>(T service) {
    _services[T] = service;
  }

  static T get<T>() {
    final service = _services[T];
    if (service == null) {
      throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/services.dart';
import 'package:flutter/foundation.dart';
import 'app.dart';
import 'config/logger.dart';

// Service-Container fÃ¼r Dependency Injection
class ServiceLocator {
```

**uiMenÃ¼Ã–ffnen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:210:19`
- ğŸ“ Original: `'MenÃ¼ Ã¶ffnen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                ),
                Text(
                  'MenÃ¼ Ã¶ffnen',
                  style: TextStyle(
                    color: Colors.grey[400],
                    fontSize: 12,
```

**ui_timedoutTrueFinal** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:65:31`
- ğŸ“ Original: `') {
          _timedOut = true;
          final onTimeout = widget.onTimeout;
          if (onTimeout != null) {
            onTimeout();
          }
        }
      } else {
        await _runInitializationWithSteps();
      }
      
      if (mounted) {
        setState(() {
          _isInitialized = true;
        });
        
        // Kurze VerzÃ¶gerung fÃ¼r smooth Transition
        await Future.delayed(const Duration(milliseconds: 500));
        
        // KEIN reverse() mehr - das hat die App ausgeblendet!
        // _animationController.reverse(); // ENTFERNT
      }
    } catch (e) {
      AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}),
        ]);
        
        if (result == 'timeout') {
          _timedOut = true;
          final onTimeout = widget.onTimeout;
          if (onTimeout != null) {
```

**uiInitialisierungDauertLÃ¤nger** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:248:19`
- ğŸ“ Original: `'Initialisierung dauert lÃ¤nger als erwartet...'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
border: Border.all(color: Colors.orange.withOpacity(0.5)),
                ),
                child: const Text(
                  'Initialisierung dauert lÃ¤nger als erwartet...',
                  style: TextStyle(
                    fontSize: 12,
                    color: Colors.orange,
```

**uiÃœberspringen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:324:39`
- ğŸ“ Original: `'Ãœberspringen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
_isInitialized = true;
                      });
                    },
                    child: const Text('Ãœberspringen'),
                  ),
                ],
              ),
```

**uiKlickenFÃ¼rDetails** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:179:37`
- ğŸ“ Original: `'Klicken fÃ¼r Details'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                if (!_isExpanded)
                                  Text(
                                    'Klicken fÃ¼r Details',
                                    style: TextStyle(
                                      color: Colors.grey[400],
                                      fontSize: 12,
```

### ğŸ·ï¸ WORLD

**worldStatusWorldstatusvaluesfirstwhereE** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\models\world.dart:29:23`
- ğŸ“ Original: `'],
      status: WorldStatus.values.firstWhere(
        (e) => e.toString().split('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
factory World.fromJson(Map<String, dynamic> json) {
    return World(
      id: json['id'],
      name: json['name'],
      status: WorldStatus.values.firstWhere(
        (e) => e.toString().split('.').last == json['status'],
        orElse: () => WorldStatus.upcoming,
```

**worldOrelseWorldstatusupcomingCreatedat** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\models\world.dart:31:60`
- ğŸ“ Original: `'],
        orElse: () => WorldStatus.upcoming,
      ),
      createdAt: DateTime.parse(json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
id: json['id'],
      name: json['name'],
      status: WorldStatus.values.firstWhere(
        (e) => e.toString().split('.').last == json['status'],
        orElse: () => WorldStatus.upcoming,
      ),
      createdAt: DateTime.parse(json['createdAt']),
```

**worldStartsatDatetimeparsejson** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\models\world.dart:34:48`
- ğŸ“ Original: `']),
      startsAt: DateTime.parse(json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
(e) => e.toString().split('.').last == json['status'],
        orElse: () => WorldStatus.upcoming,
      ),
      createdAt: DateTime.parse(json['createdAt']),
      startsAt: DateTime.parse(json['startsAt']),
      endsAt: json['endsAt'] != null ? DateTime.parse(json['endsAt']) : null,
    );
```

**worldEndsatJson** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\models\world.dart:35:46`
- ğŸ“ Original: `']),
      endsAt: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
orElse: () => WorldStatus.upcoming,
      ),
      createdAt: DateTime.parse(json['createdAt']),
      startsAt: DateTime.parse(json['startsAt']),
      endsAt: json['endsAt'] != null ? DateTime.parse(json['endsAt']) : null,
    );
  }
```

**worldOrangeCaseWorldstatusopen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\models\world.dart:69:24`
- ğŸ“ Original: `'; // Orange
      case WorldStatus.open:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
String get statusColor {
    switch (status) {
      case WorldStatus.upcoming:
        return '#FFA500'; // Orange
      case WorldStatus.open:
        return '#4CAF50'; // Green
      case WorldStatus.running:
```

**worldGreenCaseWorldstatusrunning** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\models\world.dart:71:24`
- ğŸ“ Original: `'; // Green
      case WorldStatus.running:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldStatus.upcoming:
        return '#FFA500'; // Orange
      case WorldStatus.open:
        return '#4CAF50'; // Green
      case WorldStatus.running:
        return '#2196F3'; // Blue
      case WorldStatus.closed:
```

**worldIfResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:191:71`
- ğŸ“ Original: `');
      
      if (response.statusCode == 200) {
        final List<dynamic> invitesJson = jsonDecode(response.body);
        return invitesJson.map((json) => Invite.fromJson(json as Map<String, dynamic>)).toList();
      } else {
        throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<List<Invite>> getInvites(int worldId) async {
    try {
      final response = await _apiService.get('/worlds/$worldId/invites');
      
      if (response.statusCode == 200) {
        final List<dynamic> invitesJson = jsonDecode(response.body);
```

**worldTokenFinalResponse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:223:17`
- ğŸ“ Original: `': token,
        };
        final response = await _apiService.deleteWithBody('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      if (token != null) {
        final data = <String, dynamic>{
          'token': token,
        };
        final response = await _apiService.deleteWithBody('/worlds/$worldId/invites/$inviteId', data);
        return response.statusCode == 200;
```

**worldDataReturnResponsestatuscode** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\invite_service.dart:225:94`
- ğŸ“ Original: `', data);
        return response.statusCode == 200;
      } else {
        final response = await _apiService.delete('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final data = <String, dynamic>{
          'token': token,
        };
        final response = await _apiService.deleteWithBody('/worlds/$worldId/invites/$inviteId', data);
        return response.statusCode == 200;
      } else {
        final response = await _apiService.delete('/worlds/$worldId/invites/$inviteId');
```

**worldDartconvert** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:1:8`
- ğŸ“ Original: `'dart:convert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'dart:io';
import 'package:http/http.dart' as http;
import '../models/world.dart';
```

**worldIfResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:137:54`
- ğŸ“ Original: `');
      
      if (response.statusCode == 200) {
        final List<dynamic> worldsJson = jsonDecode(response.body);
        return worldsJson.map((json) => World.fromJson(json)).toList();
      } else {
        throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<List<World>> getWorlds() async {
    try {
      final response = await _apiService.get('/worlds');
      
      if (response.statusCode == 200) {
        final List<dynamic> worldsJson = jsonDecode(response.body);
```

**worldIfResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:161:63`
- ğŸ“ Original: `');
      
      if (response.statusCode == 200) {
        final worldJson = jsonDecode(response.body);
        return World.fromJson(worldJson);
      } else {
        throw Exception('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<World> getWorld(int worldId) async {
    try {
      final response = await _apiService.get('/worlds/$worldId');
      
      if (response.statusCode == 200) {
        final worldJson = jsonDecode(response.body);
```

**worldIfResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:185:69`
- ğŸ“ Original: `', {});
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        return responseData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<bool> joinWorld(int worldId) async {
    try {
      final response = await _apiService.post('/worlds/$worldId/join', {});
      
      if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
```

**worldReturnResponsestatuscode200** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:342:74`
- ğŸ“ Original: `');
      
      return response.statusCode == 200;
    } catch (e) {
      // 404 means user is not in this world, which is normal
      // Don'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<bool> isPlayerInWorld(int worldId) async {
    try {
      final response = await _apiService.get('/worlds/$worldId/players/me');
      
      return response.statusCode == 200;
    } catch (e) {
```

**worldFehlerbehandlungFÃ¼rSpezifische** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\world_service.dart:411:36`
- ğŸ“ Original: `'];
        }
      }
      
      // Fehlerbehandlung fÃ¼r spezifische HTTP-Status-Codes
      if (response.statusCode == 409) {
        AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'worldId': responseData['data']['world']?['id'],
            'worldName': responseData['data']['world']?['name']
          });
          return responseData['data'];
        }
      }
```

**worldCatchEApploggerlogerror** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:133:40`
- ğŸ“ Original: `');
          }
        }
      }
    } catch (e) {
      AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
            context.goNamed('world-list');
          }
        }
      }
```

**worldStyleThemeofcontexttextthemeheadlinemediumcopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:225:63`
- ğŸ“ Original: `',
                                    style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                      color: Colors.white,
                                      fontWeight: FontWeight.bold,
                                      fontSize: 24,
                                    ),
                                  ),
                                  const SizedBox(height: 8),
                                  Text(
                                    '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                  const SizedBox(height: 20),
                                  Text(
                                    'Willkommen bei Weltenwind',
                                    style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                      color: Colors.white,
                                      fontWeight: FontWeight.bold,
```

**worldStyleThemeofcontexttextthemebodylargecopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:234:81`
- ğŸ“ Original: `',
                                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                      color: Colors.grey[300],
                                      fontSize: 16,
                                    ),
                                    textAlign: TextAlign.center,
                                  ),
                                  const SizedBox(height: 32),
                                  
                                  // Username field with better validation
                                  TextFormField(
                                    controller: _usernameController,
                                    style: const TextStyle(color: Colors.white),
                                    autofillHints: const [AutofillHints.username],
                                    textInputAction: TextInputAction.next,
                                    onChanged: (_) {
                                      if (!_hasInteractedWithUsername) {
                                        setState(() {
                                          _hasInteractedWithUsername = true;
                                        });
                                      }
                                    },
                                    decoration: InputDecoration(
                                      labelText: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                  const SizedBox(height: 8),
                                  Text(
                                    'Melde dich an, um deine Welten zu verwalten',
                                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                      color: Colors.grey[300],
                                      fontSize: 16,
```

**worldPathparameters** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:160:51`
- ğŸ“ Original: `', pathParameters: {'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
await Future.delayed(const Duration(milliseconds: 500));
            
            if (mounted) {
              context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
            }
          } else {
            // Standard-Redirect zu Welten-Liste
```

**world_invitetokenElseStandardredirect** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:160:77`
- ğŸ“ Original: `': _inviteToken!});
            }
          } else {
            // Standard-Redirect zu Welten-Liste
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
await Future.delayed(const Duration(milliseconds: 500));
            
            if (mounted) {
              context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
            }
          } else {
            // Standard-Redirect zu Welten-Liste
```

**worldBackgroundcolorColorsgreenDuration** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:166:85`
- ğŸ“ Original: `'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
            );
            
            context.goNamed('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
// Standard-Redirect zu Welten-Liste
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Willkommen bei Weltenwind!'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**worldCatchEApploggerlogerror** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:172:40`
- ğŸ“ Original: `');
          }
        }
      }
    } catch (e) {
      AppLogger.logError('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
),
            );
            
            context.goNamed('world-list');
          }
        }
      }
```

**worldStyleThemeofcontexttextthemebodymediumcopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:262:66`
- ğŸ“ Original: `',
                              style: Theme.of(context).textTheme.bodyMedium?.copyWith(
                                color: Colors.grey[300],
                                fontSize: 16,
                              ),
                              textAlign: TextAlign.center,
                            ),
                            const SizedBox(height: 32),

                            // Username field
                            TextFormField(
                              controller: _usernameController,
                              style: const TextStyle(color: Colors.white),
                              decoration: InputDecoration(
                                labelText: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                            const SizedBox(height: 8),
                            Text(
                              'Erstelle dein Konto fÃ¼r Weltenwind',
                              style: Theme.of(context).textTheme.bodyMedium?.copyWith(
                                color: Colors.grey[300],
                                fontSize: 16,
```

**worldPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import '../../../config/logger.dart';
import '../../../core/models/world.dart';
```

**worldPackageflutterfoundationdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:2:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import '../../../config/logger.dart';
import '../../../core/models/world.dart';
import '../../../core/services/world_service.dart';
```

**worldBool_sortascendingTrue** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:26:30`
- ğŸ“ Original: `';
  bool _sortAscending = true;

  // Getters
  List<World> get worlds => _worlds;
  List<World> get filteredWorlds => _filteredWorlds;
  Map<int, int> get playerCounts => _playerCounts;
  Map<int, bool> get preRegisteredWorlds => _preRegisteredWorlds;
  Map<int, bool> get joinedWorlds => _joinedWorlds;
  bool get isLoading => _isLoading;
  String? get error => _error;
  WorldStatus? get statusFilter => _statusFilter;
  WorldCategory? get categoryFilter => _categoryFilter;
  String get sortBy => _sortBy;
  bool get sortAscending => _sortAscending;

  WorldListController({
    required WorldService worldService,
    required InviteService inviteService,
  })  : _worldService = worldService,
        _inviteService = inviteService;

  Future<void> loadWorlds() async {
    _setLoading(true);
    _error = null;

    try {
      _worlds = await _worldService.getWorlds();
      await _loadPlayerCounts();
      await _checkPlayerStatuses();
      _applyFiltersAndSorting();
    } catch (e) {
      _error = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Filters & Sorting
  WorldStatus? _statusFilter;
  WorldCategory? _categoryFilter;
  String _sortBy = 'startDate';
  bool _sortAscending = true;

  // Getters
```

**worldReturnWorldcategorypvpElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:168:47`
- ğŸ“ Original: `')) {
      return WorldCategory.pvp;
    } else if (world.name.toLowerCase().contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
WorldCategory _getWorldCategory(World world) {
    // This is a placeholder logic - you might want to adjust based on your needs
    if (world.name.toLowerCase().contains('pvp')) {
      return WorldCategory.pvp;
    } else if (world.name.toLowerCase().contains('event')) {
      return WorldCategory.event;
```

**worldReturnWorldcategoryeventElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:170:56`
- ğŸ“ Original: `')) {
      return WorldCategory.event;
    } else if (world.name.toLowerCase().contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// This is a placeholder logic - you might want to adjust based on your needs
    if (world.name.toLowerCase().contains('pvp')) {
      return WorldCategory.pvp;
    } else if (world.name.toLowerCase().contains('event')) {
      return WorldCategory.event;
    } else if (world.name.toLowerCase().contains('experimental') || 
               world.name.toLowerCase().contains('test')) {
```

**worldWorldnametolowercasecontains** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:172:63`
- ğŸ“ Original: `') || 
               world.name.toLowerCase().contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return WorldCategory.pvp;
    } else if (world.name.toLowerCase().contains('event')) {
      return WorldCategory.event;
    } else if (world.name.toLowerCase().contains('experimental') || 
               world.name.toLowerCase().contains('test')) {
      return WorldCategory.experimental;
    }
```

**worldReturnWorldcategoryexperimentalReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:173:55`
- ğŸ“ Original: `')) {
      return WorldCategory.experimental;
    }
    return WorldCategory.classic;
  }

  Future<void> joinWorld(World world) async {
    try {
      await _worldService.joinWorld(world.id);
      _joinedWorlds[world.id] = true;
      
      // Update player count
      final currentCount = _playerCounts[world.id] ?? 0;
      _playerCounts[world.id] = currentCount + 1;
      
      notifyListeners();
    } catch (e) {
      _error = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (world.name.toLowerCase().contains('event')) {
      return WorldCategory.event;
    } else if (world.name.toLowerCase().contains('experimental') || 
               world.name.toLowerCase().contains('test')) {
      return WorldCategory.experimental;
    }
    return WorldCategory.classic;
```

**worldPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../../core/models/world.dart';
import '../../../theme/app_theme.dart';
```

**worldEnumWorldcategoryClassic** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:3:38`
- ğŸ“ Original: `';

enum WorldCategory {
  classic,
  pvp,
  event,
  experimental,
}

class WorldCard extends StatelessWidget {
  final World world;
  final int playerCount;
  final WorldCategory category;
  final bool isPreRegistered;
  final bool isJoined;
  final VoidCallback? onJoin;
  final VoidCallback? onLeave;
  final VoidCallback? onPlay;
  final VoidCallback? onPreRegister;
  final VoidCallback? onCancelPreRegistration;
  final VoidCallback? onInvite;
  final VoidCallback? onTap;

  const WorldCard({
    super.key,
    required this.world,
    required this.playerCount,
    required this.category,
    this.isPreRegistered = false,
    this.isJoined = false,
    this.onJoin,
    this.onLeave,
    this.onPlay,
    this.onPreRegister,
    this.onCancelPreRegistration,
    this.onInvite,
    this.onTap,
  });

  Color get categoryColor {
    switch (category) {
      case WorldCategory.classic:
        return Colors.blue;
      case WorldCategory.pvp:
        return Colors.red;
      case WorldCategory.event:
        return Colors.purple;
      case WorldCategory.experimental:
        return Colors.orange;
    }
  }

  String get categoryLabel {
    switch (category) {
      case WorldCategory.classic:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../../core/models/world.dart';
import '../../../theme/app_theme.dart';

enum WorldCategory {
  classic,
```

**worldCaseWorldcategorypvpReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:58:24`
- ğŸ“ Original: `';
      case WorldCategory.pvp:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
String get categoryLabel {
    switch (category) {
      case WorldCategory.classic:
        return 'Classic';
      case WorldCategory.pvp:
        return 'PvP';
      case WorldCategory.event:
```

**worldCaseWorldcategoryeventReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:60:20`
- ğŸ“ Original: `';
      case WorldCategory.event:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldCategory.classic:
        return 'Classic';
      case WorldCategory.pvp:
        return 'PvP';
      case WorldCategory.event:
        return 'Event';
      case WorldCategory.experimental:
```

**worldCaseWorldcategoryexperimentalReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:62:22`
- ğŸ“ Original: `';
      case WorldCategory.experimental:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldCategory.pvp:
        return 'PvP';
      case WorldCategory.event:
        return 'Event';
      case WorldCategory.experimental:
        return 'Experimental';
    }
```

**worldIcondataGetCategoryicon** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:64:29`
- ğŸ“ Original: `';
    }
  }

  IconData get categoryIcon {
    switch (category) {
      case WorldCategory.classic:
        return Icons.castle;
      case WorldCategory.pvp:
        return Icons.sports_kabaddi;
      case WorldCategory.event:
        return Icons.celebration;
      case WorldCategory.experimental:
        return Icons.science;
    }
  }

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTap: onTap,
      child: Container(
        margin: const EdgeInsets.only(bottom: 16),
        decoration: BoxDecoration(
          gradient: const LinearGradient(
            begin: Alignment.topLeft,
            end: Alignment.bottomRight,
            colors: [
              Color(0xFF1E1E1E),
              Color(0xFF2A2A2A),
            ],
          ),
          borderRadius: BorderRadius.circular(16),
          border: Border.all(
            color: world.isActive
                ? categoryColor.withOpacity(0.5)
                : Colors.grey.withOpacity(0.3),
            width: world.isActive ? 2 : 1,
          ),
          boxShadow: world.isActive
              ? [
                  BoxShadow(
                    color: categoryColor.withOpacity(0.3),
                    blurRadius: 12,
                    offset: const Offset(0, 4),
                  ),
                ]
              : [],
        ),
        child: ClipRRect(
          borderRadius: BorderRadius.circular(16),
          child: Column(
            children: [
              _buildHeader(),
              _buildContent(),
            ],
          ),
        ),
      ),
    );
  }

  Widget _buildHeader() {
    return Container(
      padding: const EdgeInsets.all(16),
      decoration: BoxDecoration(
        gradient: LinearGradient(
          begin: Alignment.topLeft,
          end: Alignment.bottomRight,
          colors: [
            categoryColor.withOpacity(0.2),
            categoryColor.withOpacity(0.1),
          ],
        ),
      ),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          Row(
            mainAxisAlignment: MainAxisAlignment.spaceBetween,
            children: [
              _buildCategoryBadge(),
              _buildStatusBadge(),
            ],
          ),
          const SizedBox(height: 16),
          Row(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              _buildWorldIcon(),
              const SizedBox(width: 16),
              Expanded(
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      world.name,
                      style: const TextStyle(
                        fontSize: 20,
                        fontWeight: FontWeight.bold,
                        color: Colors.white,
                      ),
                    ),
                    const SizedBox(height: 4),
                    Text(
                      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldCategory.event:
        return 'Event';
      case WorldCategory.experimental:
        return 'Experimental';
    }
  }
```

**worldStyleTextstyleFontsize** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:169:60`
- ğŸ“ Original: `',
                      style: TextStyle(
                        fontSize: 14,
                        color: Colors.grey[300],
                      ),
                      maxLines: 2,
                      overflow: TextOverflow.ellipsis,
                    ),
                  ],
                ),
              ),
            ],
          ),
        ],
      ),
    );
  }

  Widget _buildWorldIcon() {
    return Container(
      width: 48,
      height: 48,
      decoration: BoxDecoration(
        color: categoryColor.withOpacity(0.2),
        borderRadius: BorderRadius.circular(12),
        border: Border.all(
          color: categoryColor.withOpacity(0.5),
        ),
      ),
      child: Icon(
        Icons.public,
        color: categoryColor,
        size: 24,
      ),
    );
  }

  Widget _buildCategoryBadge() {
    return Container(
      padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 6),
      decoration: BoxDecoration(
        color: categoryColor.withOpacity(0.3),
        borderRadius: BorderRadius.circular(20),
        border: Border.all(
          color: categoryColor.withOpacity(0.5),
        ),
      ),
      child: Row(
        mainAxisSize: MainAxisSize.min,
        children: [
          Icon(
            categoryIcon,
            size: 16,
            color: categoryColor,
          ),
          const SizedBox(width: 6),
          Text(
            categoryLabel,
            style: TextStyle(
              color: categoryColor,
              fontWeight: FontWeight.bold,
              fontSize: 12,
            ),
          ),
        ],
      ),
    );
  }

  Widget _buildStatusBadge() {
    Color statusColor;
    IconData statusIcon;
    
    switch (world.status) {
      case WorldStatus.upcoming:
        statusColor = Colors.orange;
        statusIcon = Icons.schedule;
        break;
      case WorldStatus.open:
        statusColor = Colors.green;
        statusIcon = Icons.lock_open;
        break;
      case WorldStatus.running:
        statusColor = Colors.blue;
        statusIcon = Icons.play_circle;
        break;
      case WorldStatus.closed:
        statusColor = Colors.red;
        statusIcon = Icons.lock;
        break;
      case WorldStatus.archived:
        statusColor = Colors.grey;
        statusIcon = Icons.archive;
        break;
    }
    
    return Container(
      padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 6),
      decoration: BoxDecoration(
        color: statusColor.withOpacity(0.2),
        borderRadius: BorderRadius.circular(20),
        border: Border.all(
          color: statusColor.withOpacity(0.5),
        ),
      ),
      child: Row(
        mainAxisSize: MainAxisSize.min,
        children: [
          Icon(
            statusIcon,
            size: 16,
            color: statusColor,
          ),
          const SizedBox(width: 6),
          Text(
            world.statusText,
            style: TextStyle(
              color: statusColor,
              fontWeight: FontWeight.bold,
              fontSize: 12,
            ),
          ),
        ],
      ),
    );
  }

  Widget _buildContent() {
    return Container(
      padding: const EdgeInsets.all(16),
      child: Column(
        children: [
          _buildPlayerInfo(),
          const SizedBox(height: 16),
          _buildDateInfo(),
          const SizedBox(height: 16),
          _buildActionButtons(),
        ],
      ),
    );
  }

  Widget _buildPlayerInfo() {
    return Row(
      children: [
        Icon(
          Icons.people,
          size: 16,
          color: Colors.grey[400],
        ),
        const SizedBox(width: 4),
        Text(
          '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                    const SizedBox(height: 4),
                    Text(
                      'Eine spannende Welt voller Abenteuer',
                      style: TextStyle(
                        fontSize: 14,
                        color: Colors.grey[300],
```

**worldStyleTextstyleColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:321:38`
- ğŸ“ Original: `',
          style: TextStyle(
            color: Colors.grey[400],
            fontSize: 14,
          ),
        ),
      ],
    );
  }

  Widget _buildDateInfo() {
    return Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        Row(
          children: [
            Icon(
              Icons.calendar_today,
              size: 16,
              color: Colors.grey[400],
            ),
            const SizedBox(width: 4),
            Text(
              '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
        const SizedBox(width: 4),
        Text(
          '$playerCount Spieler aktiv',
          style: TextStyle(
            color: Colors.grey[400],
            fontSize: 14,
```

**worldStyleTextstyleColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:344:91`
- ğŸ“ Original: `',
              style: TextStyle(
                color: Colors.grey[400],
                fontSize: 14,
              ),
            ),
          ],
        ),
        if (world.endsAt != null) ...[
          Builder(
            builder: (context) {
              final endDate = world.endsAt!;
              return Column(
                children: [
                  const SizedBox(height: 4),
                  Row(
                    children: [
                      Icon(
                        Icons.event_busy,
                        size: 16,
                        color: Colors.grey[400],
                      ),
                      const SizedBox(width: 4),
                      Text(
                        '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
            const SizedBox(width: 4),
            Text(
              'Start: ${world.startsAt.day}.${world.startsAt.month}.${world.startsAt.year}',
              style: TextStyle(
                color: Colors.grey[400],
                fontSize: 14,
```

**worldWennKeineButtons** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_card.dart:462:35`
- ğŸ“ Original: `',
      ));
    }
    
    // Wenn keine Buttons verfÃ¼gbar sind
    if (buttons.isEmpty) {
      return _buildStatusBadge();
    }
    
    return Wrap(
      spacing: 8,
      runSpacing: 4,
      children: buttons,
    );
  }
  
  Widget _buildButton({
    required VoidCallback? onPressed,
    required IconData icon,
    required String? label,
    required Color? color,
    bool iconOnly = false,
    String? tooltip,
  }) {
    if (onPressed == null) return const SizedBox.shrink();
    
    final button = iconOnly
        ? ElevatedButton(
            onPressed: onPressed,
            style: ElevatedButton.styleFrom(
              backgroundColor: color,
              foregroundColor: Colors.white,
              padding: const EdgeInsets.all(8),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(8),
              ),
            ),
            child: Icon(icon, size: 16),
          )
        : ElevatedButton.icon(
            onPressed: onPressed,
            icon: Icon(icon, size: 16),
            label: Text(label ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
label: null,
        color: Colors.purple[600],
        iconOnly: true,
        tooltip: 'Spieler einladen',
      ));
    }
```

**worldPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../../core/models/world.dart';
import './world_card.dart';
```

**worldClassWorldfiltersExtends** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:3:26`
- ğŸ“ Original: `';

class WorldFilters extends StatelessWidget {
  final WorldStatus? statusFilter;
  final WorldCategory? categoryFilter;
  final String sortBy;
  final bool sortAscending;
  final ValueChanged<WorldStatus?> onStatusChanged;
  final ValueChanged<WorldCategory?> onCategoryChanged;
  final ValueChanged<String> onSortByChanged;
  final VoidCallback onSortOrderChanged;
  final VoidCallback onResetFilters;

  const WorldFilters({
    super.key,
    this.statusFilter,
    this.categoryFilter,
    required this.sortBy,
    required this.sortAscending,
    required this.onStatusChanged,
    required this.onCategoryChanged,
    required this.onSortByChanged,
    required this.onSortOrderChanged,
    required this.onResetFilters,
  });

  @override
  Widget build(BuildContext context) {
    return Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        // Status Filter
        _buildStatusFilter(),
        const SizedBox(height: 12),
        
        // Category Filter
        _buildCategoryFilter(),
        const SizedBox(height: 12),
        
        // Sort Options
        _buildSortOptions(),
        const SizedBox(height: 12),
        
        // Active Filters & Reset
        if (statusFilter != null || categoryFilter != null)
          _buildActiveFilters(),
      ],
    );
  }

  Widget _buildStatusFilter() {
    return SingleChildScrollView(
      scrollDirection: Axis.horizontal,
      padding: const EdgeInsets.symmetric(horizontal: 16),
      child: Row(
        children: [
          Text(
            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../../core/models/world.dart';
import './world_card.dart';

class WorldFilters extends StatelessWidget {
  final WorldStatus? statusFilter;
```

**worldChildText** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:196:38`
- ğŸ“ Original: `',
                  child: Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Text('Status'),
                ),
                DropdownMenuItem(
                  value: 'playerCount',
                  child: Text('Spieleranzahl'),
                ),
              ],
```

**worldOnchangedValueIf** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:197:45`
- ğŸ“ Original: `'),
                ),
              ],
              onChanged: (value) {
                if (value != null) {
                  onSortByChanged(value);
                }
              },
            ),
          ),
          const SizedBox(width: 8),
          Container(
            height: 40,
            decoration: BoxDecoration(
              color: const Color(0xFF2D2D2D),
              borderRadius: BorderRadius.circular(8),
              border: Border.all(color: Colors.grey[600]!),
            ),
            child: IconButton(
              icon: Icon(
                sortAscending ? Icons.arrow_upward : Icons.arrow_downward,
                color: Colors.grey[300],
                size: 20,
              ),
              onPressed: onSortOrderChanged,
              tooltip: sortAscending ? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                DropdownMenuItem(
                  value: 'playerCount',
                  child: Text('Spieleranzahl'),
                ),
              ],
              onChanged: (value) {
```

**worldCaseWorldcategorypvpReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:347:24`
- ğŸ“ Original: `';
      case WorldCategory.pvp:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
String _getCategoryLabel(WorldCategory category) {
    switch (category) {
      case WorldCategory.classic:
        return 'Classic';
      case WorldCategory.pvp:
        return 'PvP';
      case WorldCategory.event:
```

**worldCaseWorldcategoryeventReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:349:20`
- ğŸ“ Original: `';
      case WorldCategory.event:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldCategory.classic:
        return 'Classic';
      case WorldCategory.pvp:
        return 'PvP';
      case WorldCategory.event:
        return 'Event';
      case WorldCategory.experimental:
```

**worldCaseWorldcategoryexperimentalReturn** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:351:22`
- ğŸ“ Original: `';
      case WorldCategory.experimental:
        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
case WorldCategory.pvp:
        return 'PvP';
      case WorldCategory.event:
        return 'Event';
      case WorldCategory.experimental:
        return 'Experimental';
    }
```

**worldPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_header.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../../theme/app_theme.dart';

class WorldListHeader extends StatelessWidget {
```

**worldClassWorldlistheaderExtends** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_header.dart:2:38`
- ğŸ“ Original: `';

class WorldListHeader extends StatelessWidget {
  final VoidCallback? onRefresh;
  final VoidCallback? onCreateWorld;
  final bool hasCreatePermission;

  const WorldListHeader({
    super.key,
    this.onRefresh,
    this.onCreateWorld,
    this.hasCreatePermission = false,
  });

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        // Logo
        Container(
          width: 80,
          height: 80,
          decoration: BoxDecoration(
            color: AppTheme.primaryColor.withOpacity(0.2),
            borderRadius: BorderRadius.circular(20),
            border: Border.all(
              color: AppTheme.primaryColor.withOpacity(0.5),
              width: 2,
            ),
          ),
          child: const Icon(
            Icons.public,
            size: 40,
            color: AppTheme.primaryColor,
          ),
        ),
        const SizedBox(height: 24),
        
        // Title
        Text(
          '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../../theme/app_theme.dart';

class WorldListHeader extends StatelessWidget {
  final VoidCallback? onRefresh;
```

**worldStyleThemeofcontexttextthemeheadlinelargecopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_header.dart:42:22`
- ğŸ“ Original: `',
          style: Theme.of(context).textTheme.headlineLarge?.copyWith(
            color: Colors.white,
            fontWeight: FontWeight.bold,
            fontSize: 36,
          ),
        ),
        const SizedBox(height: 8),
        
        // Subtitle
        Text(
          '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Title
        Text(
          'Weltenwind',
          style: Theme.of(context).textTheme.headlineLarge?.copyWith(
            color: Colors.white,
            fontWeight: FontWeight.bold,
```

**worldStyleThemeofcontexttextthemetitlemediumcopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_header.dart:53:28`
- ğŸ“ Original: `',
          style: Theme.of(context).textTheme.titleMedium?.copyWith(
            color: Colors.grey[300],
            fontSize: 18,
          ),
          textAlign: TextAlign.center,
        ),
        const SizedBox(height: 24),
        
        // Action Buttons
        _buildActionButtons(),
      ],
    );
  }

  Widget _buildActionButtons() {
    final buttons = <Widget>[];

    if (onRefresh != null) {
      buttons.add(
        ElevatedButton.icon(
          onPressed: onRefresh,
          icon: const Icon(Icons.refresh, size: 18),
          label: const Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Subtitle
        Text(
          'WÃ¤hle deine Welt',
          style: Theme.of(context).textTheme.titleMedium?.copyWith(
            color: Colors.grey[300],
            fontSize: 18,
```

**worldPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../../theme/app_theme.dart';

class WorldListLoadingState extends StatelessWidget {
```

**worldClassWorldlistloadingstateExtends** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:2:38`
- ğŸ“ Original: `';

class WorldListLoadingState extends StatelessWidget {
  const WorldListLoadingState({super.key});

  @override
  Widget build(BuildContext context) {
    return const Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          CircularProgressIndicator(
            valueColor: AlwaysStoppedAnimation<Color>(AppTheme.primaryColor),
          ),
          SizedBox(height: 16),
          Text(
            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../../theme/app_theme.dart';

class WorldListLoadingState extends StatelessWidget {
  const WorldListLoadingState({super.key});
```

**worldStyleTextstyleColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:18:38`
- ğŸ“ Original: `',
            style: TextStyle(
              color: Colors.grey,
              fontSize: 16,
            ),
          ),
        ],
      ),
    );
  }
}

class WorldListEmptyState extends StatelessWidget {
  final VoidCallback? onRefresh;
  final bool hasActiveFilters;

  const WorldListEmptyState({
    super.key,
    this.onRefresh,
    this.hasActiveFilters = false,
  });

  @override
  Widget build(BuildContext context) {
    return Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          Icon(
            Icons.public_off,
            size: 64,
            color: Colors.grey[600],
          ),
          const SizedBox(height: 16),
          Text(
            hasActiveFilters
                ? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
          SizedBox(height: 16),
          Text(
            'Welten werden geladen...',
            style: TextStyle(
              color: Colors.grey,
              fontSize: 16,
```

**worldNochKeineWelten** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:55:19`
- ğŸ“ Original: `'Noch keine Welten verfÃ¼gbar'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
            hasActiveFilters
                ? 'Keine Welten gefunden'
                : 'Noch keine Welten verfÃ¼gbar',
            style: TextStyle(
              fontSize: 18,
              fontWeight: FontWeight.bold,
```

**worldVersucheDieFilter** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:66:19`
- ğŸ“ Original: `'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
          Text(
            hasActiveFilters
                ? 'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'
                : 'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.',
            style: TextStyle(
              fontSize: 14,
```

**worldSchaueSpÃ¤terNoch** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:67:19`
- ğŸ“ Original: `'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
            hasActiveFilters
                ? 'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'
                : 'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.',
            style: TextStyle(
              fontSize: 14,
              color: Colors.grey[500],
```

**worldInvitedetailsExtrahierenFinal** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:210:45`
- ğŸ“ Original: `']);
    
    // Invite-Details extrahieren
    final inviteData = tokenData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    
    // World aus Token-Daten laden
    _world = World.fromJson(tokenData['world']);
    
    // Invite-Details extrahieren
    final inviteData = tokenData['invite'];
```

**worldFinalWorldstatus_worldstatus** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:242:55`
- ğŸ“ Original: `';
    final worldStatus = _world?.status ?? WorldStatus.upcoming;
    final isUpcoming = worldStatus == WorldStatus.upcoming;
    
    // User-Status analysieren
    final userStatusData = tokenData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
isInviteValid = !isExpired && !isAccepted;
    
    // World-Details
    final worldName = _world?.name ?? 'Unbekannte Welt';
    final worldStatus = _world?.status ?? WorldStatus.upcoming;
    final isUpcoming = worldStatus == WorldStatus.upcoming;
```

**worldFinalStatusUserstatusdata** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:247:49`
- ğŸ“ Original: `'];
    final status = userStatusData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final isUpcoming = worldStatus == WorldStatus.upcoming;
    
    // User-Status analysieren
    final userStatusData = tokenData['userStatus'];
    final status = userStatusData['status'];
    final requiresAction = userStatusData['requiresAction'];
```

**worldJeNachStatus** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:281:118`
- ğŸ“ Original: `';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
      case '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
    }
    
    final baseInfoText = 'Du wurdest von $inviterText eingeladen, der Welt "$worldName" $actionTypeText.$validityText';
    
    // Je nach Status unterschiedliche Logik
    switch (status) {
```

**worldWillkommenInDer** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:384:26`
- ğŸ“ Original: `'Willkommen in der Welt "${_world?.name}"! Das Invite wurde automatisch akzeptiert.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "${_world?.name}"! Das Invite wurde automatisch akzeptiert.';
        });
        
        if (mounted) {
```

**worldErfolgreichDerWelt** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:390:29`
- ğŸ“ Original: `'Erfolgreich der Welt "${_world!.name}" beigetreten!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich der Welt "${_world!.name}" beigetreten!'),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
```

**worldDuBistBereits** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:402:26`
- ğŸ“ Original: `'Du bist bereits Mitglied dieser Welt "${_world?.name}"!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Du bist bereits Mitglied dieser Welt "${_world?.name}"!';
        });
        
        if (mounted) {
```

**worldDuBistBereits** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:408:29`
- ğŸ“ Original: `'Du bist bereits Mitglied der Welt "${_world?.name}"!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "${_world?.name}"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
```

**worldVersucheInviteakzeptierungFÃ¼r** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:439:25`
- ğŸ“ Original: `'ğŸ« Versuche Invite-Akzeptierung fÃ¼r World-Join'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// **INVITE-TOKEN FLOW: Invite akzeptieren**
      if (widget.inviteToken != null) {
        AppLogger.app.i('ğŸ« Versuche Invite-Akzeptierung fÃ¼r World-Join');
        final inviteResult = await _worldService.acceptInvite(widget.inviteToken!);
        
        if (inviteResult != null) {
```

**worldErfolgreichDerWelt** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:463:15`
- ğŸ“ Original: `'Erfolgreich der Welt "${_world!.name}" beigetreten!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
```

**worldBackgroundcolorColorsgreenElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:526:75`
- ğŸ“ Original: `'),
              backgroundColor: Colors.green,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = '`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
              backgroundColor: Colors.green,
            ),
          );
```

**worldBackgroundcolorColorsorangeElse** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:568:79`
- ğŸ“ Original: `'),
              backgroundColor: Colors.orange,
            ),
          );
        }
      } else {
        setState(() {
          _joinError = '`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
              backgroundColor: Colors.orange,
            ),
          );
```

**worldBackgroundcolorColorsorangeCatch** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:633:60`
- ğŸ“ Original: `'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      setState(() {
        _joinError = e.toString().replaceAll('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

**worldPathparameters** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:655:37`
- ğŸ“ Original: `', pathParameters: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final world = _world;
    if (world == null) return;
    // Navigate directly to world dashboard for playing
    context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
  }

  // Welt-Status bestimmen
```

**worldWorldidtostringWeltstatusBestimmen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:655:60`
- ğŸ“ Original: `': world.id.toString()});
  }

  // Welt-Status bestimmen
  String _getWorldStatusText() {
    final world = _world;
    if (world == null) return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final world = _world;
    if (world == null) return;
    // Navigate directly to world dashboard for playing
    context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
  }

  // Welt-Status bestimmen
```

**worldReturnWorldstatustextWeltstatusfarbe** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:661:41`
- ğŸ“ Original: `';
    return world.statusText;
  }

  // Welt-Status-Farbe
  Color _getWorldStatusColor() {
    final world = _world;
    if (world == null) return Colors.grey;
    
    switch (world.status) {
      case WorldStatus.upcoming:
        return Colors.orange;
      case WorldStatus.open:
        return Colors.green;
      case WorldStatus.running:
        return Colors.blue;
      case WorldStatus.closed:
        return Colors.red;
      case WorldStatus.archived:
        return Colors.grey;
    }
  }

  // Kann der Benutzer beitreten?
  // Retry-Funktion
  Future<void> _retry() async {
    await _loadWorldData();
  }

  // Navigation zu Registration mit vorausgefÃ¼llter E-Mail
  void _navigateToRegistration(String email) {
    AppLogger.app.i('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Welt-Status bestimmen
  String _getWorldStatusText() {
    final world = _world;
    if (world == null) return 'Unbekannt';
    return world.statusText;
  }
```

**worldStyleThemeofcontexttextthemeheadlinesmallcopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1084:45`
- ğŸ“ Original: `',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 24),
                      Text(
                        'Welt nicht gefunden',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
```

**worldStyleThemeofcontexttextthemebodylargecopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1092:89`
- ğŸ“ Original: `',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      SizedBox(
                        width: double.infinity,
                        height: 48,
                        child: ElevatedButton(
                          onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        'Die angeforderte Welt existiert nicht oder ist nicht verfÃ¼gbar.',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

**worldStyleThemeofcontexttextthemeheadlinemediumcopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1170:65`
- ğŸ“ Original: `',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.white,
                                  fontWeight: FontWeight.bold,
                                ),
                              ),
                              const SizedBox(height: 8),
                              Row(
                                children: [
                                  Icon(Icons.calendar_today, size: 16, color: Colors.grey[400]),
                                  const SizedBox(width: 4),
                                  Text(
                                    '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
crossAxisAlignment: CrossAxisAlignment.start,
                            children: [
                              Text(
                                _world?.name ?? 'Unbekannte Welt',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.white,
                                  fontWeight: FontWeight.bold,
```

**worldStyleTextstylecolorColorsgrey400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1182:104`
- ğŸ“ Original: `',
                                    style: TextStyle(color: Colors.grey[400], fontSize: 14),
                                  ),
                                  if (_world?.endsAt != null) ...[
                                    const SizedBox(width: 16),
                                    Icon(Icons.event, size: 16, color: Colors.grey[400]),
                                    const SizedBox(width: 4),
                                    Text(
                                      '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Icon(Icons.calendar_today, size: 16, color: Colors.grey[400]),
                                  const SizedBox(width: 4),
                                  Text(
                                    'Start: ${_world?.startsAt.toString().split(' ')[0] ?? 'Unbekannt'}',
                                    style: TextStyle(color: Colors.grey[400], fontSize: 14),
                                  ),
                                  if (_world?.endsAt != null) ...[
```

**worldStyleTextstylecolorColorsgrey400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1190:103`
- ğŸ“ Original: `',
                                      style: TextStyle(color: Colors.grey[400], fontSize: 14),
                                    ),
                                  ],
                                ],
                              ),
                            ],
                          ),
                        ),
                        Container(
                          padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),
                          decoration: BoxDecoration(
                            color: _getWorldStatusColor().withOpacity(0.2),
                            borderRadius: BorderRadius.circular(20),
                            border: Border.all(color: _getWorldStatusColor().withOpacity(0.5)),
                          ),
                          child: Row(
                            mainAxisSize: MainAxisSize.min,
                            children: [
                              Icon(
                                _getWorldStatusIcon(),
                                color: _getWorldStatusColor(),
                                size: 16,
                              ),
                              const SizedBox(width: 6),
                              Text(
                                _getWorldStatusText(),
                                style: TextStyle(
                                  color: _getWorldStatusColor(),
                                  fontWeight: FontWeight.w600,
                                  fontSize: 14,
                                ),
                              ),
                            ],
                          ),
                        ),
                      ],
                    ),
                  ],
                ),
              ),
              
              // Tab Bar
              Container(
                decoration: BoxDecoration(
                  color: const Color(0xFF2A2A2A),
                  border: Border(
                    bottom: BorderSide(
                      color: AppTheme.primaryColor.withOpacity(0.3),
                      width: 1,
                    ),
                  ),
                ),
                child: TabBar(
                  controller: _tabController,
                  indicatorColor: AppTheme.primaryColor,
                  indicatorWeight: 3,
                  labelColor: AppTheme.primaryColor,
                  unselectedLabelColor: Colors.grey[400],
                  labelStyle: const TextStyle(fontWeight: FontWeight.w600),
                  tabs: const [
                    Tab(
                      icon: Icon(Icons.description_outlined),
                      text: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Icon(Icons.event, size: 16, color: Colors.grey[400]),
                                    const SizedBox(width: 4),
                                    Text(
                                      'Ende: ${_world?.endsAt.toString().split(' ')[0] ?? 'Unbekannt'}',
                                      style: TextStyle(color: Colors.grey[400], fontSize: 14),
                                    ),
                                  ],
```

**worldStyleTextstyleColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1339:33`
- ğŸ“ Original: `',
                style: TextStyle(
                  color: Colors.white,
                  fontSize: 18,
                  fontWeight: FontWeight.bold,
                ),
              ),
            ],
          ),
          const SizedBox(height: 16),
          Text(
            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Icon(Icons.info_outline, color: AppTheme.primaryColor, size: 24),
              SizedBox(width: 8),
              Text(
                'Ãœber diese Welt',
                style: TextStyle(
                  color: Colors.white,
                  fontSize: 18,
```

**worldErkundeUnbekannteGebiete** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1351:13`
- ğŸ“ Original: `'Erkunde unbekannte Gebiete, schlieÃŸe Allianzen und werde zur Legende!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 16),
          Text(
            'Dies ist eine spannende Welt voller Abenteuer und Herausforderungen. '
            'Erkunde unbekannte Gebiete, schlieÃŸe Allianzen und werde zur Legende!',
            style: TextStyle(color: Colors.grey[300], height: 1.5),
          ),
          const SizedBox(height: 24),
```

**worldIconscategory_buildinfocard** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1355:48`
- ğŸ“ Original: `', Icons.category),
          _buildInfoCard('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
style: TextStyle(color: Colors.grey[300], height: 1.5),
          ),
          const SizedBox(height: 24),
          _buildInfoCard('Kategorie', 'Standard', Icons.category),
          _buildInfoCard('Welt-ID', '#${_world?.id ?? 'N/A'}', Icons.tag),
          _buildInfoCard('Erstellt', _world?.createdAt.toString().split(' ')[0] ?? 'Unbekannt', Icons.access_time),
        ],
```

**worldIconsaccess_timeWidget_buildrulestab** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1357:94`
- ğŸ“ Original: `', Icons.access_time),
        ],
      ),
    );
  }
  
  Widget _buildRulesTab() {
    return SingleChildScrollView(
      padding: const EdgeInsets.all(24),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          const Row(
            children: [
              Icon(Icons.rule, color: AppTheme.primaryColor, size: 24),
              SizedBox(width: 8),
              Text(
                '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 24),
          _buildInfoCard('Kategorie', 'Standard', Icons.category),
          _buildInfoCard('Welt-ID', '#${_world?.id ?? 'N/A'}', Icons.tag),
          _buildInfoCard('Erstellt', _world?.createdAt.toString().split(' ')[0] ?? 'Unbekannt', Icons.access_time),
        ],
      ),
    );
```

**worldRespektiereAndereSpieler** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1384:32`
- ğŸ“ Original: `'Respektiere andere Spieler'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
],
          ),
          const SizedBox(height: 16),
          _buildRuleItem('1.', 'Respektiere andere Spieler'),
          _buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
```

**worldKeineCheatsOder** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1385:32`
- ğŸ“ Original: `'Keine Cheats oder Exploits verwenden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
          const SizedBox(height: 16),
          _buildRuleItem('1.', 'Respektiere andere Spieler'),
          _buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
          _buildRuleItem('5.', 'Entscheidungen der Spielleitung sind final'),
```

**worldFaireSpielweiseIst** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1386:32`
- ğŸ“ Original: `'Faire Spielweise ist Pflicht'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
const SizedBox(height: 16),
          _buildRuleItem('1.', 'Respektiere andere Spieler'),
          _buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
          _buildRuleItem('5.', 'Entscheidungen der Spielleitung sind final'),
        ],
```

**world_buildruleitem** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1387:63`
- ğŸ“ Original: `'),
          _buildRuleItem('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_buildRuleItem('1.', 'Respektiere andere Spieler'),
          _buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
          _buildRuleItem('5.', 'Entscheidungen der Spielleitung sind final'),
        ],
      ),
```

**worldWeltstatistiken** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1405:17`
- ğŸ“ Original: `'Welt-Statistiken'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Icon(Icons.bar_chart, color: AppTheme.primaryColor, size: 24),
              SizedBox(width: 8),
              Text(
                'Welt-Statistiken',
                style: TextStyle(
                  color: Colors.white,
                  fontSize: 18,
```

**worldIconstimerConstSizedboxheight** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1419:63`
- ğŸ“ Original: `', Icons.timer)),
            ],
          ),
          const SizedBox(height: 16),
          Row(
            children: [
              Expanded(child: _buildStatCard('`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
children: [
              Expanded(child: _buildStatCard('Spieler', '0 / 50', Icons.people)),
              const SizedBox(width: 16),
              Expanded(child: _buildStatCard('Dauer', '30 Tage', Icons.timer)),
            ],
          ),
          const SizedBox(height: 16),
```

**world_getworldstatustextIconscircleConst** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1425:53`
- ğŸ“ Original: `', _getWorldStatusText(), Icons.circle)),
              const SizedBox(width: 16),
              Expanded(child: _buildStatCard('`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
const SizedBox(height: 16),
          Row(
            children: [
              Expanded(child: _buildStatCard('Status', _getWorldStatusText(), Icons.circle)),
              const SizedBox(width: 16),
              Expanded(child: _buildStatCard('Typ', 'Standard', Icons.public)),
            ],
```

**worldIconspublicWidget_buildinfocardstring** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1427:62`
- ğŸ“ Original: `', Icons.public)),
            ],
          ),
        ],
      ),
    );
  }
  
  Widget _buildInfoCard(String label, String value, IconData icon) {
    return Container(
      margin: const EdgeInsets.only(bottom: 12),
      padding: const EdgeInsets.all(16),
      decoration: BoxDecoration(
        color: const Color(0xFF2A2A2A),
        borderRadius: BorderRadius.circular(12),
        border: Border.all(color: Colors.grey[800] ?? Colors.grey),
      ),
      child: Row(
        children: [
          Icon(icon, color: AppTheme.primaryColor, size: 20),
          const SizedBox(width: 12),
          Expanded(
            child: Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                Text(
                  label,
                  style: TextStyle(color: Colors.grey[400], fontSize: 12),
                ),
                const SizedBox(height: 2),
                Text(
                  value,
                  style: const TextStyle(color: Colors.white, fontSize: 14, fontWeight: FontWeight.w500),
                ),
              ],
            ),
          ),
        ],
      ),
    );
  }
  
  Widget _buildRuleItem(String number, String rule) {
    return Container(
      margin: const EdgeInsets.only(bottom: 12),
      padding: const EdgeInsets.all(12),
      decoration: BoxDecoration(
        color: const Color(0xFF2A2A2A),
        borderRadius: BorderRadius.circular(8),
        border: Border.all(color: Colors.grey[800] ?? Colors.grey),
      ),
      child: Row(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          Container(
            width: 28,
            height: 28,
            decoration: BoxDecoration(
              color: AppTheme.primaryColor.withOpacity(0.2),
              shape: BoxShape.circle,
            ),
            child: Center(
              child: Text(
                number,
                style: const TextStyle(
                  color: AppTheme.primaryColor,
                  fontWeight: FontWeight.bold,
                  fontSize: 12,
                ),
              ),
            ),
          ),
          const SizedBox(width: 12),
          Expanded(
            child: Text(
              rule,
              style: TextStyle(color: Colors.grey[300], height: 1.3),
            ),
          ),
        ],
      ),
    );
  }
  
  Widget _buildStatCard(String label, String value, IconData icon) {
    return Container(
      padding: const EdgeInsets.all(20),
      decoration: BoxDecoration(
        color: const Color(0xFF2A2A2A),
        borderRadius: BorderRadius.circular(16),
        border: Border.all(color: AppTheme.primaryColor.withOpacity(0.3)),
      ),
      child: Column(
        children: [
          Icon(icon, color: AppTheme.primaryColor, size: 32),
          const SizedBox(height: 12),
          Text(
            value,
            style: const TextStyle(
              color: Colors.white,
              fontSize: 20,
              fontWeight: FontWeight.bold,
            ),
          ),
          const SizedBox(height: 4),
          Text(
            label,
            style: TextStyle(
              color: Colors.grey[400],
              fontSize: 14,
            ),
          ),
        ],
      ),
    );
  }
  
  IconData _getWorldStatusIcon() {
    switch (_world?.status) {
      case WorldStatus.upcoming:
        return Icons.schedule;
      case WorldStatus.open:
        return Icons.lock_open;
      case WorldStatus.running:
        return Icons.play_circle_outline;
      case WorldStatus.closed:
        return Icons.lock;
      default:
        return Icons.help_outline;
    }
  }

  Widget _buildInfoRow(String label, String value) {
    return Padding(
      padding: const EdgeInsets.symmetric(vertical: 4),
      child: Row(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          SizedBox(
            width: 80,
            child: Text(
              '`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
children: [
              Expanded(child: _buildStatCard('Status', _getWorldStatusText(), Icons.circle)),
              const SizedBox(width: 16),
              Expanded(child: _buildStatCard('Typ', 'Standard', Icons.public)),
            ],
          ),
        ],
```

**worldDieseWeltIst** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1867:29`
- ğŸ“ Original: `'Diese Welt ist derzeit geschlossen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
                    Text(
                      world.status == WorldStatus.closed
                          ? 'Diese Welt ist derzeit geschlossen'
                          : 'Diese Welt ist archiviert',
                      style: TextStyle(
                        color: Colors.grey[700],
```

**worldDieseWeltIst** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1868:29`
- ğŸ“ Original: `'Diese Welt ist archiviert'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
                      world.status == WorldStatus.closed
                          ? 'Diese Welt ist derzeit geschlossen'
                          : 'Diese Welt ist archiviert',
                      style: TextStyle(
                        color: Colors.grey[700],
                        fontWeight: FontWeight.w500,
```

**worldClassWorldlistpageExtends** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:20:24`
- ğŸ“ Original: `';

class WorldListPage extends StatefulWidget {
  const WorldListPage({super.key});

  @override
  State<WorldListPage> createState() => _WorldListPageState();
}

class _WorldListPageState extends State<WorldListPage> {
  // DI-ready: ServiceLocator verwenden
  late final AuthService _authService;
  late final WorldService _worldService;
  late final InviteService _inviteService;
  
  List<World> _worlds = [];
  List<World> _filteredWorlds = [];
  bool _isLoading = true;
  String? _error;
  
  // Track button states for each world
  final Map<int, bool> _preRegisteredWorlds = {};
  final Map<int, bool> _joinedWorlds = {};
  
  // Filter und Sortierung
  WorldStatus? _statusFilter;
  WorldCategory? _categoryFilter;
  String _sortBy = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import './widgets/world_filters.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

class WorldListPage extends StatefulWidget {
  const WorldListPage({super.key});
```

**worldBool_sortascendingTrue** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:47:64`
- ğŸ“ Original: `'
  bool _sortAscending = true;
  
  // Spieleranzahl (Simulation - spÃ¤ter vom Backend)
  final Map<int, int> _playerCounts = {};

  @override
  void initState() {
    super.initState();
    
    // DI-ready: ServiceLocator verwenden mit robuster Fehlerbehandlung
    _initializeServices();
    _loadWorlds();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
      if (ServiceLocator.has<WorldService>()) {
        _worldService = ServiceLocator.get<WorldService>();
      } else {
        _worldService = WorldService();
      }
      
      if (ServiceLocator.has<InviteService>()) {
        _inviteService = ServiceLocator.get<InviteService>();
      } else {
        _inviteService = InviteService();
      }
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Filter und Sortierung
  WorldStatus? _statusFilter;
  WorldCategory? _categoryFilter;
  String _sortBy = 'startDate'; // 'startDate', 'name', 'status'
  bool _sortAscending = true;
  
  // Spieleranzahl (Simulation - spÃ¤ter vom Backend)
```

**worldIfMountedSetstate** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:258:39`
- ğŸ“ Original: `')) {
          if (mounted) {
            setState(() {
              _joinedWorlds[world.id] = false;
            });
          }
        } else {
          // Only log other errors
          AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      } catch (e) {
        // 404 means user is not in this world, which is normal
        if (e.toString().contains('404')) {
          if (mounted) {
            setState(() {
              _joinedWorlds[world.id] = false;
```

**worldBackgroundcolorColorsgreenNavigate** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:310:69`
- ğŸ“ Original: `'),
            backgroundColor: Colors.green,
          ),
        );
        // Navigate to world dashboard
        context.goNamed('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Erfolgreich zu ${world.name} beigetreten!'),
            backgroundColor: Colors.green,
          ),
        );
```

**worldPathparameters** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:315:41`
- ğŸ“ Original: `', pathParameters: {'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
),
        );
        // Navigate to world dashboard
        context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
      }
    } catch (e) {
      if (mounted) {
```

**worldWorldidtostringCatchE** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:315:64`
- ğŸ“ Original: `': world.id.toString()});
      }
    } catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
),
        );
        // Navigate to world dashboard
        context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
      }
    } catch (e) {
      if (mounted) {
```

**worldBackgroundcolorColorsgreenCatch** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:350:73`
- ğŸ“ Original: `'),
            backgroundColor: Colors.green,
          ),
        );
      }
    } catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
            backgroundColor: Colors.green,
          ),
        );
```

**worldBackgroundcolorColorsorangeCatch** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:417:60`
- ğŸ“ Original: `'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

**worldBackgroundcolorColorsorangeCatch** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:456:77`
- ğŸ“ Original: `'),
            backgroundColor: Colors.orange,
          ),
        );
      }
    } catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

**worldPathparameters** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:527:32`
- ğŸ“ Original: `', pathParameters: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Deep-Link zur World-Join-Page
  void _navigateToWorldJoin(World world) {
    context.goNamed('world-join', pathParameters: {'id': world.id.toString()});
  }

  void _playWorld(World world) {
```

**worldWorldidtostringVoid_playworldworld** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:527:55`
- ğŸ“ Original: `': world.id.toString()});
  }

  void _playWorld(World world) {
    // Navigate directly to world dashboard for playing
    context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Deep-Link zur World-Join-Page
  void _navigateToWorldJoin(World world) {
    context.goNamed('world-join', pathParameters: {'id': world.id.toString()});
  }

  void _playWorld(World world) {
```

**worldPathparameters** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:532:37`
- ğŸ“ Original: `', pathParameters: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void _playWorld(World world) {
    // Navigate directly to world dashboard for playing
    context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
  }

// Filter and sort methods removed - now using WorldFilters widget
```

**worldWorldidtostringFilterAnd** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:532:60`
- ğŸ“ Original: `': world.id.toString()});
  }

// Filter and sort methods removed - now using WorldFilters widget

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: BackgroundWidget(
        child: Stack(
          children: [
            // Main content
            Center(
              child: SingleChildScrollView(
                padding: const EdgeInsets.all(24.0),
                child: Center(
                  child: ConstrainedBox(
                    constraints: const BoxConstraints(maxWidth: 800),
                    child: Card(
                      elevation: 12,
                      color: const Color(0xFF1A1A1A), // Dunkle Karte
                      shape: RoundedRectangleBorder(
                        borderRadius: BorderRadius.circular(20),
                        side: BorderSide(
                          color: AppTheme.primaryColor.withOpacity(0.3),
                          width: 1,
                        ),
                      ),
                      child: Container(
                        decoration: BoxDecoration(
                          borderRadius: BorderRadius.circular(20),
                          gradient: const LinearGradient(
                            begin: Alignment.topLeft,
                            end: Alignment.bottomRight,
                            colors: [
                              Color(0xFF1A1A1A),
                              Color(0xFF2A2A2A),
                            ],
                          ),
                        ),
                        child: Padding(
                          padding: const EdgeInsets.all(32.0),
                          child: Column(
                            mainAxisSize: MainAxisSize.min,
                            children: [
                              // Logo
                              Container(
                                width: 80,
                                height: 80,
                                decoration: BoxDecoration(
                                  color: AppTheme.primaryColor.withOpacity(0.2),
                                  borderRadius: BorderRadius.circular(20),
                                  border: Border.all(
                                    color: AppTheme.primaryColor.withOpacity(0.5),
                                    width: 2,
                                  ),
                                ),
                                child: const Icon(
                                  Icons.public,
                                  size: 40,
                                  color: AppTheme.primaryColor,
                                ),
                              ),
                              const SizedBox(height: 24),
                              
                              // Title
                              Text(
                                '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void _playWorld(World world) {
    // Navigate directly to world dashboard for playing
    context.goNamed('world-dashboard', pathParameters: {'id': world.id.toString()});
  }

// Filter and sort methods removed - now using WorldFilters widget
```

**worldStyleThemeofcontexttextthemeheadlinelargecopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:599:44`
- ğŸ“ Original: `',
                                style: Theme.of(context).textTheme.headlineLarge?.copyWith(
                                  color: Colors.white,
                                  fontWeight: FontWeight.bold,
                                ),
                              ),
                              const SizedBox(height: 8),
                              
                              // Subtitle
                              Text(
                                '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Title
                              Text(
                                'Weltenwind',
                                style: Theme.of(context).textTheme.headlineLarge?.copyWith(
                                  color: Colors.white,
                                  fontWeight: FontWeight.bold,
```

**worldStyleThemeofcontexttextthemeheadlinemediumcopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:609:54`
- ğŸ“ Original: `',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.grey[300],
                                ),
                                textAlign: TextAlign.center,
                              ),
                              const SizedBox(height: 24),
                              
                              // Filter und Sortierung
                              if (!_isLoading && _worlds.isNotEmpty) ...[
                                WorldFilters(
                                  statusFilter: _statusFilter,
                                  categoryFilter: _categoryFilter,
                                  sortBy: _sortBy,
                                  sortAscending: _sortAscending,
                                  onStatusChanged: (status) {
                                    setState(() {
                                      _statusFilter = status;
                                    });
                                    _applyFiltersAndSorting();
                                  },
                                  onCategoryChanged: (category) {
                                    setState(() {
                                      _categoryFilter = category;
                                    });
                                    _applyFiltersAndSorting();
                                  },
                                  onSortByChanged: (sortBy) {
                                    setState(() {
                                      _sortBy = sortBy;
                                    });
                                    _applyFiltersAndSorting();
                                  },
                                  onSortOrderChanged: () {
                                    setState(() {
                                      _sortAscending = !_sortAscending;
                                    });
                                    _applyFiltersAndSorting();
                                  },
                                  onResetFilters: () {
                                    setState(() {
                                      _statusFilter = null;
                                      _categoryFilter = null;
                                      _sortBy = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Subtitle
                              Text(
                                'WÃ¤hle deine Welt aus',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.grey[300],
                                ),
```

**worldStyleThemeofcontexttextthemebodylargecopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:723:63`
- ğŸ“ Original: `',
                                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                          color: Colors.grey[300],
                                        ),
                                        textAlign: TextAlign.center,
                                      ),
                                      const SizedBox(height: 8),
                                      Text(
                                        '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      const SizedBox(height: 16),
                                      Text(
                                        'Keine Welten gefunden',
                                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                          color: Colors.grey[300],
                                        ),
```

**worldStyleTextstyleColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:90:92`
- ğŸ“ Original: `',
              style: TextStyle(
                color: Colors.grey[300],
              ),
            ),
            const SizedBox(height: 16),
            TextFormField(
              controller: _emailController,
              keyboardType: TextInputType.emailAddress,
              style: const TextStyle(color: Colors.white), // WeiÃŸe Schrift
              decoration: InputDecoration(
                labelText: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisSize: MainAxisSize.min,
          children: [
            Text(
              'Geben Sie Ihre E-Mail-Adresse ein, um sich fÃ¼r diese Welt vorzuregistrieren:',
              style: TextStyle(
                color: Colors.grey[300],
              ),
```

### ğŸ·ï¸ AUTH

**authIconConstIconiconslogout** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:296:55`
- ğŸ“ Original: `');
                              }
                            },
                            icon: const Icon(Icons.logout, size: 16),
                            label: const Text('`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
onPressed: () async {
                              await _authService.logout();
                              if (context.mounted) {
                                context.goNamed('login');
                              }
                            },
                            icon: const Icon(Icons.logout, size: 16),
```

### ğŸ·ï¸ BUTTON

**buttonPasswortVergessen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:406:43`
- ğŸ“ Original: `'Passwort vergessen?'`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
TextButton(
                                        onPressed: () => context.goNamed('forgot-password'),
                                        child: const Text(
                                          'Passwort vergessen?',
                                          style: TextStyle(
                                            color: AppTheme.primaryColor,
                                            fontSize: 14,
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\landing\landing_page.dart:327:93`
- ğŸ“ Original: `'),
                                                  style: ElevatedButton.styleFrom(
                                                    backgroundColor: Colors.transparent,
                                                    shadowColor: Colors.transparent,
                                                    shape: RoundedRectangleBorder(
                                                      borderRadius: BorderRadius.circular(16),
                                                    ),
                                                  ),
                                                  child: Row(
                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                    children: [
                                                      const Icon(
                                                        Icons.rocket_launch,
                                                        color: Colors.white,
                                                        size: 24,
                                                      ),
                                                      const SizedBox(width: 12),
                                                      Column(
                                                        mainAxisAlignment: MainAxisAlignment.center,
                                                        children: [
                                                          const Text(
                                                            '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
],
                                                ),
                                                child: ElevatedButton(
                                                  onPressed: () => context.goNamed('register'),
                                                  style: ElevatedButton.styleFrom(
                                                    backgroundColor: Colors.transparent,
                                                    shadowColor: Colors.transparent,
```

**buttonIconConstIcon** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\landing\landing_page.dart:385:88`
- ğŸ“ Original: `'),
                                                icon: const Icon(
                                                  Icons.login,
                                                  color: AppTheme.primaryColor,
                                                ),
                                                label: const Text(
                                                  '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
                                              ),
                                              child: ElevatedButton.icon(
                                                onPressed: () => context.goNamed('login'),
                                                icon: const Icon(
                                                  Icons.login,
                                                  color: AppTheme.primaryColor,
```

**buttonStyleTextstylecolorColorsgrey600** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\landing\landing_page.dart:653:34`
- ğŸ“ Original: `', style: TextStyle(color: Colors.grey[600])),
                          TextButton(
                            onPressed: () {},
                            child: Text(
                              '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
),
                            ),
                          ),
                          Text('â€¢', style: TextStyle(color: Colors.grey[600])),
                          TextButton(
                            onPressed: () {},
                            child: Text(
```

**buttonStyleTextstylecolorColorsgrey600** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\landing\landing_page.dart:664:34`
- ğŸ“ Original: `', style: TextStyle(color: Colors.grey[600])),
                          TextButton(
                            onPressed: () {},
                            child: Text(
                              '`
- ğŸ¯ Widget: Widget: TextButton
- ğŸ”§ Context:
```dart
),
                            ),
                          ),
                          Text('â€¢', style: TextStyle(color: Colors.grey[600])),
                          TextButton(
                            onPressed: () {},
                            child: Text(
```

**buttonWirdZurÃ¼ckgezogen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1740:53`
- ğŸ“ Original: `'Wird zurÃ¼ckgezogen...'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _cancelPreRegistration,
                    icon: const Icon(Icons.cancel),
                    label: Text(_isPreRegistering ? 'Wird zurÃ¼ckgezogen...' : 'Vorregistrierung zurÃ¼ckziehen'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.red[600],
                      foregroundColor: Colors.white,
```

**buttonWirdRegistriert** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1760:53`
- ğŸ“ Original: `'Wird registriert...'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _preRegisterWorld,
                    icon: const Icon(Icons.how_to_reg),
                    label: Text(_isPreRegistering ? 'Wird registriert...' : 'Vorregistrieren'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.orange[600],
                      foregroundColor: Colors.white,
```

**buttonWirdVerlassen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1808:46`
- ğŸ“ Original: `'Wird verlassen...'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _leaveWorld,
                    icon: const Icon(Icons.exit_to_app),
                    label: Text(_isJoining ? 'Wird verlassen...' : 'Welt verlassen'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: Colors.red[600],
                      foregroundColor: Colors.white,
```

**buttonWirdBeigetreten** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1829:46`
- ğŸ“ Original: `'Wird beigetreten...'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
child: ElevatedButton.icon(
                    onPressed: _isJoining ? null : _joinWorld,
                    icon: const Icon(Icons.play_arrow),
                    label: Text(_isJoining ? 'Wird beigetreten...' : 'Jetzt beitreten'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
```

**buttonIconConstIconiconspublic** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\routing\app_router.dart:455:69`
- ğŸ“ Original: `'),
                        icon: const Icon(Icons.public),
                        label: const Text('`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
                      ),
                      ElevatedButton.icon(
                        onPressed: () => context.goNamed('world-list'),
                        icon: const Icon(Icons.public),
                        label: const Text('Welten'),
                        style: ElevatedButton.styleFrom(
```

### ğŸ·ï¸ FORM

**formReturnPartslength3** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:151:35`
- ğŸ“ Original: `');
      return parts.length == 3;
    } catch (e) {
      return false;
    }
  }

  // Token-Ablaufzeit extrahieren
  DateTime? _getTokenExpiration(String token) {
    try {
      final parts = token.split('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// JWT-Token Format validieren
  bool _isValidJWT(String token) {
    try {
      final parts = token.split('.');
      return parts.length == 3;
    } catch (e) {
      return false;
```

**formLabelstyleTextstylecolorColorsgrey400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:199:61`
- ğŸ“ Original: `',
                                  labelStyle: TextStyle(color: Colors.grey[400]),
                                  prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                                  filled: true,
                                  fillColor: const Color(0xFF2D2D2D),
                                  border: OutlineInputBorder(
                                    borderRadius: BorderRadius.circular(12),
                                    borderSide: BorderSide(color: Colors.grey[600]!),
                                  ),
                                  enabledBorder: OutlineInputBorder(
                                    borderRadius: BorderRadius.circular(12),
                                    borderSide: BorderSide(color: Colors.grey[600]!),
                                  ),
                                  focusedBorder: OutlineInputBorder(
                                    borderRadius: BorderRadius.circular(12),
                                    borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                  ),
                                  errorBorder: OutlineInputBorder(
                                    borderRadius: BorderRadius.circular(12),
                                    borderSide: BorderSide(color: Colors.red[400]!),
                                  ),
                                  focusedErrorBorder: OutlineInputBorder(
                                    borderRadius: BorderRadius.circular(12),
                                    borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                  ),
                                ),
                                validator: (value) {
                                  if (value == null || value.trim().isEmpty) {
                                    return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
textInputAction: TextInputAction.done,
                                onFieldSubmitted: (_) => _isLoading ? null : _requestPasswordReset(),
                                decoration: InputDecoration(
                                  labelText: 'E-Mail-Adresse',
                                  labelStyle: TextStyle(color: Colors.grey[400]),
                                  prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                                  filled: true,
```

**formLabelstyleTextstylecolorColorsgrey400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:257:63`
- ğŸ“ Original: `',
                                      labelStyle: TextStyle(color: Colors.grey[400]),
                                      prefixIcon: const Icon(Icons.person, color: AppTheme.primaryColor),
                                      filled: true,
                                      fillColor: const Color(0xFF2D2D2D),
                                      border: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.grey[600]!),
                                      ),
                                      enabledBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.grey[600]!),
                                      ),
                                      focusedBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                      ),
                                      errorBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.red[400]!),
                                      ),
                                      focusedErrorBorder: OutlineInputBorder(
                                        borderRadius: BorderRadius.circular(12),
                                        borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                      ),
                                    ),
                                    validator: (value) {
                                      if (value == null || value.trim().isEmpty) {
                                        return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
}
                                    },
                                    decoration: InputDecoration(
                                      labelText: 'Benutzername',
                                      labelStyle: TextStyle(color: Colors.grey[400]),
                                      prefixIcon: const Icon(Icons.person, color: AppTheme.primaryColor),
                                      filled: true,
```

**formIfValuetrimlength3** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:285:83`
- ğŸ“ Original: `';
                                      }
                                      if (value.trim().length < 3) {
                                        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                                    validator: (value) {
                                      if (value == null || value.trim().isEmpty) {
                                        return 'Bitte gib deinen Benutzernamen ein';
                                      }
                                      if (value.trim().length < 3) {
                                        return 'Benutzername muss mindestens 3 Zeichen lang sein';
```

**formIf_hasinteractedwithpasswordValuelength** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:350:76`
- ğŸ“ Original: `';
                                      }
                                      if (_hasInteractedWithPassword && value.length < 6) {
                                        return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                                    validator: (value) {
                                      if (value == null || value.isEmpty) {
                                        return 'Bitte gib dein Passwort ein';
                                      }
                                      if (_hasInteractedWithPassword && value.length < 6) {
                                        return 'Passwort muss mindestens 6 Zeichen lang sein';
```

**formLabelstyleTextstylecolorColorsgrey400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:276:57`
- ğŸ“ Original: `',
                                labelStyle: TextStyle(color: Colors.grey[400]),
                                prefixIcon: const Icon(Icons.person, color: AppTheme.primaryColor),
                                filled: true,
                                fillColor: const Color(0xFF2D2D2D),
                                border: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.grey[600]!),
                                ),
                                enabledBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.grey[600]!),
                                ),
                                focusedBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                ),
                                errorBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.red[400]!),
                                ),
                                focusedErrorBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                ),
                              ),
                              validator: (value) {
                                if (value == null || value.trim().isEmpty) {
                                  return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
controller: _usernameController,
                              style: const TextStyle(color: Colors.white),
                              decoration: InputDecoration(
                                labelText: 'Benutzername',
                                labelStyle: TextStyle(color: Colors.grey[400]),
                                prefixIcon: const Icon(Icons.person, color: AppTheme.primaryColor),
                                filled: true,
```

**formIfValuelength3** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:304:72`
- ğŸ“ Original: `';
                                }
                                if (value.length < 3) {
                                  return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                              validator: (value) {
                                if (value == null || value.trim().isEmpty) {
                                  return 'Benutzername ist erforderlich';
                                }
                                if (value.length < 3) {
                                  return 'Benutzername muss mindestens 3 Zeichen lang sein';
```

**formLabelstyleTextstylecolorColorsgrey400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:323:51`
- ğŸ“ Original: `',
                                labelStyle: TextStyle(color: Colors.grey[400]),
                                prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                                filled: true,
                                fillColor: const Color(0xFF2D2D2D),
                                border: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.grey[600]!),
                                ),
                                enabledBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.grey[600]!),
                                ),
                                focusedBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: const BorderSide(color: AppTheme.primaryColor, width: 2),
                                ),
                                errorBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.red[400]!),
                                ),
                                focusedErrorBorder: OutlineInputBorder(
                                  borderRadius: BorderRadius.circular(12),
                                  borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                ),
                              ),
                              validator: (value) {
                                if (value == null || value.trim().isEmpty) {
                                  return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
controller: _emailController,
                              style: const TextStyle(color: Colors.white),
                              decoration: InputDecoration(
                                labelText: 'E-Mail',
                                labelStyle: TextStyle(color: Colors.grey[400]),
                                prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                                filled: true,
```

**formIfValuelength6** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:408:68`
- ğŸ“ Original: `';
                                }
                                if (value.length < 6) {
                                  return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                              validator: (value) {
                                if (value == null || value.isEmpty) {
                                  return 'Passwort ist erforderlich';
                                }
                                if (value.length < 6) {
                                  return 'Passwort muss mindestens 6 Zeichen lang sein';
```

**formMindestens6Zeichen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:283:49`
- ğŸ“ Original: `'Mindestens 6 Zeichen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
borderRadius: BorderRadius.circular(12),
                                      borderSide: BorderSide(color: Colors.red[400]!, width: 2),
                                    ),
                                    helperText: 'Mindestens 6 Zeichen',
                                    helperStyle: TextStyle(color: Colors.grey[500], fontSize: 12),
                                  ),
                                  validator: (value) {
```

**formBitteGibEin** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:288:46`
- ğŸ“ Original: `'Bitte gib ein neues Passwort ein'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                  validator: (value) {
                                    if (value == null || value.isEmpty) {
                                      return 'Bitte gib ein neues Passwort ein';
                                    }
                                    if (value.length < 6) {
                                      return 'Passwort muss mindestens 6 Zeichen lang sein';
```

**formBitteBestÃ¤tigeDein** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:355:46`
- ğŸ“ Original: `'Bitte bestÃ¤tige dein neues Passwort'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                                  validator: (value) {
                                    if (value == null || value.isEmpty) {
                                      return 'Bitte bestÃ¤tige dein neues Passwort';
                                    }
                                    if (value != _passwordController.text) {
                                      return 'Die PasswÃ¶rter stimmen nicht Ã¼berein';
```

**formDiePasswÃ¶rterStimmen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:358:46`
- ğŸ“ Original: `'Die PasswÃ¶rter stimmen nicht Ã¼berein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Bitte bestÃ¤tige dein neues Passwort';
                                    }
                                    if (value != _passwordController.text) {
                                      return 'Die PasswÃ¶rter stimmen nicht Ã¼berein';
                                    }
                                    return null;
                                  },
```

**formMindestens6Zeichen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:386:57`
- ğŸ“ Original: `'Mindestens 6 Zeichen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      ),
                                      const SizedBox(height: 8),
                                      _buildRequirement('Mindestens 6 Zeichen', 
                                        _passwordController.text.length >= 6),
                                      _buildRequirement('Keine Leerzeichen', 
                                        !_passwordController.text.contains(' ')),
```

**formKeineLeerzeichen** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:388:57`
- ğŸ“ Original: `'Keine Leerzeichen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
                                      _buildRequirement('Mindestens 6 Zeichen', 
                                        _passwordController.text.length >= 6),
                                      _buildRequirement('Keine Leerzeichen', 
                                        !_passwordController.text.contains(' ')),
                                      _buildRequirement('PasswÃ¶rter stimmen Ã¼berein', 
                                        _passwordController.text.isNotEmpty &&
```

**form_buildrequirement** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:389:78`
- ğŸ“ Original: `')),
                                      _buildRequirement('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
_buildRequirement('Mindestens 6 Zeichen', 
                                        _passwordController.text.length >= 6),
                                      _buildRequirement('Keine Leerzeichen', 
                                        !_passwordController.text.contains(' ')),
                                      _buildRequirement('PasswÃ¶rter stimmen Ã¼berein', 
                                        _passwordController.text.isNotEmpty && 
                                        _passwordController.text == _confirmPasswordController.text),
```

**form_passwordcontrollertextisnotempty_passwordcontrollertext_confirmpasswordcontrollertext** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:390:84`
- ğŸ“ Original: `', 
                                        _passwordController.text.isNotEmpty && 
                                        _passwordController.text == _confirmPasswordController.text),
                                    ],
                                  ),
                                ),
                                const SizedBox(height: 16),
                              ],
                              
                              // Error message
                              if (_errorMessage != null)
                                Container(
                                  width: double.infinity,
                                  padding: const EdgeInsets.all(12),
                                  margin: const EdgeInsets.only(bottom: 16),
                                  decoration: BoxDecoration(
                                    color: Colors.red[900]!.withOpacity(0.3),
                                    borderRadius: BorderRadius.circular(8),
                                    border: Border.all(color: Colors.red[400]!.withOpacity(0.5)),
                                  ),
                                  child: Row(
                                    children: [
                                      Icon(Icons.error_outline, color: Colors.red[400], size: 20),
                                      const SizedBox(width: 8),
                                      Expanded(
                                        child: Text(
                                          _errorMessage!,
                                          style: TextStyle(color: Colors.red[200], fontSize: 14),
                                        ),
                                      ),
                                    ],
                                  ),
                                ),
                              
                              // Submit button
                              if (!_isSuccess)
                                SizedBox(
                                  width: double.infinity,
                                  height: 56,
                                  child: ElevatedButton(
                                    onPressed: _isLoading ? null : _resetPassword,
                                    style: ElevatedButton.styleFrom(
                                      backgroundColor: AppTheme.primaryColor,
                                      foregroundColor: Colors.white,
                                      shape: RoundedRectangleBorder(
                                        borderRadius: BorderRadius.circular(12),
                                      ),
                                      elevation: 8,
                                      shadowColor: AppTheme.primaryColor.withOpacity(0.5),
                                    ),
                                    child: _isLoading
                                        ? const SizedBox(
                                            height: 20,
                                            width: 20,
                                            child: CircularProgressIndicator(
                                              strokeWidth: 2,
                                              valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                                            ),
                                          )
                                        : const Text(
                                            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_passwordController.text.length >= 6),
                                      _buildRequirement('Keine Leerzeichen', 
                                        !_passwordController.text.contains(' ')),
                                      _buildRequirement('PasswÃ¶rter stimmen Ã¼berein', 
                                        _passwordController.text.isNotEmpty && 
                                        _passwordController.text == _confirmPasswordController.text),
                                    ],
```

**formCoreservicesinvite_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:7:8`
- ğŸ“ Original: `'../../../core/services/invite_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../../core/models/world.dart';
import '../../../core/services/world_service.dart';
import '../../../core/services/auth_service.dart';
import '../../../core/services/invite_service.dart';
import '../widgets/world_card.dart';

class WorldListController extends ChangeNotifier {
```

**formClassWorldlistcontrollerExtends** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:8:35`
- ğŸ“ Original: `';

class WorldListController extends ChangeNotifier {
  final WorldService _worldService;
  final InviteService _inviteService;

  // State
  List<World> _worlds = [];
  List<World> _filteredWorlds = [];
  final Map<int, int> _playerCounts = {};
  final Map<int, bool> _preRegisteredWorlds = {};
  final Map<int, bool> _joinedWorlds = {};
  bool _isLoading = false;
  String? _error;

  // Filters & Sorting
  WorldStatus? _statusFilter;
  WorldCategory? _categoryFilter;
  String _sortBy = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../../core/services/world_service.dart';
import '../../../core/services/auth_service.dart';
import '../../../core/services/invite_service.dart';
import '../widgets/world_card.dart';

class WorldListController extends ChangeNotifier {
  final WorldService _worldService;
```

**formStyleThemeofcontexttextthemeheadlinesmallcopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:999:37`
- ğŸ“ Original: `',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(height: 16),
                      Text(
                        _infoMessage ?? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 24),
                      Text(
                        'Information',
                        style: Theme.of(context).textTheme.headlineSmall?.copyWith(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
```

**formStyleThemeofcontexttextthemebodylargecopywithColor** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1007:69`
- ğŸ“ Original: `',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
                        textAlign: TextAlign.center,
                      ),
                      const SizedBox(height: 32),
                      
                      // **NEUE INTELLIGENTE BUTTONS**
                      _buildActionButtons(),
                      
                      // **INVITE-FLOWS: Kein "ZurÃ¼ck"-Link (User kommt von externem Link)**
                      if (widget.inviteToken == null) ...[
                        const SizedBox(height: 16),
                        TextButton(
                          onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        _infoMessage ?? 'Keine Information verfÃ¼gbar',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

**formLabelstyleTextstylecolorColorsgrey400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:82:43`
- ğŸ“ Original: `',
                labelStyle: TextStyle(color: Colors.grey[400]),
                prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                filled: true,
                fillColor: const Color(0xFF2D2D2D),
                border: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: BorderSide(color: Colors.grey[600]!),
                ),
                enabledBorder: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: BorderSide(color: Colors.grey[600]!),
                ),
                focusedBorder: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: const BorderSide(color: AppTheme.primaryColor),
                ),
                errorBorder: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: BorderSide(color: Colors.red[400]!),
                ),
              ),
              validator: (value) {
                if (value == null || value.isEmpty) {
                  return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
keyboardType: TextInputType.emailAddress,
              style: const TextStyle(color: Colors.white), // WeiÃŸe Schrift
              decoration: InputDecoration(
                labelText: 'E-Mail-Adresse',
                labelStyle: TextStyle(color: Colors.grey[400]),
                prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                filled: true,
```

**formLabelstyleTextstylecolorColorsgrey400** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:101:43`
- ğŸ“ Original: `',
                labelStyle: TextStyle(color: Colors.grey[400]),
                prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                filled: true,
                fillColor: const Color(0xFF2D2D2D),
                border: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: BorderSide(color: Colors.grey[600]!),
                ),
                enabledBorder: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: BorderSide(color: Colors.grey[600]!),
                ),
                focusedBorder: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: const BorderSide(color: AppTheme.primaryColor),
                ),
                errorBorder: OutlineInputBorder(
                  borderRadius: BorderRadius.circular(12),
                  borderSide: BorderSide(color: Colors.red[400]!),
                ),
              ),
              validator: (value) {
                if (value == null || value.isEmpty) {
                  return '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
keyboardType: TextInputType.emailAddress,
              style: const TextStyle(color: Colors.white), // WeiÃŸe Schrift
              decoration: InputDecoration(
                labelText: 'E-Mail-Adresse',
                labelStyle: TextStyle(color: Colors.grey[400]),
                prefixIcon: const Icon(Icons.email, color: AppTheme.primaryColor),
                filled: true,
```

### ğŸ·ï¸ NAVIGATION

**navigation_pendingredirectroute** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\core\services\auth_service.dart:44:15`
- ğŸ“ Original: `': _pendingRedirectRoute!,
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Map<String, dynamic>? getPendingRedirect() {
    if (_pendingRedirectRoute != null) {
      final redirect = {
        'route': _pendingRedirectRoute!,
        'params': _pendingRouteParams,
        'inviteToken': _pendingInviteToken,
      };
```

**navigationPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
```

**navigationPackagego_routergo_routerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:2:8`
- ğŸ“ Original: `'package:go_router/go_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
```

**navigationCoreservicesauth_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:3:8`
- ğŸ“ Original: `'../../core/services/auth_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
```

**navigationClassForgotpasswordpageExtends** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:5:43`
- ğŸ“ Original: `';

class ForgotPasswordPage extends StatefulWidget {
  const ForgotPasswordPage({super.key});

  @override
  State<ForgotPasswordPage> createState() => _ForgotPasswordPageState();
}

class _ForgotPasswordPageState extends State<ForgotPasswordPage> {
  final _formKey = GlobalKey<FormState>();
  final _emailController = TextEditingController();
  final AuthService _authService = AuthService();
  
  bool _isLoading = false;
  bool _isSuccess = false;
  String? _errorMessage;
  
  // E-Mail-Validierung Regex
  static final RegExp _emailRegex = RegExp(r'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';

class ForgotPasswordPage extends StatefulWidget {
  const ForgotPasswordPage({super.key});
```

**navigationPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
```

**navigationPackagego_routergo_routerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:2:8`
- ğŸ“ Original: `'package:go_router/go_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
```

**navigationConfigloggerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:3:8`
- ğŸ“ Original: `'../../config/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
```

**navigationCoreservicesauth_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:4:8`
- ğŸ“ Original: `'../../core/services/auth_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
```

**navigationAsStringFinal** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:119:53`
- ğŸ“ Original: `'] as String;
            final params = pendingRedirect['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
            final routeName = pendingRedirect['route'] as String;
            final params = pendingRedirect['params'] as Map<String, String>?;
            
            if (params != null) {
```

**navigationAsMapstringString** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\login_page.dart:120:51`
- ğŸ“ Original: `'] as Map<String, String>?;
            
            if (params != null) {
              context.goNamed(routeName, pathParameters: params);
            } else {
              context.goNamed(routeName);
            }
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Redirect zur ursprÃ¼nglichen Invite-Seite
            final routeName = pendingRedirect['route'] as String;
            final params = pendingRedirect['params'] as Map<String, String>?;
            
            if (params != null) {
              context.goNamed(routeName, pathParameters: params);
```

**navigationPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
```

**navigationPackagego_routergo_routerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:2:8`
- ğŸ“ Original: `'package:go_router/go_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../core/services/world_service.dart';
```

**navigationConfigloggerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:3:8`
- ğŸ“ Original: `'../../config/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../core/services/world_service.dart';
import '../../theme/app_theme.dart';
```

**navigationCoreservicesauth_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:4:8`
- ğŸ“ Original: `'../../core/services/auth_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../core/services/world_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
```

**navigationCoreservicesworld_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:5:8`
- ğŸ“ Original: `'../../core/services/world_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../core/services/world_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
```

**navigationAsStringFinal** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:123:53`
- ğŸ“ Original: `'] as String;
            final params = pendingRedirect['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_authService.clearPendingRedirect();
            
            // Redirect zur ursprÃ¼nglichen Invite-Seite
            final routeName = pendingRedirect['route'] as String;
            final params = pendingRedirect['params'] as Map<String, String>?;
            
            ScaffoldMessenger.of(context).showSnackBar(
```

**navigationAsMapstringString** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\register_page.dart:124:51`
- ğŸ“ Original: `'] as Map<String, String>?;
            
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Redirect zur ursprÃ¼nglichen Invite-Seite
            final routeName = pendingRedirect['route'] as String;
            final params = pendingRedirect['params'] as Map<String, String>?;
            
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
```

**navigationPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
```

**navigationPackagego_routergo_routerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:2:8`
- ğŸ“ Original: `'package:go_router/go_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
```

**navigationCoreservicesauth_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:3:8`
- ğŸ“ Original: `'../../core/services/auth_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
```

**navigationClassResetpasswordpageExtends** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\auth\reset_password_page.dart:5:43`
- ğŸ“ Original: `';

class ResetPasswordPage extends StatefulWidget {
  final String token;
  
  const ResetPasswordPage({
    super.key,
    required this.token,
  });

  @override
  State<ResetPasswordPage> createState() => _ResetPasswordPageState();
}

class _ResetPasswordPageState extends State<ResetPasswordPage> with SingleTickerProviderStateMixin {
  final _formKey = GlobalKey<FormState>();
  final _passwordController = TextEditingController();
  final _confirmPasswordController = TextEditingController();
  final AuthService _authService = AuthService();
  
  late AnimationController _animationController;
  late Animation<double> _fadeAnimation;
  
  bool _isLoading = false;
  bool _isSuccess = false;
  String? _errorMessage;
  bool _obscurePassword = true;
  bool _obscureConfirmPassword = true;
  
  // FÃ¼r bessere Validierung
  bool _hasInteractedWithPassword = false;
  bool _hasInteractedWithConfirmPassword = false;

  @override
  void initState() {
    super.initState();
    
    // Animation Setup
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 800),
      vsync: this,
    );
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeIn,
    ));
    
    _animationController.forward();
  }

  @override
  void dispose() {
    _animationController.dispose();
    _passwordController.dispose();
    _confirmPasswordController.dispose();
    super.dispose();
  }

  Future<void> _resetPassword() async {
    if (!_formKey.currentState!.validate()) {
      return;
    }

    setState(() {
      _isLoading = true;
      _errorMessage = null;
      _isSuccess = false;
    });

    try {
      final success = await _authService.resetPassword(
        widget.token,
        _passwordController.text,
      );

      if (success && mounted) {
        setState(() {
          _isSuccess = true;
        });
        
        // Erfolgsmeldung zeigen und nach 3 Sekunden zum Login
        await Future.delayed(const Duration(seconds: 3));
        if (mounted) {
          context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';

class ResetPasswordPage extends StatefulWidget {
  final String token;
```

**navigationPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
```

**navigationPackageflutterfoundationdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:2:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/models/world.dart';
```

**navigationPackagego_routergo_routerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:3:8`
- ğŸ“ Original: `'package:go_router/go_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/models/world.dart';
import '../../core/services/world_service.dart';
```

**navigationConfigloggerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:4:8`
- ğŸ“ Original: `'../../config/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/models/world.dart';
import '../../core/services/world_service.dart';
import '../../core/services/auth_service.dart';
```

**navigationCoreservicesworld_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:6:8`
- ğŸ“ Original: `'../../core/services/world_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/models/world.dart';
import '../../core/services/world_service.dart';
import '../../core/services/auth_service.dart';
import '../../core/services/api_service.dart';
import '../../theme/app_theme.dart';
```

**navigationSharedwidgetsuser_info_widgetdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:11:8`
- ğŸ“ Original: `'../../shared/widgets/user_info_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../core/services/api_service.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';

// ServiceLocator Import fÃ¼r DI
```

**navigationSharedwidgetsnavigation_widgetdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:12:8`
- ğŸ“ Original: `'../../shared/widgets/navigation_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';
```

**navigationFlowtypeenumFÃ¼rKlare** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:15:24`
- ğŸ“ Original: `';

// Flow-Type-Enum fÃ¼r klare Trennung der beiden User-Journeys
enum WorldJoinFlowType {
  normal,   // Normale Navigation: User kommt von World-List
  invite,   // Invite-Flow: User kommt Ã¼ber externen Link
}

class WorldJoinPage extends StatefulWidget {
  final String? worldId;
  final String? inviteToken;
  final WorldJoinFlowType flowType;
  
  const WorldJoinPage({
    super.key, 
    this.worldId, 
    this.inviteToken,
    required this.flowType,
  });

  @override
  State<WorldJoinPage> createState() => _WorldJoinPageState();
}

class _WorldJoinPageState extends State<WorldJoinPage> with SingleTickerProviderStateMixin {
  // DI-ready: ServiceLocator verwenden
  late final WorldService _worldService;
  late final AuthService _authService;
  
  // Tab Controller
  late TabController _tabController;
  
  bool _isLoading = false;
  bool _isJoining = false;
  bool _isPreRegistering = false;
  bool _isAuthenticated = false;
  bool _isJoined = false;
  bool _isPreRegistered = false;
  World? _world;
  String? _errorMessage;
  String? _infoMessage;
  String? _joinError;
  bool _showRegistrationButton = false;
  bool _showLogoutButton = false;
  String? _inviteEmail;
  bool _showLoginButton = false;
  bool _showAcceptInviteButton = false;
  bool isInviteValid = true; // Neue Variable fÃ¼r GÃ¼ltigkeit der Einladung

  @override
  void initState() {
    super.initState();
    
    _tabController = TabController(length: 1, vsync: this);
    _initializeServices();
    _loadWorldData();
  }
  
  @override
  void dispose() {
    _tabController.dispose();
    super.dispose();
  }

  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    // Authentication-Status bei Kontext-Ã„nderungen prÃ¼fen
    _checkAuthenticationStatus();
  }

  void _initializeServices() {
    try {
      if (ServiceLocator.has<WorldService>()) {
        _worldService = ServiceLocator.get<WorldService>();
      } else {
        _worldService = WorldService();
      }
      
      if (ServiceLocator.has<AuthService>()) {
        _authService = ServiceLocator.get<AuthService>();
      } else {
        _authService = AuthService();
      }
      
      // Authentication-Status prÃ¼fen
      _checkAuthenticationStatus();
    } catch (e) {
      AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../shared/widgets/navigation_widget.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';

// Flow-Type-Enum fÃ¼r klare Trennung der beiden User-Journeys
enum WorldJoinFlowType {
```

**navigationSuccessAwait_worldservicejoinworld_worldid** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:451:56`
- ğŸ“ Original: `');
        success = await _worldService.joinWorld(_world!.id);
      }
      
      if (success) {
        setState(() {
          _isJoined = true;
        });
        
        if (mounted) {
          final message = widget.inviteToken != null 
            ? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      } else {
        // **NORMALE NAVIGATION: Standard World-Join**
        AppLogger.app.i('ğŸŒ Versuche normalen World-Join');
        success = await _worldService.joinWorld(_world!.id);
      }
```

**navigationQueryparameters** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:699:30`
- ğŸ“ Original: `', queryParameters: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_authService.setPendingInviteRedirect(widget.inviteToken!);
    }
    
    context.goNamed('register', queryParameters: {'email': email, 'invite_token': widget.inviteToken});
  }

  // Navigation zu Login
```

**navigationRouteparams** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:777:42`
- ğŸ“ Original: `',
                routeParams: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation widget (only show when authenticated)
            if (_isAuthenticated)
              NavigationWidget(
                currentRoute: 'world-join',
                routeParams: {'id': widget.worldId},
                isJoinedWorld: _isJoined,
              ),
```

**navigationWidgetworldidIsjoinedworld_isjoined** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:778:34`
- ğŸ“ Original: `': widget.worldId},
                isJoinedWorld: _isJoined,
              ),
          ],
        ),
      ),
    );
  }

  Widget _buildErrorState() {
    return Center(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Center(
          child: ConstrainedBox(
            constraints: const BoxConstraints(maxWidth: 500),
            child: Card(
              elevation: 12,
              color: const Color(0xFF1A1A1A), // Dunkle Karte
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(20),
                side: BorderSide(
                  color: AppTheme.primaryColor.withOpacity(0.3),
                  width: 1,
                ),
              ),
              child: Container(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(20),
                  gradient: const LinearGradient(
                    begin: Alignment.topLeft,
                    end: Alignment.bottomRight,
                    colors: [
                      Color(0xFF1A1A1A),
                      Color(0xFF2A2A2A),
                    ],
                  ),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(32.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      Icon(
                        Icons.error_outline,
                        size: 80,
                        color: Colors.red[400],
                      ),
                      const SizedBox(height: 24),
                      Text(
                        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (_isAuthenticated)
              NavigationWidget(
                currentRoute: 'world-join',
                routeParams: {'id': widget.worldId},
                isJoinedWorld: _isJoined,
              ),
          ],
```

**navigationPackagefluttermaterialdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
```

**navigationPackageflutterfoundationdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:2:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
```

**navigationPackagego_routergo_routerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:3:8`
- ğŸ“ Original: `'package:go_router/go_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../core/services/world_service.dart';
```

**navigationConfigloggerdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:4:8`
- ğŸ“ Original: `'../../config/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/foundation.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../core/services/world_service.dart';
import '../../core/services/invite_service.dart';
```

**navigationCoreservicesauth_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:5:8`
- ğŸ“ Original: `'../../core/services/auth_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/foundation.dart';
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../core/services/world_service.dart';
import '../../core/services/invite_service.dart';
import '../../core/models/world.dart';
```

**navigationCoreservicesworld_servicedart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:6:8`
- ğŸ“ Original: `'../../core/services/world_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../config/logger.dart';
import '../../core/services/auth_service.dart';
import '../../core/services/world_service.dart';
import '../../core/services/invite_service.dart';
import '../../core/models/world.dart';
import '../../theme/app_theme.dart';
```

**navigationWidgetsworld_filtersdart** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:17:8`
- ğŸ“ Original: `'./widgets/world_filters.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';
import './widgets/world_card.dart';
import './widgets/world_filters.dart';

// ServiceLocator Import fÃ¼r DI
import '../../main.dart';
```

**navigationTokenFehlt** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:135:69`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
});
          
          // If token is invalid, redirect to login
          if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
            await _authService.logout();
            // Cache invalidieren nach Logout
            AppRouter.invalidateAuthCache();
```

**navigationVoid_generatemockplayercountsFinal** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:140:37`
- ğŸ“ Original: `');
            }
          }
        }
      }
    }
  }

  void _generateMockPlayerCounts() {
    final random = DateTime.now().millisecondsSinceEpoch;
    for (final world in _worlds) {
      // Generate realistic player counts based on world status
      int baseCount = 0;
      switch (world.status) {
        case WorldStatus.upcoming:
          baseCount = 5 + (random % 15); // 5-20 players
          break;
        case WorldStatus.open:
          baseCount = 20 + (random % 30); // 20-50 players
          break;
        case WorldStatus.running:
          baseCount = 50 + (random % 100); // 50-150 players
          break;
        case WorldStatus.closed:
        case WorldStatus.archived:
          baseCount = 0 + (random % 10); // 0-10 players
          break;
      }
      _playerCounts[world.id] = baseCount;
    }
  }

  void _applyFiltersAndSorting() {
    List<World> filtered = List.from(_worlds);
    
    // Apply status filter
    if (_statusFilter != null) {
      filtered = filtered.where((world) => world.status == _statusFilter).toList();
    }
    
    // Apply category filter (mock implementation)
    if (_categoryFilter != null) {
      // In real app, this would be based on world.category field
      // For now, we'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Cache invalidieren nach Logout
            AppRouter.invalidateAuthCache();
            if (mounted) {
              context.goNamed('login');
            }
          }
        }
```

**navigationTokenFehlt** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:320:67`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
```

**navigationTokenFehlt** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:358:67`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
```

**navigationTokenFehlt** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:425:67`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
```

**navigationTokenFehlt** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:464:67`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
} catch (e) {
      if (mounted) {
        // PrÃ¼fe ob es ein Token-Problem ist
        if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
          await _authService.logout();
          // Cache invalidieren nach Logout
          AppRouter.invalidateAuthCache();
```

**navigationTokenFehlt** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_list_page.dart:504:69`
- ğŸ“ Original: `'Token fehlt'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
} catch (e) {
        if (mounted) {
          // PrÃ¼fe ob es ein Token-Problem ist
          if (e.toString().contains('401') || e.toString().contains('Token fehlt')) {
            await _authService.logout();
            // Cache invalidieren nach Logout
            AppRouter.invalidateAuthCache();
```

### ğŸ·ï¸ UI

**uiStyleTextstylefontsize16** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1616:24`
- ğŸ“ Original: `',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
        ),
      );
    }

    // **REGISTRATION BUTTON**
    if (_showRegistrationButton && _inviteEmail != null) {
      buttons.add(
        Container(
          width: double.infinity,
          margin: const EdgeInsets.only(bottom: 12.0),
          child: ElevatedButton(
            onPressed: () {
              // Redirect auf Register-Seite mit E-Mail vorausgefÃ¼llt
              final registerRoute = '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
            ),
            child: const Text(
              'Anmelden',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
```

**uiStyleTextstylefontsize16** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1649:28`
- ğŸ“ Original: `',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
        ),
      );
    }

    // **ACCEPT INVITE BUTTON (wenn User korrekt angemeldet)**
    if (_showAcceptInviteButton && widget.inviteToken != null) {
      buttons.add(
        Container(
          width: double.infinity,
          margin: const EdgeInsets.only(bottom: 12.0),
          child: ElevatedButton(
            onPressed: _isJoining || !isInviteValid ? null : () => _joinWorld(),
            style: ElevatedButton.styleFrom(
              backgroundColor: Colors.green[600],
              foregroundColor: Colors.white,
              padding: const EdgeInsets.symmetric(vertical: 16),
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(12),
              ),
            ),
            child: _isJoining
                ? const SizedBox(
                    height: 20,
                    width: 20,
                    child: CircularProgressIndicator(
                      strokeWidth: 2,
                      valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                    ),
                  )
                : const Text(
                    '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
            ),
            child: const Text(
              'Registrieren',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
```

**uiStyleTextstylefontsize16** âš ï¸ (Confidence: 0.7)
- ğŸ“ `lib\features\world\world_join_page.dart:1714:24`
- ğŸ“ Original: `',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
        ),
      );
    }

    // FALLBACK: Normale World-Join-Buttons wenn keine spezifischen Buttons
    if (buttons.isEmpty) {
      // **NORMALE WORLD-JOIN LOGIC** (wenn kein Invite-Token)
      if (widget.inviteToken == null && _world != null) {
        final world = _world!;
        
        // **STATUS-BASIERTE INTELLIGENTE BUTTON-LOGIK**
        switch (world.status) {
          case WorldStatus.upcoming:
            // Vorregistrierung oder ZurÃ¼ckziehen
            if (_isPreRegistered) {
              buttons.add(
                Container(
                  width: double.infinity,
                  margin: const EdgeInsets.only(bottom: 12.0),
                  child: ElevatedButton.icon(
                    onPressed: (_isPreRegistering || _isJoining) ? null : _cancelPreRegistration,
                    icon: const Icon(Icons.cancel),
                    label: Text(_isPreRegistering ? '`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
            ),
            child: const Text(
              'Abmelden',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
          ),
```

### ğŸ·ï¸ BUTTON

**buttonDuMusstDich** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:288:24`
- ğŸ“ Original: `'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
case 'not_logged_in':
        if (requiresAction == 'register') {
          // Mail ist unbekannt -> nur Register
          actionText = 'Du musst dich mit der E-Mail-Adresse $inviteEmail registrieren.';
          infoText = '$baseInfoText\n\n$actionText';
          showRegisterButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
```

**buttonDeinAccountMit** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:297:24`
- ğŸ“ Original: `'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
case 'user_exists_not_logged_in':
        if (requiresAction == 'login') {
          // Mail ist bekannt, User nicht angemeldet -> nur Login
          actionText = 'Dein Account mit $inviteEmail ist bereits registriert. Bitte melde dich an.';
          infoText = '$baseInfoText\n\n$actionText';
          showLoginButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
```

**buttonDieseEinladungIst** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:307:24`
- ğŸ“ Original: `'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (requiresAction == 'logout_and_register') {
          final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
```

**buttonBaseinfotextnnactiontextnnbitteMeldeDich** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:308:22`
- ğŸ“ Original: `'$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
final currentUserEmail = userStatusData['currentUser']?['email'];
          // User mit falscher Mail angemeldet -> Logout + Register
          actionText = 'Diese Einladung ist fÃ¼r $inviteEmail bestimmt, aber du bist als $currentUserEmail angemeldet.';
          infoText = '$baseInfoText\n\n$actionText\n\nBitte melde dich ab und registriere dich mit der richtigen E-Mail-Adresse.';
          showLogoutButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
        }
        break;
```

**buttonDuBistMit** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:316:24`
- ğŸ“ Original: `'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
case 'correct_email':
        if (requiresAction == 'join_world') {
          // User richtig angemeldet -> nur Accept Button (KEIN Auto-Accept!)
          actionText = 'Du bist mit der richtigen E-Mail-Adresse angemeldet und kannst die Einladung jetzt annehmen.';
          infoText = '$baseInfoText\n\n$actionText';
          showAcceptButton = isInviteValid; // Nur bei gÃ¼ltigen Invites
```

### ğŸ·ï¸ ERROR

**errorText090** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\auth_service.dart:32:98`
- ğŸ“ Original: `'...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_pendingInviteToken = inviteToken;
    _pendingRedirectRoute = 'world-join-by-token';
    _pendingRouteParams = {'token': inviteToken};
    AppLogger.auth.i('ğŸ« Invite-Redirect gesetzt', error: {'token': inviteToken.substring(0, 8) + '...'});
  }

  void setPendingRoute(String routeName, {Map<String, String>? params}) {
```

**errorText090** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\auth_service.dart:489:106`
- ğŸ“ Original: `'...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Passwort zurÃ¼cksetzen mit Token
  Future<bool> resetPassword(String token, String newPassword) async {
    try {
      AppLogger.auth.i('ğŸ”„ Password-Reset wird versucht', error: {'tokenPreview': token.substring(0, 8) + '...'});
      
      final response = await _apiService.post('/auth/reset-password', {
        'token': token,
```

**errorText090** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\world_service.dart:390:104`
- ğŸ“ Original: `'...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Token-Validierung', e, context: {'token': token.substring(0, 8) + '...'});
      // Fallback fÃ¼r bessere UX
      return null;
    }
```

**errorText090** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\world_service.dart:399:92`
- ğŸ“ Original: `'...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Invite akzeptieren und User der Welt hinzufÃ¼gen
  Future<Map<String, dynamic>?> acceptInvite(String token) async {
    try {
      AppLogger.app.i('ğŸ« Invite wird akzeptiert', error: {'token': token.substring(0, 8) + '...'});
      
      // API-Call mit Authentifizierung (da User eingeloggt sein muss)
      final response = await _apiService.post('/invites/accept/$token', {});
```

**errorText090** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\world_service.dart:417:98`
- ğŸ“ Original: `'...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Fehlerbehandlung fÃ¼r spezifische HTTP-Status-Codes
      if (response.statusCode == 409) {
        AppLogger.app.w('âš ï¸ Invite bereits akzeptiert', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite bereits akzeptiert');
      } else if (response.statusCode == 403) {
        AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
```

**errorText090** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\world_service.dart:420:99`
- ğŸ“ Original: `'...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.w('âš ï¸ Invite bereits akzeptiert', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite bereits akzeptiert');
      } else if (response.statusCode == 403) {
        AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
      } else if (response.statusCode == 410) {
        AppLogger.app.w('âš ï¸ Invite-Token abgelaufen', error: {'token': token.substring(0, 8) + '...'});
```

**errorText090** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\world_service.dart:423:96`
- ğŸ“ Original: `'...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.w('âš ï¸ E-Mail-Mismatch bei Invite', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt');
      } else if (response.statusCode == 410) {
        AppLogger.app.w('âš ï¸ Invite-Token abgelaufen', error: {'token': token.substring(0, 8) + '...'});
        throw Exception('Invite-Token ist abgelaufen');
      }
```

**errorText090** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\world_service.dart:429:106`
- ğŸ“ Original: `'...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
    } catch (e) {
      AppLogger.logError('Fehler bei Invite-Akzeptierung', e, context: {'token': token.substring(0, 8) + '...'});
      rethrow;
    }
  }
```

**errorText090** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\login_page.dart:129:126`
- ğŸ“ Original: `'...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            context.goNamed('world-join-by-token', pathParameters: {'token': _inviteToken!});
          } else {
            // Standard-Redirect zu Welten-Liste
```

**errorText090** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\register_page.dart:146:144`
- ğŸ“ Original: `'...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          } else if (_inviteToken != null) {
            // Fallback: Wenn Invite-Token in Query-Parametern, direkt zur Invite-Seite
            AppLogger.app.i('ğŸ« Invite-Token in Query nach Registration - direkte Navigation', error: {'token': _inviteToken!.substring(0, 8) + '...'});
            
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
```

**errorDerResetlinkIst** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\reset_password_page.dart:99:29`
- ğŸ“ Original: `'Der Reset-Link ist ungÃ¼ltig oder abgelaufen. Bitte fordere einen neuen Link an.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {
          final error = e.toString().replaceAll('Exception: ', '');
          if (error.contains('expired') || error.contains('invalid')) {
            _errorMessage = 'Der Reset-Link ist ungÃ¼ltig oder abgelaufen. Bitte fordere einen neuen Link an.';
          } else {
            _errorMessage = error;
          }
```

**errorDuKannstNun** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:421:24`
- ğŸ“ Original: `'Du kannst nun der Welt beitreten.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logError('Automatische Invite-Akzeptierung fehlgeschlagen', e);
      // Fehler nicht als kritisch behandeln - User kann manuell beitreten
      setState(() {
        _infoMessage = 'Du kannst nun der Welt beitreten.';
      });
    }
  }
```

**errorBeitrittFehlgeschlagenVersuche** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:475:24`
- ğŸ“ Original: `'Beitritt fehlgeschlagen. Versuche es erneut.'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
}
      } else {
        setState(() {
          _joinError = 'Beitritt fehlgeschlagen. Versuche es erneut.';
        });
      }
    } catch (e) {
```

**errorDieseEinladungWurde** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:489:24`
- ğŸ“ Original: `'Diese Einladung wurde bereits akzeptiert.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {
        // Bessere Fehlermeldungen fÃ¼r verschiedene Szenarien
        if (e.toString().contains('bereits akzeptiert')) {
          _joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
```

**errorDieseEinladungIst** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:492:24`
- ğŸ“ Original: `'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_joinError = 'Diese Einladung wurde bereits akzeptiert.';
          _isJoined = true; // User ist bereits Mitglied
        } else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
```

**errorDieseEinladungIst** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:494:24`
- ğŸ“ Original: `'Diese Einladung ist abgelaufen.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} else if (e.toString().contains('nicht fÃ¼r deine E-Mail-Adresse')) {
          _joinError = 'Diese Einladung ist nicht fÃ¼r deine E-Mail-Adresse bestimmt.';
        } else if (e.toString().contains('abgelaufen')) {
          _joinError = 'Diese Einladung ist abgelaufen.';
        } else {
          _joinError = 'Ein Fehler ist aufgetreten: ${e.toString().replaceAll('Exception: ', '')}';
        }
```

### ğŸ·ï¸ INVITE

**inviteRegistrierungErfolgreichDu** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\register_page.dart:128:31`
- ğŸ“ Original: `'Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**inviteRegistrierungErfolgreichDu** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\register_page.dart:150:31`
- ğŸ“ Original: `'Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Du wirst zur Einladung weitergeleitet...'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**inviteNnDieseEinladung** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:273:24`
- ğŸ“ Original: `'\n\nâœ… Diese Einladung wurde bereits akzeptiert.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
final dateStr = '${expiresAtLocal.day.toString().padLeft(2, '0')}.${expiresAtLocal.month.toString().padLeft(2, '0')}.${expiresAtLocal.year} ${expiresAtLocal.hour.toString().padLeft(2, '0')}:${expiresAtLocal.minute.toString().padLeft(2, '0')}';
      
      if (isAccepted) {
        validityText = '\n\nâœ… Diese Einladung wurde bereits akzeptiert.';
      } else if (isExpired) {
        validityText = '\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.';
      } else {
```

**inviteNnDieseEinladung** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:275:24`
- ğŸ“ Original: `'\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
if (isAccepted) {
        validityText = '\n\nâœ… Diese Einladung wurde bereits akzeptiert.';
      } else if (isExpired) {
        validityText = '\n\nâŒ Diese Einladung ist am $dateStr abgelaufen.';
      } else {
        validityText = '\n\nâ° GÃ¼ltig bis: $dateStr';
      }
```

**inviteNnDieseEinladung** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:332:19`
- ğŸ“ Original: `'\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Bei ungÃ¼ltigen Invites zusÃ¤tzliche Info
    if (!isInviteValid) {
      infoText += '\n\nâš ï¸ Diese Einladung kann nicht mehr verwendet werden.';
    }
    
    setState(() {
```

**inviteEinladungErfolgreichVersendet** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_list_page.dart:496:29`
- ğŸ“ Original: `'Einladung erfolgreich versendet!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (success && mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            const SnackBar(
              content: Text('Einladung erfolgreich versendet!'),
              backgroundColor: Colors.green,
            ),
          );
```

### ğŸ·ï¸ WORLD

**worldRegistrierungErfolgreichWillkommen** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\register_page.dart:166:31`
- ğŸ“ Original: `'Registrierung erfolgreich! Willkommen bei Weltenwind!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
// Standard-Redirect zu Welten-Liste
            ScaffoldMessenger.of(context).showSnackBar(
              const SnackBar(
                content: Text('Registrierung erfolgreich! Willkommen bei Weltenwind!'),
                backgroundColor: Colors.green,
                duration: Duration(seconds: 2),
              ),
```

**worldWeltenWerdenGeladen** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:18:13`
- ğŸ“ Original: `'Welten werden geladen...'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
          SizedBox(height: 16),
          Text(
            'Welten werden geladen...',
            style: TextStyle(
              color: Colors.grey,
              fontSize: 16,
```

**worldVersucheDieFilter** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:66:19`
- ğŸ“ Original: `'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
          Text(
            hasActiveFilters
                ? 'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'
                : 'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.',
            style: TextStyle(
              fontSize: 14,
```

**worldSchaueSpÃ¤terNoch** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_list_states.dart:67:19`
- ğŸ“ Original: `'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
            hasActiveFilters
                ? 'Versuche die Filter anzupassen oder zurÃ¼ckzusetzen.'
                : 'Schaue spÃ¤ter noch einmal vorbei oder erstelle eine neue Welt.',
            style: TextStyle(
              fontSize: 14,
              color: Colors.grey[500],
```

**worldWillkommenInDer** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:384:26`
- ğŸ“ Original: `'Willkommen in der Welt "${_world?.name}"! Das Invite wurde automatisch akzeptiert.'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (result != null) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Willkommen in der Welt "${_world?.name}"! Das Invite wurde automatisch akzeptiert.';
        });
        
        if (mounted) {
```

**worldErfolgreichDerWelt** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:390:29`
- ğŸ“ Original: `'Erfolgreich der Welt "${_world!.name}" beigetreten!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich der Welt "${_world!.name}" beigetreten!'),
              backgroundColor: Colors.green,
              duration: const Duration(seconds: 3),
            ),
```

**worldDuBistBereits** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:402:26`
- ğŸ“ Original: `'Du bist bereits Mitglied dieser Welt "${_world?.name}"!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (e.toString().contains('Invite bereits akzeptiert')) {
        setState(() {
          _isJoined = true;
          _infoMessage = 'Du bist bereits Mitglied dieser Welt "${_world?.name}"!';
        });
        
        if (mounted) {
```

**worldDuBistBereits** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:408:29`
- ğŸ“ Original: `'Du bist bereits Mitglied der Welt "${_world?.name}"!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Du bist bereits Mitglied der Welt "${_world?.name}"!'),
              backgroundColor: Colors.orange,
              duration: const Duration(seconds: 3),
            ),
```

**worldEinladungAkzeptiertWillkommen** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:462:15`
- ğŸ“ Original: `'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
```

**worldErfolgreichDerWelt** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:463:15`
- ğŸ“ Original: `'Erfolgreich der Welt "${_world!.name}" beigetreten!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (mounted) {
          final message = widget.inviteToken != null 
            ? 'Einladung akzeptiert! Willkommen in der Welt "${_world!.name}"!'
            : 'Erfolgreich der Welt "${_world!.name}" beigetreten!';
            
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
```

**worldErfolgreichFÃ¼rWorldname** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:526:29`
- ğŸ“ Original: `'Erfolgreich fÃ¼r ${world.name} vorregistriert!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
              backgroundColor: Colors.green,
            ),
          );
```

**worldVorregistrierungFÃ¼rWorldname** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:568:29`
- ğŸ“ Original: `'Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
          ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
              backgroundColor: Colors.orange,
            ),
          );
```

**worldDuHastWorldname** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:633:27`
- ğŸ“ Original: `'Du hast ${world.name} verlassen.'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

**worldDieAngeforderteWelt** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:1092:25`
- ğŸ“ Original: `'Die angeforderte Welt existiert nicht oder ist nicht verfÃ¼gbar.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(height: 16),
                      Text(
                        'Die angeforderte Welt existiert nicht oder ist nicht verfÃ¼gbar.',
                        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                          color: Colors.grey[300],
                        ),
```

**worldErkundeUnbekannteGebiete** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:1351:13`
- ğŸ“ Original: `'Erkunde unbekannte Gebiete, schlieÃŸe Allianzen und werde zur Legende!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 16),
          Text(
            'Dies ist eine spannende Welt voller Abenteuer und Herausforderungen. '
            'Erkunde unbekannte Gebiete, schlieÃŸe Allianzen und werde zur Legende!',
            style: TextStyle(color: Colors.grey[300], height: 1.5),
          ),
          const SizedBox(height: 24),
```

**worldErfolgreichZuWorldname** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_list_page.dart:310:27`
- ğŸ“ Original: `'Erfolgreich zu ${world.name} beigetreten!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Erfolgreich zu ${world.name} beigetreten!'),
            backgroundColor: Colors.green,
          ),
        );
```

**worldErfolgreichFÃ¼rWorldname** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_list_page.dart:350:27`
- ğŸ“ Original: `'Erfolgreich fÃ¼r ${world.name} vorregistriert!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Erfolgreich fÃ¼r ${world.name} vorregistriert!'),
            backgroundColor: Colors.green,
          ),
        );
```

**worldDuHastWorldname** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_list_page.dart:417:27`
- ğŸ“ Original: `'Du hast ${world.name} verlassen.'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Du hast ${world.name} verlassen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

**worldVorregistrierungFÃ¼rWorldname** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_list_page.dart:456:27`
- ğŸ“ Original: `'Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Vorregistrierung fÃ¼r ${world.name} zurÃ¼ckgezogen.'),
            backgroundColor: Colors.orange,
          ),
        );
```

### ğŸ·ï¸ AUTH

**authCoreservicesapi_servicedart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:9:8`
- ğŸ“ Original: `'core/services/api_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'shared/widgets/splash_screen.dart';
import 'main.dart';
import 'core/services/auth_service.dart';
import 'core/services/api_service.dart';
import 'core/services/world_service.dart';
import 'core/services/invite_service.dart';
import 'core/providers/locale_provider.dart';
```

**authCoreservicesworld_servicedart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:10:8`
- ğŸ“ Original: `'core/services/world_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'main.dart';
import 'core/services/auth_service.dart';
import 'core/services/api_service.dart';
import 'core/services/world_service.dart';
import 'core/services/invite_service.dart';
import 'core/providers/locale_provider.dart';
import 'l10n/app_localizations.dart';
```

**authCoreservicesinvite_servicedart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:11:8`
- ğŸ“ Original: `'core/services/invite_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'core/services/auth_service.dart';
import 'core/services/api_service.dart';
import 'core/services/world_service.dart';
import 'core/services/invite_service.dart';
import 'core/providers/locale_provider.dart';
import 'l10n/app_localizations.dart';
```

**authLadeKonfiguration** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:50:9`
- ğŸ“ Original: `'Lade Konfiguration...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
onTimeout: _onTimeout,
      initSteps: const [
        'Initialisiere App...',
        'Lade Konfiguration...',
        'Starte Services...',
        'PrÃ¼fe Authentifizierung...',
        'Bereit!',
```

**authStarteServices** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:51:9`
- ğŸ“ Original: `'Starte Services...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
initSteps: const [
        'Initialisiere App...',
        'Lade Konfiguration...',
        'Starte Services...',
        'PrÃ¼fe Authentifizierung...',
        'Bereit!',
      ],
```

**authPrÃ¼feAuthentifizierung** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:52:9`
- ğŸ“ Original: `'PrÃ¼fe Authentifizierung...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'Initialisiere App...',
        'Lade Konfiguration...',
        'Starte Services...',
        'PrÃ¼fe Authentifizierung...',
        'Bereit!',
      ],
      appName: Env.appName,
```

**auth3TokenvalidierungBeim** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:103:47`
- ğŸ“ Original: `');
      
      // 3. Token-Validierung beim App-Start (VOR loadStoredUser)
      bool isValid = false;
      try {
        isValid = await authService.validateTokensOnStart();
        AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
ServiceLocator.register<WorldService>(worldService);
      ServiceLocator.register<InviteService>(inviteService);
      
      AppLogger.app.i('âš™ï¸ Services registriert');
      
      // 3. Token-Validierung beim App-Start (VOR loadStoredUser)
      bool isValid = false;
```

**authIfIsvalidApploggerappw** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:109:50`
- ğŸ“ Original: `');
        
        if (!isValid) {
          AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
bool isValid = false;
      try {
        isValid = await authService.validateTokensOnStart();
        AppLogger.app.i('ğŸ”‘ Tokens valid: $isValid');
        
        if (!isValid) {
          AppLogger.app.w('âš ï¸ Tokens ungÃ¼ltig - logout');
```

**authAwaitAuthservicelogoutCatch** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:112:55`
- ğŸ“ Original: `');
          await authService.logout();
        }
      } catch (e) {
        AppLogger.app.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('ğŸ”‘ Tokens valid: $isValid');
        
        if (!isValid) {
          AppLogger.app.w('âš ï¸ Tokens ungÃ¼ltig - logout');
          await authService.logout();
        }
      } catch (e) {
```

**authElseApploggerappi** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:127:64`
- ğŸ“ Original: `');
          } else {
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final user = await authService.loadStoredUser();
          if (user != null) {
            authService.isAuthenticated.value = true;
            AppLogger.app.i('ğŸ‘¤ User geladen und authentifiziert');
          } else {
            AppLogger.app.i('ğŸ‘¤ Kein gespeicherter User gefunden');
          }
```

**authApiEndpointsStatic** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\env.dart:3:42`
- ğŸ“ Original: `';
  
  // API Endpoints
  static const String authEndpoint = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
class Env {
  static const String apiUrl = 'http://192.168.2.168:3000';
  static const String apiBasePath = '/api';
  
  // API Endpoints
  static const String authEndpoint = '$apiBasePath/auth';
```

**authStaticConstString** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\env.dart:6:56`
- ğŸ“ Original: `';
  static const String worldsEndpoint = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String apiBasePath = '/api';
  
  // API Endpoints
  static const String authEndpoint = '$apiBasePath/auth';
  static const String worldsEndpoint = '$apiBasePath/worlds';
  
  // App Configuration
```

**authAppConfigurationStatic** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\env.dart:7:60`
- ğŸ“ Original: `';
  
  // App Configuration
  static const String appName = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// API Endpoints
  static const String authEndpoint = '$apiBasePath/auth';
  static const String worldsEndpoint = '$apiBasePath/worlds';
  
  // App Configuration
  static const String appName = 'Weltenwind';
```

**authStorageKeysStatic** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\env.dart:11:42`
- ğŸ“ Original: `';
  
  // Storage Keys
  static const String tokenKey = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// App Configuration
  static const String appName = 'Weltenwind';
  static const String appVersion = '1.0.0';
  
  // Storage Keys
  static const String tokenKey = 'auth_token';
```

**authStaticConstString** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\env.dart:14:45`
- ğŸ“ Original: `';
  static const String refreshTokenKey = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String appVersion = '1.0.0';
  
  // Storage Keys
  static const String tokenKey = 'auth_token';
  static const String refreshTokenKey = 'refresh_token';
  static const String userIdKey = 'user_id';
  static const String currentWorldKey = 'current_world';
```

**authStaticConstString** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\env.dart:15:55`
- ğŸ“ Original: `';
  static const String userIdKey = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Storage Keys
  static const String tokenKey = 'auth_token';
  static const String refreshTokenKey = 'refresh_token';
  static const String userIdKey = 'user_id';
  static const String currentWorldKey = 'current_world';
```

**authStaticConstString** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\env.dart:16:43`
- ğŸ“ Original: `';
  static const String currentWorldKey = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Storage Keys
  static const String tokenKey = 'auth_token';
  static const String refreshTokenKey = 'refresh_token';
  static const String userIdKey = 'user_id';
  static const String currentWorldKey = 'current_world';
  
  static Future<void> initialize() async {
```

**authLevelKdebugmodeLeveldebug** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:29:46`
- ğŸ“ Original: `'),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );

    _navigationLogger = Logger(
      printer: _getLogPrinter(prefix: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

    _authLogger = Logger(
      printer: _getLogPrinter(prefix: '[AUTH]'),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );
```

**authTostringUsernameJson** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\models\user.dart:122:19`
- ğŸ“ Original: `'].toString(),
      username: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
factory User.fromJson(Map<String, dynamic> json) {
    return User(
      id: json['id'].toString(),
      username: json['username'],
      email: json['email'],
      createdAt: _parseDateTime(json['createdAt']),
```

**authCreatedat_parsedatetimejson** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\models\user.dart:124:25`
- ğŸ“ Original: `'],
      createdAt: _parseDateTime(json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return User(
      id: json['id'].toString(),
      username: json['username'],
      email: json['email'],
      createdAt: _parseDateTime(json['createdAt']),
      lastLoginAt: json['lastLoginAt'] != null 
          ? _parseDateTime(json['lastLoginAt'])
```

**authNull_parsedatetimejson** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\models\user.dart:126:37`
- ğŸ“ Original: `'] != null 
          ? _parseDateTime(json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
username: json['username'],
      email: json['email'],
      createdAt: _parseDateTime(json['createdAt']),
      lastLoginAt: json['lastLoginAt'] != null 
          ? _parseDateTime(json['lastLoginAt']) 
          : null,
      isLocked: json['isLocked'],
```

**authRolesJson** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\models\user.dart:129:31`
- ğŸ“ Original: `'],
      roles: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
lastLoginAt: json['lastLoginAt'] != null 
          ? _parseDateTime(json['lastLoginAt']) 
          : null,
      isLocked: json['isLocked'],
      roles: json['roles'] != null
          ? (json['roles'] as List)
              .map((r) => UserRole.fromJson(r))
```

**authBearer_token** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:72:34`
- ğŸ“ Original: `'Bearer $_token'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
};
    
    if (_token != null) {
      headers['Authorization'] = 'Bearer $_token';
    }
    
    return headers;
```

**authFinalRefreshedAwait** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:94:83`
- ğŸ“ Original: `');
            
            final refreshed = await _authService.refreshTokenIfNeeded();
            if (refreshed) {
              final newToken = await _authService.getCurrentAccessToken();
              if (newToken != null) {
                setToken(newToken);
                AppLogger.api.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Token erneuern wenn weniger als 60 Sekunden gÃ¼ltig
          if (exp - now < 60) {
            // Log Token-Refresh
            AppLogger.api.i('ğŸ”„ Token lÃ¤uft ab in ${exp - now}s - erneuere proaktiv');
            
            final refreshed = await _authService.refreshTokenIfNeeded();
            if (refreshed) {
```

**authCatchEToken** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:101:62`
- ğŸ“ Original: `');
              }
            }
          }
        }
      } catch (e) {
        // Token validation error
        AppLogger.api.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final newToken = await _authService.getCurrentAccessToken();
              if (newToken != null) {
                setToken(newToken);
                AppLogger.api.i('âœ… Token erfolgreich erneuert');
              }
            }
          }
```

**authFinalRefreshedAwait** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:123:84`
- ğŸ“ Original: `');
          
          final refreshed = await _authService.refreshTokenIfNeeded();
          if (refreshed) {
            final newToken = await _authService.getCurrentAccessToken();
            if (newToken != null) {
              setToken(newToken);
              
                          // Request mit neuem Token wiederholen
            return await _retryRequest(endpoint, response.request!.method);
            }
          }
        } catch (e) {
          AppLogger.api.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final expiresIn = int.tryParse(response.headers['x-token-expires-in'] ?? '0');
      if (expiresIn != null && expiresIn < 60) {
        try {
          AppLogger.api.i('ğŸ”„ Proaktive Token-Erneuerung - lÃ¤uft ab in ${expiresIn}s');
          
          final refreshed = await _authService.refreshTokenIfNeeded();
          if (refreshed) {
```

**authTryApploggerapii** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:142:67`
- ğŸ“ Original: `')) {
      try {
        AppLogger.api.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    
    // Reaktive Token-Erneuerung bei 401
    if (response.statusCode == 401 && !endpoint.startsWith('/auth/')) {
      try {
        AppLogger.api.i('ğŸ”„ Reactive Token-Refresh wegen 401');
```

**authFinalRefreshedAwait** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:144:60`
- ğŸ“ Original: `');
        
        final refreshed = await _authService.refreshTokenIfNeeded();
        if (refreshed) {
          final newToken = await _authService.getCurrentAccessToken();
          if (newToken != null) {
            setToken(newToken);
            
            // Request mit neuem Token wiederholen
            return await _retryRequest(endpoint, response.request!.method);
          }
        }
      } catch (e) {
        AppLogger.api.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Reaktive Token-Erneuerung bei 401
    if (response.statusCode == 401 && !endpoint.startsWith('/auth/')) {
      try {
        AppLogger.api.i('ğŸ”„ Reactive Token-Refresh wegen 401');
        
        final refreshed = await _authService.refreshTokenIfNeeded();
        if (refreshed) {
```

**authAwait_ensurevalidtokenFinal** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:211:37`
- ğŸ“ Original: `')) {
      await _ensureValidToken();
    }
    
    final request = http.Request('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_requestBodies[endpoint] = data;
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
      await _ensureValidToken();
    }
```

**authEntrykey** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:229:33`
- ğŸ“ Original: `' || entry.key == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Map<String, dynamic> _sanitizeAuthData(Map<String, dynamic> data) {
    final sanitized = <String, dynamic>{};
    for (final entry in data.entries) {
      if (entry.key == 'password' || entry.key == 'token') {
        sanitized[entry.key] = '***';
      } else {
        sanitized[entry.key] = entry.value;
```

**authSanitizedentrykey** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:229:57`
- ğŸ“ Original: `') {
        sanitized[entry.key] = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Map<String, dynamic> _sanitizeAuthData(Map<String, dynamic> data) {
    final sanitized = <String, dynamic>{};
    for (final entry in data.entries) {
      if (entry.key == 'password' || entry.key == 'token') {
        sanitized[entry.key] = '***';
      } else {
        sanitized[entry.key] = entry.value;
```

**authElseSanitizedentrykeyEntryvalue** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:230:36`
- ğŸ“ Original: `';
      } else {
        sanitized[entry.key] = entry.value;
      }
    }
    return sanitized;
  }

  // Helper fÃ¼r das Sanitieren von sensiblen Daten aus der Response-Body
  String _sanitizeAuthResponse(String body) {
    try {
      final decodedBody = jsonDecode(body);
      if (decodedBody is Map<String, dynamic>) {
        final sanitized = <String, dynamic>{};
        for (final entry in decodedBody.entries) {
          if (entry.key.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final sanitized = <String, dynamic>{};
    for (final entry in data.entries) {
      if (entry.key == 'password' || entry.key == 'token') {
        sanitized[entry.key] = '***';
      } else {
        sanitized[entry.key] = entry.value;
      }
```

**authEndpointHeaders_headers** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:265:33`
- ğŸ“ Original: `', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('GET', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authAwait_ensurevalidtokenTry** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:268:37`
- ğŸ“ Original: `')) {
      await _ensureValidToken();
    }
    
    try {
      final response = await http.get(
        Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logApiRequest('GET', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
      await _ensureValidToken();
    }
```

**auth_sanitizeauthdatadataDataApploggerlogapirequest** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:302:48`
- ğŸ“ Original: `') ? _sanitizeAuthData(data) : data;
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_requestBodies[endpoint] = data;
    
    // Log API Request (ohne sensitive Daten fÃ¼r Auth-Endpoints)
    final logBody = endpoint.startsWith('/auth/') ? _sanitizeAuthData(data) : data;
    AppLogger.logApiRequest('POST', endpoint, headers: _headers, body: logBody);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
```

**authEndpointHeaders_headers** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:303:34`
- ğŸ“ Original: `', endpoint, headers: _headers, body: logBody);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Log API Request (ohne sensitive Daten fÃ¼r Auth-Endpoints)
    final logBody = endpoint.startsWith('/auth/') ? _sanitizeAuthData(data) : data;
    AppLogger.logApiRequest('POST', endpoint, headers: _headers, body: logBody);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authAwait_ensurevalidtokenTry** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:306:37`
- ğŸ“ Original: `')) {
      await _ensureValidToken();
    }
    
    try {
      final response = await http.post(
        Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logApiRequest('POST', endpoint, headers: _headers, body: logBody);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
      await _ensureValidToken();
    }
```

**auth_sanitizeauthresponseresponsebodyResponsebodyApploggerlogapiresponse** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:318:58`
- ğŸ“ Original: `') ? _sanitizeAuthResponse(response.body) : response.body;
      AppLogger.logApiResponse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);
      
      // Log API Response (ohne sensitive Response-Daten)
      final logResponseBody = endpoint.startsWith('/auth/') ? _sanitizeAuthResponse(response.body) : response.body;
      AppLogger.logApiResponse('POST', endpoint, response.statusCode, body: logResponseBody);
      
      return await _handleResponse(response, endpoint);
```

**authEndpointHeaders_headers** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:336:33`
- ğŸ“ Original: `', endpoint, headers: _headers, body: data);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_requestBodies[endpoint] = data;
    
    // Log API Request
    AppLogger.logApiRequest('PUT', endpoint, headers: _headers, body: data);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authAwait_ensurevalidtokenTry** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:339:37`
- ğŸ“ Original: `')) {
      await _ensureValidToken();
    }
    
    try {
      final response = await http.put(
        Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logApiRequest('PUT', endpoint, headers: _headers, body: data);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
      await _ensureValidToken();
    }
```

**authEndpointHeaders_headers** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:365:36`
- ğŸ“ Original: `', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('DELETE', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
```

**authAwait_ensurevalidtokenTry** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:368:37`
- ğŸ“ Original: `')) {
      await _ensureValidToken();
    }
    
    try {
      final response = await http.delete(
        Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.logApiRequest('DELETE', endpoint, headers: _headers);
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('/auth/')) {
      await _ensureValidToken();
    }
```

**authDartconvert** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\auth_service.dart:1:8`
- ğŸ“ Original: `'dart:convert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'package:flutter/foundation.dart';
import '../models/user.dart';
import '../../config/logger.dart';
```

**authPackageflutterfoundationdart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\auth_service.dart:2:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'package:flutter/foundation.dart';
import '../models/user.dart';
import '../../config/logger.dart';
import 'api_service.dart';
```

**authAsIntReturn** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\auth_service.dart:165:31`
- ğŸ“ Original: `'] as int;
      
      return DateTime.fromMillisecondsSinceEpoch(exp * 1000);
    } catch (e) {
      return null;
    }
  }

  Future<User?> login(String username, String password) async {
    AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (parts.length != 3) return null;
      
      final payload = jsonDecode(utf8.decode(base64Url.decode(base64Url.normalize(parts[1]))));
      final exp = payload['exp'] as int;
      
      return DateTime.fromMillisecondsSinceEpoch(exp * 1000);
    } catch (e) {
```

**authUserdata** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\auth_service.dart:260:25`
- ğŸ“ Original: `': userData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'userId': userData['id'],
            'username': userData['username'],
            'rolesCount': userData['_debug']['rolesCount'],
            'roleDetails': userData['_debug']['roleDetails'],
          });
        }
```

**authUserdatenSpeichernAwait** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\auth_service.dart:260:59`
- ğŸ“ Original: `'],
          });
        }
        
        // User-Daten speichern
        await TokenStorage.saveUserData(jsonEncode(userData));
        
        _currentUser = User.fromJson(userData);
        isAuthenticated.value = true; // Reaktiven Status setzen
        
        // Fetch complete user data with roles
        await fetchCurrentUser();
        
        AppLogger.logAuthEvent('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'userId': userData['id'],
            'username': userData['username'],
            'rolesCount': userData['_debug']['rolesCount'],
            'roleDetails': userData['_debug']['roleDetails'],
          });
        }
```

**authReturnNullConst** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\login_page.dart:288:97`
- ğŸ“ Original: `';
                                      }
                                      return null;
                                    },
                                  ),
                                  const SizedBox(height: 16),
                                  
                                  // Password field with better validation
                                  TextFormField(
                                    controller: _passwordController,
                                    obscureText: _obscurePassword,
                                    style: const TextStyle(color: Colors.white),
                                    autofillHints: const [AutofillHints.password],
                                    textInputAction: TextInputAction.done,
                                    onFieldSubmitted: (_) => _isLoading ? null : _login(),
                                    onChanged: (_) {
                                      if (!_hasInteractedWithPassword) {
                                        setState(() {
                                          _hasInteractedWithPassword = true;
                                        });
                                      }
                                    },
                                    decoration: InputDecoration(
                                      labelText: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Bitte gib deinen Benutzernamen ein';
                                      }
                                      if (value.trim().length < 3) {
                                        return 'Benutzername muss mindestens 3 Zeichen lang sein';
                                      }
                                      return null;
                                    },
```

**authBenutzernameDarfNur** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\register_page.dart:310:42`
- ğŸ“ Original: `'Benutzername darf nur Buchstaben, Zahlen und Unterstriche enthalten'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Benutzername muss mindestens 3 Zeichen lang sein';
                                }
                                if (!RegExp(r'^[a-zA-Z0-9_]+$').hasMatch(value)) {
                                  return 'Benutzername darf nur Buchstaben, Zahlen und Unterstriche enthalten';
                                }
                                return null;
                              },
```

**authReturnNullTextinputaction** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\register_page.dart:411:87`
- ğŸ“ Original: `';
                                }
                                return null;
                              },
                              textInputAction: TextInputAction.done,
                            ),
                            const SizedBox(height: 24),

                            // Error message
                            if (_registerError != null)
                              Container(
                                width: double.infinity,
                                padding: const EdgeInsets.all(12),
                                decoration: BoxDecoration(
                                  color: Colors.red[900]!.withOpacity(0.3),
                                  borderRadius: BorderRadius.circular(8),
                                  border: Border.all(color: Colors.red[400]!.withOpacity(0.5)),
                                ),
                                child: Text(
                                  _registerError!,
                                  style: TextStyle(color: Colors.red[200]),
                                  textAlign: TextAlign.center,
                                ),
                              ),
                            if (_registerError != null) const SizedBox(height: 16),

                            // Register button
                            SizedBox(
                              width: double.infinity,
                              height: 56,
                              child: ElevatedButton(
                                onPressed: _isLoading ? null : _register,
                                style: ElevatedButton.styleFrom(
                                  backgroundColor: AppTheme.primaryColor,
                                  foregroundColor: Colors.white,
                                  shape: RoundedRectangleBorder(
                                    borderRadius: BorderRadius.circular(12),
                                  ),
                                  elevation: 8,
                                  shadowColor: AppTheme.primaryColor.withOpacity(0.5),
                                ),
                                child: _isLoading
                                    ? const SizedBox(
                                        height: 20,
                                        width: 20,
                                        child: CircularProgressIndicator(
                                          strokeWidth: 2,
                                          valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
                                        ),
                                      )
                                    : const Text(
                                        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'Passwort ist erforderlich';
                                }
                                if (value.length < 6) {
                                  return 'Passwort muss mindestens 6 Zeichen lang sein';
                                }
                                return null;
                              },
```

**authPasswortMussMindestens** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\reset_password_page.dart:291:46`
- ğŸ“ Original: `'Passwort muss mindestens 6 Zeichen lang sein'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return 'Bitte gib ein neues Passwort ein';
                                    }
                                    if (value.length < 6) {
                                      return 'Passwort muss mindestens 6 Zeichen lang sein';
                                    }
                                    if (value.contains(' ')) {
                                      return 'Passwort darf keine Leerzeichen enthalten';
```

**authPasswortDarfKeine** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\reset_password_page.dart:294:46`
- ğŸ“ Original: `'Passwort darf keine Leerzeichen enthalten'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
return 'Passwort muss mindestens 6 Zeichen lang sein';
                                    }
                                    if (value.contains(' ')) {
                                      return 'Passwort darf keine Leerzeichen enthalten';
                                    }
                                    return null;
                                  },
```

**authFeaturesauthforgot_password_pagedart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:6:8`
- ğŸ“ Original: `'../features/auth/forgot_password_page.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../config/logger.dart';
import '../features/auth/login_page.dart';
import '../features/auth/register_page.dart';
import '../features/auth/forgot_password_page.dart';
import '../features/auth/reset_password_page.dart';
import '../features/world/world_list_page.dart';
import '../features/world/world_join_page.dart';
```

**authFeaturesauthreset_password_pagedart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:7:8`
- ğŸ“ Original: `'../features/auth/reset_password_page.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../features/auth/login_page.dart';
import '../features/auth/register_page.dart';
import '../features/auth/forgot_password_page.dart';
import '../features/auth/reset_password_page.dart';
import '../features/world/world_list_page.dart';
import '../features/world/world_join_page.dart';
import '../features/dashboard/dashboard_page.dart';
```

**authFeaturesworldworld_list_pagedart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:8:8`
- ğŸ“ Original: `'../features/world/world_list_page.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../features/auth/register_page.dart';
import '../features/auth/forgot_password_page.dart';
import '../features/auth/reset_password_page.dart';
import '../features/world/world_list_page.dart';
import '../features/world/world_join_page.dart';
import '../features/dashboard/dashboard_page.dart';
import '../features/landing/landing_page.dart';
```

**authFeaturesworldworld_join_pagedart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:9:8`
- ğŸ“ Original: `'../features/world/world_join_page.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../features/auth/forgot_password_page.dart';
import '../features/auth/reset_password_page.dart';
import '../features/world/world_list_page.dart';
import '../features/world/world_join_page.dart';
import '../features/dashboard/dashboard_page.dart';
import '../features/landing/landing_page.dart';
import '../core/services/auth_service.dart';
```

**authFeaturesdashboarddashboard_pagedart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:10:8`
- ğŸ“ Original: `'../features/dashboard/dashboard_page.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../features/auth/reset_password_page.dart';
import '../features/world/world_list_page.dart';
import '../features/world/world_join_page.dart';
import '../features/dashboard/dashboard_page.dart';
import '../features/landing/landing_page.dart';
import '../core/services/auth_service.dart';
import '../theme/app_theme.dart';
```

**authFeatureslandinglanding_pagedart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:11:8`
- ğŸ“ Original: `'../features/landing/landing_page.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../features/world/world_list_page.dart';
import '../features/world/world_join_page.dart';
import '../features/dashboard/dashboard_page.dart';
import '../features/landing/landing_page.dart';
import '../core/services/auth_service.dart';
import '../theme/app_theme.dart';
import '../main.dart';
```

**authCoreservicesauth_servicedart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:12:8`
- ğŸ“ Original: `'../core/services/auth_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../features/world/world_join_page.dart';
import '../features/dashboard/dashboard_page.dart';
import '../features/landing/landing_page.dart';
import '../core/services/auth_service.dart';
import '../theme/app_theme.dart';
import '../main.dart';
```

**authFinalIsloggedinAwait** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:102:24`
- ğŸ“ Original: `';
          }
          
          final isLoggedIn = await authService.isLoggedIn();

          final isAuthRoute = state.matchedLocation.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final authService = _getAuthService();
          if (authService == null) {
            // Services noch nicht verfÃ¼gbar, zur Landing Page
            return '/go';
          }
          
          final isLoggedIn = await authService.isLoggedIn();
```

### ğŸ·ï¸ BUTTON

**buttonStyleTextstyleColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:657:41`
- ğŸ“ Original: `',
                              style: TextStyle(
                                color: Colors.grey[400],
                                fontSize: 14,
                              ),
                            ),
                          ),
                          Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
TextButton(
                            onPressed: () {},
                            child: Text(
                              'Impressum',
                              style: TextStyle(
                                color: Colors.grey[400],
                                fontSize: 14,
```

**buttonIconConstIconiconshome** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:446:66`
- ğŸ“ Original: `'),
                        icon: const Icon(Icons.home),
                        label: const Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                    children: [
                      ElevatedButton.icon(
                        onPressed: () => context.goNamed('landing'),
                        icon: const Icon(Icons.home),
                        label: const Text('Startseite'),
                        style: ElevatedButton.styleFrom(
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:448:54`
- ğŸ“ Original: `'),
                        style: ElevatedButton.styleFrom(
                          backgroundColor: AppTheme.primaryColor,
                          foregroundColor: Colors.white,
                        ),
                      ),
                      ElevatedButton.icon(
                        onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
                        onPressed: () => context.goNamed('landing'),
                        icon: const Icon(Icons.home),
                        label: const Text('Startseite'),
                        style: ElevatedButton.styleFrom(
                          backgroundColor: AppTheme.primaryColor,
                          foregroundColor: Colors.white,
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:457:50`
- ğŸ“ Original: `'),
                        style: ElevatedButton.styleFrom(
                          backgroundColor: AppTheme.surfaceColor,
                          foregroundColor: AppTheme.textPrimary,
                        ),
                      ),
                    ],
                  ),
                ],
              ),
            ),
          ),
        ),
      ),
    );
  }
}

class AuthErrorPage extends StatelessWidget {
  const AuthErrorPage({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Container(
        decoration: BoxDecoration(
          gradient: LinearGradient(
            begin: Alignment.topCenter,
            end: Alignment.bottomCenter,
            colors: [
              AppTheme.errorColor.withOpacity(0.1),
              AppTheme.surfaceColor,
            ],
          ),
        ),
        child: Center(
          child: Card(
            elevation: 8,
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(16),
            ),
            child: Padding(
              padding: const EdgeInsets.all(32.0),
              child: Column(
                mainAxisSize: MainAxisSize.min,
                children: [
                  const Icon(
                    Icons.lock_outline,
                    size: 64,
                    color: AppTheme.errorColor,
                  ),
                  const SizedBox(height: 24),
                  Text(
                    '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
                        onPressed: () => context.goNamed('world-list'),
                        icon: const Icon(Icons.public),
                        label: const Text('Welten'),
                        style: ElevatedButton.styleFrom(
                          backgroundColor: AppTheme.surfaceColor,
                          foregroundColor: AppTheme.textPrimary,
```

**buttonIconConstIconiconslogin** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:526:60`
- ğŸ“ Original: `'),
                    icon: const Icon(Icons.login),
                    label: const Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 32),
                  ElevatedButton.icon(
                    onPressed: () => context.goNamed('login'),
                    icon: const Icon(Icons.login),
                    label: const Text('Anmelden'),
                    style: ElevatedButton.styleFrom(
```

**buttonStyleElevatedbuttonstylefromBackgroundcolor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:528:48`
- ğŸ“ Original: `'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
                      padding: const EdgeInsets.symmetric(
                        horizontal: 24,
                        vertical: 12,
                      ),
                    ),
                  ),
                ],
              ),
            ),
          ),
        ),
      ),
    );
  }
}

class WorldNotFoundPage extends StatelessWidget {
  const WorldNotFoundPage({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Container(
        decoration: BoxDecoration(
          gradient: LinearGradient(
            begin: Alignment.topCenter,
            end: Alignment.bottomCenter,
            colors: [
              AppTheme.primaryColor.withOpacity(0.1),
              AppTheme.surfaceColor,
            ],
          ),
        ),
        child: Center(
          child: Card(
            elevation: 8,
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(16),
            ),
            child: Padding(
              padding: const EdgeInsets.all(32.0),
              child: Column(
                mainAxisSize: MainAxisSize.min,
                children: [
                  Icon(
                    Icons.public_off,
                    size: 64,
                    color: AppTheme.primaryColor.withOpacity(0.7),
                  ),
                  const SizedBox(height: 24),
                  Text(
                    '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
ElevatedButton.icon(
                    onPressed: () => context.goNamed('login'),
                    icon: const Icon(Icons.login),
                    label: const Text('Anmelden'),
                    style: ElevatedButton.styleFrom(
                      backgroundColor: AppTheme.primaryColor,
                      foregroundColor: Colors.white,
```

**buttonIconConstIconiconslist** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:599:65`
- ğŸ“ Original: `'),
                    icon: const Icon(Icons.list),
                    label: const Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 32),
                  ElevatedButton.icon(
                    onPressed: () => context.goNamed('world-list'),
                    icon: const Icon(Icons.list),
                    label: const Text('Alle Welten anzeigen'),
                    style: ElevatedButton.styleFrom(
```

**buttonItemsaddnavigationitemIconIconsarrow_back** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:72:43`
- ğŸ“ Original: `') {
      items.add(NavigationItem(
        icon: Icons.arrow_back,
        label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final items = <NavigationItem>[];
    
    // ZurÃ¼ck-Button (wenn nicht auf world-list)
    if (widget.currentRoute != 'world-list') {
      items.add(NavigationItem(
        icon: Icons.arrow_back,
        label: 'ZurÃ¼ck',
```

**buttonTextbuttonOnpressedSetstate** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:314:56`
- ğŸ“ Original: `'),
                  ),
                  
                  TextButton(
                    onPressed: () {
                      setState(() {
                        _error = null;
                        _isInitialized = true;
                      });
                    },
                    child: const Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
});
                      _initialize();
                    },
                    child: const Text('Erneut versuchen'),
                  ),
                  
                  TextButton(
```

### ğŸ·ï¸ DIALOG

**dialogBitteGebenSie** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:128:26`
- ğŸ“ Original: `'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'E-Mail-Adresse ist erforderlich';
                }
                if (!RegExp(r'^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$').hasMatch(value)) {
                  return 'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein';
                }
                return null;
              },
```

### ğŸ·ï¸ ERROR

**errorErrorEBei** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:116:60`
- ğŸ“ Original: `', error: e);
        // Bei Token-Validierungsfehlern einfach ausloggen
        await authService.logout();
      }
      
      // 4. Gespeicherte User-Daten laden (nur wenn Tokens gÃ¼ltig)
      if (isValid) {
        try {
          final user = await authService.loadStoredUser();
          if (user != null) {
            authService.isAuthenticated.value = true;
            AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await authService.logout();
        }
      } catch (e) {
        AppLogger.app.e('âŒ Token-Validierung fehlgeschlagen', error: e);
        // Bei Token-Validierungsfehlern einfach ausloggen
        await authService.logout();
      }
```

**errorCatchEApploggerappe** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:129:64`
- ğŸ“ Original: `');
          }
        } catch (e) {
          AppLogger.app.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
authService.isAuthenticated.value = true;
            AppLogger.app.i('ğŸ‘¤ User geladen und authentifiziert');
          } else {
            AppLogger.app.i('ğŸ‘¤ Kein gespeicherter User gefunden');
          }
        } catch (e) {
          AppLogger.app.e('âŒ User-Load fehlgeschlagen', error: e);
```

**errorErrorEElse** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:132:54`
- ğŸ“ Original: `', error: e);
        }
      } else {
        AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('ğŸ‘¤ Kein gespeicherter User gefunden');
          }
        } catch (e) {
          AppLogger.app.e('âŒ User-Load fehlgeschlagen', error: e);
        }
      } else {
        AppLogger.app.i('ğŸ‘¤ Keine gÃ¼ltigen Tokens - User-Load Ã¼bersprungen');
```

**errorAuthcacheBeimAppstart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:135:74`
- ğŸ“ Original: `');
      }
      
      // Auth-Cache beim App-Start invalidieren
      AppRouter.invalidateCacheOnStart();
      
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.e('âŒ User-Load fehlgeschlagen', error: e);
        }
      } else {
        AppLogger.app.i('ğŸ‘¤ Keine gÃ¼ltigen Tokens - User-Load Ã¼bersprungen');
      }
      
      // Auth-Cache beim App-Start invalidieren
```

**errorCatchEApploggerappe** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:141:55`
- ğŸ“ Original: `');
    } catch (e) {
      AppLogger.app.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Auth-Cache beim App-Start invalidieren
      AppRouter.invalidateCacheOnStart();
      
      AppLogger.app.i('âœ… Initialisierung abgeschlossen');
    } catch (e) {
      AppLogger.app.e('âŒ Service-Initialisierung fehlgeschlagen', error: e);
      // Bei Auth-Service-Fehlern einfach weitermachen
```

**errorErrorEBei** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:143:64`
- ğŸ“ Original: `', error: e);
      // Bei Auth-Service-Fehlern einfach weitermachen
      // Die App kann auch ohne gÃ¼ltige Tokens funktionieren
    }
  }
  
  // Timeout-Callback fÃ¼r SplashScreen
  void _onTimeout() {
    AppLogger.app.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.app.i('âœ… Initialisierung abgeschlossen');
    } catch (e) {
      AppLogger.app.e('âŒ Service-Initialisierung fehlgeschlagen', error: e);
      // Bei Auth-Service-Fehlern einfach weitermachen
      // Die App kann auch ohne gÃ¼ltige Tokens funktionieren
    }
```

**errorLevelLevelwarningOutput** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:41:47`
- ğŸ“ Original: `'),
      level: Level.warning,
      output: _getLogOutput(),
    );
  }

  /// Custom Log Printer mit strukturiertem Format
  static LogPrinter _getLogPrinter({String? prefix}) {
    return PrettyPrinter(
      methodCount: 2, // Stack trace depth
      errorMethodCount: 8, // Error stack trace depth
      lineLength: 120, // Width of the output
      colors: kDebugMode, // Colorful log in debug mode
      printEmojis: true, // Print emoji for each log level
      dateTimeFormat: DateTimeFormat.onlyTimeAndSinceStart, // Include timestamp
      noBoxingByDefault: false,
    );
  }

  /// Log Output - Debug: Console, Release: File + Remote
  static LogOutput _getLogOutput() {
    if (kDebugMode) {
      return ConsoleOutput();
    } else {
      // In Production: File + Remote Upload
      return MultiOutput([
        ConsoleOutput(),
        FileOutput(), // Local file storage
        // TODO: RemoteOutput(), // Upload to backend
      ]);
    }
  }

  // === Public API ===

  /// General App Logger
  static Logger get app => _logger;

  /// API Calls & Responses
  static Logger get api => _apiLogger;

  /// Authentication Events
  static Logger get auth => _authLogger;

  /// Navigation & Routing
  static Logger get navigation => _navigationLogger;

  /// Errors & Crashes
  static Logger get error => _errorLogger;

  // === Convenience Methods ===

  /// Log API Request
  static void logApiRequest(String method, String url, {Map<String, dynamic>? headers, dynamic body}) {
    api.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

    _errorLogger = Logger(
      printer: _getLogPrinter(prefix: '[ERROR]'),
      level: Level.warning,
      output: _getLogOutput(),
    );
```

**errorError** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:95:26`
- ğŸ“ Original: `', error: {
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
/// Log API Request
  static void logApiRequest(String method, String url, {Map<String, dynamic>? headers, dynamic body}) {
    api.i('ğŸ”„ $method $url', error: {
      'method': method,
      'url': url,
      'headers': headers,
```

**errorIssuccess** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:109:12`
- ğŸ“ Original: `'${isSuccess ? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final isSuccess = statusCode >= 200 && statusCode < 300;
    final logger = isSuccess ? api.i : api.w;
    
    logger('${isSuccess ? 'âœ…' : 'âš ï¸'} $method $url â†’ $statusCode', error: {
      'method': method,
      'url': url,
      'statusCode': statusCode,
```

**errorError** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:109:65`
- ğŸ“ Original: `', error: {
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final isSuccess = statusCode >= 200 && statusCode < 300;
    final logger = isSuccess ? api.i : api.w;
    
    logger('${isSuccess ? 'âœ…' : 'âš ï¸'} $method $url â†’ $statusCode', error: {
      'method': method,
      'url': url,
      'statusCode': statusCode,
```

**errorErrorErrorStacktrace** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:121:26`
- ğŸ“ Original: `', error: error, stackTrace: stackTrace);
  }

  /// Log Authentication Event 
  static void logAuthEvent(String event, {String? username, Map<String, dynamic>? metadata}) {
    auth.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
/// Log API Error
  static void logApiError(String method, String url, dynamic error, {StackTrace? stackTrace}) {
    api.e('âŒ $method $url', error: error, stackTrace: stackTrace);
  }

  /// Log Authentication Event
```

**errorError** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:126:21`
- ğŸ“ Original: `', error: {
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
/// Log Authentication Event 
  static void logAuthEvent(String event, {String? username, Map<String, dynamic>? metadata}) {
    auth.i('ğŸ” $event', error: {
      'event': event,
      'username': username,
      'metadata': metadata,
```

**errorEvent** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:127:13`
- ğŸ“ Original: `': event,
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
/// Log Authentication Event 
  static void logAuthEvent(String event, {String? username, Map<String, dynamic>? metadata}) {
    auth.i('ğŸ” $event', error: {
      'event': event,
      'username': username,
      'metadata': metadata,
      'timestamp': DateTime.now().toIso8601String(),
```

**errorUsername** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:128:16`
- ğŸ“ Original: `': username,
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static void logAuthEvent(String event, {String? username, Map<String, dynamic>? metadata}) {
    auth.i('ğŸ” $event', error: {
      'event': event,
      'username': username,
      'metadata': metadata,
      'timestamp': DateTime.now().toIso8601String(),
    });
```

**errorError** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:136:32`
- ğŸ“ Original: `', error: {
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
/// Log Navigation Event
  static void logNavigation(String from, String to, {Map<String, dynamic>? params}) {
    navigation.i('ğŸ§­ $from â†’ $to', error: {
      'from': from,
      'to': to,
      'params': params,
```

**errorMessage** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:146:23`
- ğŸ“ Original: `'ğŸ’¥ $message'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
/// Log Error with Context
  static void logError(String message, dynamic error, {StackTrace? stackTrace, Map<String, dynamic>? context}) {
    AppLogger.error.e('ğŸ’¥ $message', error: {
      'message': message,
      'error': error.toString(),
      'context': context,
```

**errorUserAction** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:156:11`
- ğŸ“ Original: `'ğŸ‘¤ User: $action'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
/// Log User Action
  static void logUserAction(String action, {Map<String, dynamic>? context}) {
    app.i('ğŸ‘¤ User: $action', error: {
      'action': action,
      'context': context,
      'timestamp': DateTime.now().toIso8601String(),
```

**errorErrorEAwait** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:108:61`
- ğŸ“ Original: `', error: e);
        await _authService.refreshTokenIfNeeded();
      } finally {
        _isValidatingToken = false;
      }
    }
  }

  // Response-Interceptor mit Header-Parsing fÃ¼r proaktive Token-Erneuerung
  Future<http.Response> _handleResponse(http.Response response, String endpoint) async {
    // Proaktive Token-Erneuerung basierend auf Response-Headers
    if (response.headers['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
      } catch (e) {
        // Token validation error
        AppLogger.api.w('âš ï¸ Token-Validierung fehlgeschlagen', error: e);
        await _authService.refreshTokenIfNeeded();
      } finally {
        _isValidatingToken = false;
```

**errorErrorEReaktive** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:136:71`
- ğŸ“ Original: `', error: e);
        }
      }
    }
    
    // Reaktive Token-Erneuerung bei 401
    if (response.statusCode == 401 && !endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
          }
        } catch (e) {
          AppLogger.api.e('âŒ Proaktive Token-Erneuerung fehlgeschlagen', error: e);
        }
      }
    }
```

**errorErrorEBei** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:157:56`
- ğŸ“ Original: `', error: e);
        // Bei Token-Refresh-Fehlern automatisch ausloggen
        await _authService.logout();
        // Cache invalidieren nach Logout
        AppRouter.invalidateAuthCache();
      }
    }
    return response;
  }

  // VollstÃ¤ndige Request-Wiederholung fÃ¼r alle HTTP-Methoden mit erweiterter Kontext-Verwaltung
  Future<http.Response> _retryRequest(String endpoint, String method) async {
    switch (method) {
      case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        }
      } catch (e) {
        AppLogger.api.e('âŒ Token-Refresh fehlgeschlagen', error: e);
        // Bei Token-Refresh-Fehlern automatisch ausloggen
        await _authService.logout();
        // Cache invalidieren nach Logout
```

**errorEndpointResponsestatuscodeBody** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:279:36`
- ğŸ“ Original: `', endpoint, response.statusCode, body: response.body);
      
      // Don'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);
      
      // Log API Response
      AppLogger.logApiResponse('GET', endpoint, response.statusCode, body: response.body);
      
      // Don't log 404 errors for player status checks
      if (response.statusCode == 404 &&
```

**errorPlayersme** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:283:30`
- ğŸ“ Original: `'/players/me'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Don't log 404 errors for player status checks
      if (response.statusCode == 404 && 
          (endpoint.contains('/players/me') || endpoint.contains('/pre-register/me'))) {
        return response;
      }
```

**errorPreregisterme** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:283:66`
- ğŸ“ Original: `'/pre-register/me'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Don't log 404 errors for player status checks
      if (response.statusCode == 404 && 
          (endpoint.contains('/players/me') || endpoint.contains('/pre-register/me'))) {
        return response;
      }
```

**errorEndpointErrorStacktrace** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:290:33`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> post(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Log API Request (ohne sensitive Daten fÃ¼r Auth-Endpoints)
    final logBody = endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('GET', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorEndpointResponsestatuscodeBody** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:319:37`
- ğŸ“ Original: `', endpoint, response.statusCode, body: logResponseBody);
      
      return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Log API Response (ohne sensitive Response-Daten)
      final logResponseBody = endpoint.startsWith('/auth/') ? _sanitizeAuthResponse(response.body) : response.body;
      AppLogger.logApiResponse('POST', endpoint, response.statusCode, body: logResponseBody);
      
      return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
```

**errorEndpointErrorStacktrace** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:324:34`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> put(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Log API Request
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('POST', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorEndpointResponsestatuscodeBody** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:351:36`
- ğŸ“ Original: `', endpoint, response.statusCode, body: response.body);
      
      return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);
      
      // Log API Response
      AppLogger.logApiResponse('PUT', endpoint, response.statusCode, body: response.body);
      
      return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
```

**errorEndpointErrorStacktrace** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:356:33`
- ğŸ“ Original: `', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }

  Future<http.Response> delete(String endpoint) async {
    await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('PUT', endpoint, error, stackTrace: stackTrace);
      rethrow;
    }
  }
```

**errorEndpointResponsestatuscodeBody** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:379:39`
- ğŸ“ Original: `', endpoint, response.statusCode, body: response.body);
      
      return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
      // Log API Error
      AppLogger.logApiError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);
      
      // Log API Response
      AppLogger.logApiResponse('DELETE', endpoint, response.statusCode, body: response.body);
      
      return await _handleResponse(response, endpoint);
    } catch (error, stackTrace) {
```

**errorServiceTNot** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\main.dart:18:23`
- ğŸ“ Original: `'Service $T not registered'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static T get<T>() {
    final service = _services[T];
    if (service == null) {
      throw Exception('Service $T not registered');
    }
    return service as T;
  }
```

**errorWeltenwindappWirdGestartet** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\main.dart:37:19`
- ğŸ“ Original: `'ğŸš€ WeltenwindApp wird gestartet...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Initialisiere das Logging-System
  AppLogger.initialize();
  AppLogger.app.i('ğŸš€ WeltenwindApp wird gestartet...');

  // Flutter Error Handling
  FlutterError.onError = (FlutterErrorDetails details) {
```

**errorFlutterFrameworkError** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\main.dart:42:7`
- ğŸ“ Original: `'Flutter Framework Error'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Flutter Error Handling
  FlutterError.onError = (FlutterErrorDetails details) {
    AppLogger.logError(
      'Flutter Framework Error',
      details.exception,
      stackTrace: details.stack,
      context: {
```

**errorErrorStacktraceStack** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\main.dart:61:28`
- ğŸ“ Original: `',
      error,
      stackTrace: stack,
      context: {
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Dart Error Handling (fÃ¼r unhandled exceptions)
  WidgetsBinding.instance.platformDispatcher.onError = (error, stack) {
    AppLogger.logError(
      'Unhandled Dart Error',
      error,
      stackTrace: stack,
      context: {
```

**errorStaticConstString** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:52:51`
- ğŸ“ Original: `';
  static const String worldDashboardRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String registerRoute = 'register';
  static const String forgotPasswordRoute = 'forgot-password';
  static const String resetPasswordRoute = 'reset-password';
  static const String worldListRoute = 'world-list';
  static const String worldDashboardRoute = 'world-dashboard';
  static const String worldJoinRoute = 'world-join';
  static const String errorRoute = 'error';
```

**errorStaticConstString** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:53:61`
- ğŸ“ Original: `';
  static const String worldJoinRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String forgotPasswordRoute = 'forgot-password';
  static const String resetPasswordRoute = 'reset-password';
  static const String worldListRoute = 'world-list';
  static const String worldDashboardRoute = 'world-dashboard';
  static const String worldJoinRoute = 'world-join';
  static const String errorRoute = 'error';
```

**errorStaticConstString** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:54:51`
- ğŸ“ Original: `';
  static const String errorRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String resetPasswordRoute = 'reset-password';
  static const String worldListRoute = 'world-list';
  static const String worldDashboardRoute = 'world-dashboard';
  static const String worldJoinRoute = 'world-join';
  static const String errorRoute = 'error';

  // NavigatorKey fÃ¼r zukÃ¼nftige Shell-Integration (z.B. BottomNav)
```

**errorNavigatorkeyFÃ¼rZukÃ¼nftige** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:55:42`
- ğŸ“ Original: `';

  // NavigatorKey fÃ¼r zukÃ¼nftige Shell-Integration (z.B. BottomNav)
  static final GlobalKey<NavigatorState> _rootNavigatorKey = GlobalKey<NavigatorState>();

  static GoRouter? _routerInstance;
  static bool _isInitialized = false;
  
  // Helper method to safely get AuthService - komplett unabhÃ¤ngig von ServiceLocator
  static AuthService? _getAuthService() {
    try {
      if (ServiceLocator.has<AuthService>()) {
        return ServiceLocator.get<AuthService>();
      }
    } catch (e) {
      AppLogger.navigation.w('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String worldListRoute = 'world-list';
  static const String worldDashboardRoute = 'world-dashboard';
  static const String worldJoinRoute = 'world-join';
  static const String errorRoute = 'error';

  // NavigatorKey fÃ¼r zukÃ¼nftige Shell-Integration (z.B. BottomNav)
  static final GlobalKey<NavigatorState> _rootNavigatorKey = GlobalKey<NavigatorState>();
```

**errorErrorEKein** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:70:55`
- ğŸ“ Original: `', error: e);
    }
    // Kein Fallback - Services sind nicht verfÃ¼gbar
    return null;
  }
  
  static GoRouter get router {
    AppLogger.navigation.d('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return ServiceLocator.get<AuthService>();
      }
    } catch (e) {
      AppLogger.navigation.w('âš ï¸ ServiceLocator Fehler', error: e);
    }
    // Kein Fallback - Services sind nicht verfÃ¼gbar
    return null;
```

**errorError** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:77:55`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
  
  static GoRouter get router {
    AppLogger.navigation.d('ğŸ” Router-Instanz angefragt', error: {'initialized': _routerInstance != null});
    
    if (_routerInstance != null) {
      return _routerInstance!;
```

**error_routerinstanceNullIf** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:77:78`
- ğŸ“ Original: `': _routerInstance != null});
    
    if (_routerInstance != null) {
      return _routerInstance!;
    }
    
    // Router nur einmal initialisieren
    if (!_isInitialized) {
      AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
  
  static GoRouter get router {
    AppLogger.navigation.d('ğŸ” Router-Instanz angefragt', error: {'initialized': _routerInstance != null});
    
    if (_routerInstance != null) {
      return _routerInstance!;
```

**errorError** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:114:56`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
!isInviteRoute; // Invite-Routen ausschlieÃŸen

          if (!isLoggedIn && isProtectedRoute) {
            AppLogger.navigation.i('ğŸ”’ Redirect zu Login', error: {'from': state.matchedLocation});
            return '/go/auth/login';
          }
```

**errorStatematchedlocationReturn** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:114:72`
- ğŸ“ Original: `': state.matchedLocation});
            return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
!isInviteRoute; // Invite-Routen ausschlieÃŸen

          if (!isLoggedIn && isProtectedRoute) {
            AppLogger.navigation.i('ğŸ”’ Redirect zu Login', error: {'from': state.matchedLocation});
            return '/go/auth/login';
          }
```

**errorIfIsloggedinIsauthroute** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:115:35`
- ğŸ“ Original: `';
          }

          if (isLoggedIn && isAuthRoute) {
            AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (!isLoggedIn && isProtectedRoute) {
            AppLogger.navigation.i('ğŸ”’ Redirect zu Login', error: {'from': state.matchedLocation});
            return '/go/auth/login';
          }

          if (isLoggedIn && isAuthRoute) {
```

**errorError** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:119:57`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}

          if (isLoggedIn && isAuthRoute) {
            AppLogger.navigation.i('ğŸ  Redirect zu Worlds', error: {'from': state.matchedLocation});
            return '/go/worlds';
          }
```

**errorStatematchedlocationReturn** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:119:73`
- ğŸ“ Original: `': state.matchedLocation});
            return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}

          if (isLoggedIn && isAuthRoute) {
            AppLogger.navigation.i('ğŸ  Redirect zu Worlds', error: {'from': state.matchedLocation});
            return '/go/worlds';
          }
```

**errorInviteroutenWerdenDurchgelassen** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:120:31`
- ğŸ“ Original: `';
          }

          // Invite-Routen werden durchgelassen (keine Weiterleitung)
          if (isInviteRoute) {
            AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (isLoggedIn && isAuthRoute) {
            AppLogger.navigation.i('ğŸ  Redirect zu Worlds', error: {'from': state.matchedLocation});
            return '/go/worlds';
          }

          // Invite-Routen werden durchgelassen (keine Weiterleitung)
```

**errorError** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:125:81`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Invite-Routen werden durchgelassen (keine Weiterleitung)
          if (isInviteRoute) {
            AppLogger.navigation.i('ğŸ« Invite-Route erkannt - keine Weiterleitung', error: {'route': state.matchedLocation});
          }

          return null;
```

**errorStatematchedlocationReturnNull** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:125:98`
- ğŸ“ Original: `': state.matchedLocation});
          }

          return null;
        } catch (e) {
          AppLogger.navigation.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Invite-Routen werden durchgelassen (keine Weiterleitung)
          if (isInviteRoute) {
            AppLogger.navigation.i('ğŸ« Invite-Route erkannt - keine Weiterleitung', error: {'route': state.matchedLocation});
          }

          return null;
```

**errorErrorEStacktrace** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:130:59`
- ğŸ“ Original: `', error: e, stackTrace: StackTrace.current);
          // Bei Fehlern zur Login-Seite weiterleiten
          return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return null;
        } catch (e) {
          AppLogger.navigation.e('âŒ Router Redirect Fehler', error: e, stackTrace: StackTrace.current);
          // Bei Fehlern zur Login-Seite weiterleiten
          return '/go/auth/login';
        }
```

**errorRoutesLandingPage** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:132:33`
- ğŸ“ Original: `';
        }
      },
    
    routes: [
      // Landing page
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
          AppLogger.navigation.e('âŒ Router Redirect Fehler', error: e, stackTrace: StackTrace.current);
          // Bei Fehlern zur Login-Seite weiterleiten
          return '/go/auth/login';
        }
      },
```

**errorIfWorldidNull** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:212:51`
- ğŸ“ Original: `'];
          if (worldId == null) {
            return CustomTransitionPage(
              child: const ErrorPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
                SlideTransition(
                  position: Tween<Offset>(
                    begin: const Offset(0.0, 1.0),
                    end: Offset.zero,
                  ).animate(CurvedAnimation(
                    parent: animation,
                    curve: Curves.easeInOut,
                  )),
                  child: child,
                ),
            );
          }
          return CustomTransitionPage(
            child: DashboardPage(worldId: worldId),
            transitionsBuilder: (context, animation, secondaryAnimation, child) =>
              SlideTransition(
                position: Tween<Offset>(
                  begin: const Offset(0.0, 1.0),
                  end: Offset.zero,
                ).animate(CurvedAnimation(
                  parent: animation,
                  curve: Curves.easeInOut,
                )),
                child: child,
              ),
          );
        },
      ),
      // NORMALE WORLD-JOIN Route (Ã¼ber interne Navigation)
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
path: '/go/worlds/:id',
        name: worldDashboardRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['id'];
          if (worldId == null) {
            return CustomTransitionPage(
              child: const ErrorPage(),
```

**errorIfWorldidNull** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:250:51`
- ğŸ“ Original: `'];
          if (worldId == null) {
            return CustomTransitionPage(
              child: const ErrorPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
                SlideTransition(
                  position: Tween<Offset>(
                    begin: const Offset(0.0, 1.0),
                    end: Offset.zero,
                  ).animate(CurvedAnimation(
                    parent: animation,
                    curve: Curves.easeInOut,
                  )),
                  child: child,
                ),
            );
          }
          return CustomTransitionPage(
            child: WorldJoinPage(
              worldId: worldId,
              flowType: WorldJoinFlowType.normal, // KLARE FLOW-KENNZEICHNUNG
            ),
            transitionsBuilder: (context, animation, secondaryAnimation, child) =>
              SlideTransition(
                position: Tween<Offset>(
                  begin: const Offset(0.0, 1.0),
                  end: Offset.zero,
                ).animate(CurvedAnimation(
                  parent: animation,
                  curve: Curves.easeInOut,
                )),
                child: child,
              ),
          );
        },
      ),
      // INVITE-FLOW Route (externe Links)
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
path: '/go/worlds/:id/join',
        name: worldJoinRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['id'];
          if (worldId == null) {
            return CustomTransitionPage(
              child: const ErrorPage(),
```

**errorInvitetokenFehlt** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:293:36`
- ğŸ“ Original: `'âš ï¸ Invite-Token fehlt'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
pageBuilder: (context, state) {
          final token = state.pathParameters['token'];
          if (token == null || token.isEmpty) {
            AppLogger.navigation.w('âš ï¸ Invite-Token fehlt', error: {'path': state.matchedLocation});
            return CustomTransitionPage(
              child: const ErrorPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
```

**errorStatematchedlocationReturnCustomtransitionpage** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:293:74`
- ğŸ“ Original: `': state.matchedLocation});
            return CustomTransitionPage(
              child: const ErrorPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
                SlideTransition(
                  position: Tween<Offset>(
                    begin: const Offset(0.0, 1.0),
                    end: Offset.zero,
                  ).animate(CurvedAnimation(
                    parent: animation,
                    curve: Curves.easeInOut,
                  )),
                  child: child,
                ),
            );
          }
          AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
pageBuilder: (context, state) {
          final token = state.pathParameters['token'];
          if (token == null || token.isEmpty) {
            AppLogger.navigation.w('âš ï¸ Invite-Token fehlt', error: {'path': state.matchedLocation});
            return CustomTransitionPage(
              child: const ErrorPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
```

**errorError** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:309:57`
- ğŸ“ Original: `', error: {'`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
            );
          }
          AppLogger.navigation.i('ğŸ« Invite-Token erkannt', error: {'token': token.substring(0, 8) + '...'});
          return CustomTransitionPage(
            child: WorldJoinPage(
              inviteToken: token,
```

**errorTokensubstring08** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:309:74`
- ğŸ“ Original: `': token.substring(0, 8) + '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
            );
          }
          AppLogger.navigation.i('ğŸ« Invite-Token erkannt', error: {'token': token.substring(0, 8) + '...'});
          return CustomTransitionPage(
            child: WorldJoinPage(
              inviteToken: token,
```

**errorReturnCustomtransitionpageChild** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:309:105`
- ğŸ“ Original: `'});
          return CustomTransitionPage(
            child: WorldJoinPage(
              inviteToken: token,
              flowType: WorldJoinFlowType.invite, // KLARE FLOW-KENNZEICHNUNG
            ),
            transitionsBuilder: (context, animation, secondaryAnimation, child) =>
              SlideTransition(
                position: Tween<Offset>(
                  begin: const Offset(0.0, 1.0),
                  end: Offset.zero,
                ).animate(CurvedAnimation(
                  parent: animation,
                  curve: Curves.easeInOut,
                )),
                child: child,
              ),
          );
        },
      ),
    ],
    
    // Verbesserte Fehlerbehandlung mit robuster 404-Erkennung
    errorBuilder: (context, state) {
      // Spezifische Fehlerbehandlung basierend auf Error-Typ
      if (state.error is GoException) {
        final goException = state.error as GoException;
        
        // Auth-Fehler
        if (goException.message.contains('`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
            );
          }
          AppLogger.navigation.i('ğŸ« Invite-Token erkannt', error: {'token': token.substring(0, 8) + '...'});
          return CustomTransitionPage(
            child: WorldJoinPage(
              inviteToken: token,
```

**errorReturnConstAutherrorpage** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:338:46`
- ğŸ“ Original: `')) {
          return const AuthErrorPage();
        }
        
        // Welt nicht gefunden - robuste Erkennung
        if (goException.message.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final goException = state.error as GoException;
        
        // Auth-Fehler
        if (goException.message.contains('401')) {
          return const AuthErrorPage();
        }
```

**errorStatematchedlocationcontains** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:343:46`
- ğŸ“ Original: `') && 
            (state.matchedLocation.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
        
        // Welt nicht gefunden - robuste Erkennung
        if (goException.message.contains('404') && 
            (state.matchedLocation.contains('/worlds/') || 
             state.uri.pathSegments.contains('worlds'))) {
          return const WorldNotFoundPage();
```

**errorStateuripathsegmentscontains** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:344:54`
- ğŸ“ Original: `') || 
             state.uri.pathSegments.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Welt nicht gefunden - robuste Erkennung
        if (goException.message.contains('404') && 
            (state.matchedLocation.contains('/worlds/') || 
             state.uri.pathSegments.contains('worlds'))) {
          return const WorldNotFoundPage();
        }
```

**errorReturnConstWorldnotfoundpage** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:345:53`
- ğŸ“ Original: `'))) {
          return const WorldNotFoundPage();
        }
      }
      
      // Standard 404-Fehlerseite
      return const ErrorPage();
    },
  );
        
        _isInitialized = true;
      } catch (e) {
        // Bei Fehler wÃ¤hrend der Initialisierung
        AppLogger.navigation.e('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Welt nicht gefunden - robuste Erkennung
        if (goException.message.contains('404') && 
            (state.matchedLocation.contains('/worlds/') || 
             state.uri.pathSegments.contains('worlds'))) {
          return const WorldNotFoundPage();
        }
      }
```

**errorErrorEFallback** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:358:65`
- ğŸ“ Original: `', error: e);
        // Fallback: Minimaler Router nur mit Error Page
        _routerInstance = GoRouter(
          initialLocation: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_isInitialized = true;
      } catch (e) {
        // Bei Fehler wÃ¤hrend der Initialisierung
        AppLogger.navigation.e('âŒ Router Initialisierungs-Fehler', error: e);
        // Fallback: Minimaler Router nur mit Error Page
        _routerInstance = GoRouter(
          initialLocation: '/go',
```

**errorRoutesGoroutePath** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:361:32`
- ğŸ“ Original: `',
          routes: [
            GoRoute(
              path: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.navigation.e('âŒ Router Initialisierungs-Fehler', error: e);
        // Fallback: Minimaler Router nur mit Error Page
        _routerInstance = GoRouter(
          initialLocation: '/go',
          routes: [
            GoRoute(
              path: '/go',
```

**errorBuilderContextState** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:364:25`
- ğŸ“ Original: `',
              builder: (context, state) => const ErrorPage(),
            ),
          ],
        );
        _isInitialized = true;
      }
    }
    return _routerInstance!;
  }

  // Getter fÃ¼r NavigatorKey (fÃ¼r zukÃ¼nftige Shell-Integration)
  static GlobalKey<NavigatorState> get rootNavigatorKey => _rootNavigatorKey;
  
  // Public Methoden fÃ¼r Cache-Management
  static void invalidateAuthCache() {
    // Caching entfernt, daher keine Cache-Invalidierung mehr nÃ¶tig
  }
  static bool? get cachedLoginState => null; // Caching entfernt
  
  // Cache beim App-Start invalidieren
  static void invalidateCacheOnStart() {
    // Caching entfernt, daher keine Cache-Invalidierung mehr nÃ¶tig
    AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
initialLocation: '/go',
          routes: [
            GoRoute(
              path: '/go',
              builder: (context, state) => const ErrorPage(),
            ),
          ],
```

**errorEIfMounted** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:88:70`
- ğŸ“ Original: `', e);
      
      if (mounted) {
        setState(() {
          _error = e.toString();
        });
      }
    }
  }

  Future<void> _runInitializationWithSteps() async {
    final initSteps = widget.initSteps;
    if (initSteps != null && initSteps.isNotEmpty) {
      for (int i = 0; i < initSteps.length; i++) {
        if (mounted) {
          setState(() {
            _currentStepIndex = i;
            _currentStepName = initSteps[i];
          });
        }
        
        // Simuliere Schritt-fÃ¼r-Schritt Initialisierung
        await Future.delayed(const Duration(milliseconds: 300));
      }
    }
    
    // FÃ¼hre die eigentliche Initialisierung aus
    await widget.initializationFunction();
  }

  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    if (_error != null) {
      return _buildErrorScreen();
    }
    
    if (_isInitialized) {
      // Direkt das Child anzeigen ohne FadeTransition die ausblendet
      return widget.child;
    }
    
    return _buildSplashScreen();
  }

  Widget _buildSplashScreen() {
    final initSteps = widget.initSteps;
    final loadingText = widget.loadingText;
    
    return Scaffold(
      backgroundColor: Theme.of(context).primaryColor,
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            // App Logo/Icon
            widget.logo ?? Container(
              width: 120,
              height: 120,
              decoration: BoxDecoration(
                color: Colors.white,
                borderRadius: BorderRadius.circular(20),
                boxShadow: [
                  BoxShadow(
                    color: Colors.black.withOpacity(0.1),
                    blurRadius: 10,
                    offset: const Offset(0, 5),
                  ),
                ],
              ),
              child: const Icon(
                Icons.public,
                size: 60,
                color: Colors.blue,
              ),
            ),
            
            const SizedBox(height: 40),
            
            // App Name
            Text(
              widget.appName ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// _animationController.reverse(); // ENTFERNT
      }
    } catch (e) {
      AppLogger.logError('SplashScreen Initialisierung fehlgeschlagen', e);
      
      if (mounted) {
        setState(() {
```

**errorStyleTextstyleFontsize** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:280:40`
- ğŸ“ Original: `',
                style: TextStyle(
                  fontSize: 24,
                  fontWeight: FontWeight.bold,
                ),
              ),
              
              const SizedBox(height: 10),
              
              Text(
                _error ?? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 20),
              
              const Text(
                'Initialisierungsfehler',
                style: TextStyle(
                  fontSize: 24,
                  fontWeight: FontWeight.bold,
```

**errorTextalignTextaligncenterStyle** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:290:46`
- ğŸ“ Original: `',
                textAlign: TextAlign.center,
                style: const TextStyle(
                  fontSize: 16,
                  color: Colors.grey,
                ),
              ),
              
              const SizedBox(height: 30),
              
              Row(
                mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                children: [
                  ElevatedButton(
                    onPressed: () {
                      setState(() {
                        _error = null;
                        _isInitialized = false;
                        _timedOut = false;
                        _currentStepIndex = 0;
                        _currentStepName = null;
                      });
                      _initialize();
                    },
                    child: const Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 10),
              
              Text(
                _error ?? 'Unbekannter Fehler',
                textAlign: TextAlign.center,
                style: const TextStyle(
                  fontSize: 16,
```

### ğŸ·ï¸ INVITE

**inviteXclienttime** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:68:7`
- ğŸ“ Original: `'X-Client-Time'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'Content-Type': 'application/json',
      'X-Device-Fingerprint': deviceFingerprint,
      'X-Client-Timezone': 'Europe/Berlin',
      'X-Client-Time': DateTime.now().millisecondsSinceEpoch.toString(),
    };
    
    if (_token != null) {
```

**inviteIfPartslength3** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:85:37`
- ğŸ“ Original: `');
        if (parts.length == 3) {
          final payload = jsonDecode(utf8.decode(base64Url.decode(base64Url.normalize(parts[1]))));
          final exp = payload['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
        final token = _token;
        if (token == null) return;
        final parts = token.split('.');
        if (parts.length == 3) {
          final payload = jsonDecode(utf8.decode(base64Url.decode(base64Url.normalize(parts[1]))));
          final exp = payload['exp'] as int;
```

**inviteAsIntFinal** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:88:35`
- ğŸ“ Original: `'] as int;
          final now = DateTime.now().millisecondsSinceEpoch ~/ 1000;
          
          // Token erneuern wenn weniger als 60 Sekunden gÃ¼ltig
          if (exp - now < 60) {
            // Log Token-Refresh
            AppLogger.api.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final parts = token.split('.');
        if (parts.length == 3) {
          final payload = jsonDecode(utf8.decode(base64Url.decode(base64Url.normalize(parts[1]))));
          final exp = payload['exp'] as int;
          final now = DateTime.now().millisecondsSinceEpoch ~/ 1000;
          
          // Token erneuern wenn weniger als 60 Sekunden gÃ¼ltig
```

**inviteFinalExpiresinInttryparseresponseheaders** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:119:58`
- ğŸ“ Original: `') {
      final expiresIn = int.tryParse(response.headers['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Response-Interceptor mit Header-Parsing fÃ¼r proaktive Token-Erneuerung
  Future<http.Response> _handleResponse(http.Response response, String endpoint) async {
    // Proaktive Token-Erneuerung basierend auf Response-Headers
    if (response.headers['x-token-expires-soon'] == 'true') {
      final expiresIn = int.tryParse(response.headers['x-token-expires-in'] ?? '0');
      if (expiresIn != null && expiresIn < 60) {
        try {
```

**inviteIfExpiresinNull** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:120:82`
- ğŸ“ Original: `');
      if (expiresIn != null && expiresIn < 60) {
        try {
          AppLogger.api.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Future<http.Response> _handleResponse(http.Response response, String endpoint) async {
    // Proaktive Token-Erneuerung basierend auf Response-Headers
    if (response.headers['x-token-expires-soon'] == 'true') {
      final expiresIn = int.tryParse(response.headers['x-token-expires-in'] ?? '0');
      if (expiresIn != null && expiresIn < 60) {
        try {
          AppLogger.api.i('ğŸ”„ Proaktive Token-Erneuerung - lÃ¤uft ab in ${expiresIn}s');
```

**inviteEnvapiurlenvapibasepathendpoint** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:215:54`
- ğŸ“ Original: `'${Env.apiUrl}${Env.apiBasePath}$endpoint'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
await _ensureValidToken();
    }
    
    final request = http.Request('DELETE', Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'));
    request.headers.addAll(_headers);
    request.body = jsonEncode(data);
```

**inviteEntrykeycontains** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:245:40`
- ğŸ“ Original: `') || entry.key.contains('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (decodedBody is Map<String, dynamic>) {
        final sanitized = <String, dynamic>{};
        for (final entry in decodedBody.entries) {
          if (entry.key.contains('token') || entry.key.contains('Token')) {
            sanitized[entry.key] = '***';
          } else {
            sanitized[entry.key] = entry.value;
```

**inviteSanitizedentrykey** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:245:71`
- ğŸ“ Original: `')) {
            sanitized[entry.key] = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (decodedBody is Map<String, dynamic>) {
        final sanitized = <String, dynamic>{};
        for (final entry in decodedBody.entries) {
          if (entry.key.contains('token') || entry.key.contains('Token')) {
            sanitized[entry.key] = '***';
          } else {
            sanitized[entry.key] = entry.value;
```

**inviteElseSanitizedentrykeyEntryvalue** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:246:40`
- ğŸ“ Original: `';
          } else {
            sanitized[entry.key] = entry.value;
          }
        }
        return jsonEncode(sanitized);
      }
    } catch (e) {
      // If JSON parsing fails, return truncated body
      return body.length > 100 ? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final sanitized = <String, dynamic>{};
        for (final entry in decodedBody.entries) {
          if (entry.key.contains('token') || entry.key.contains('Token')) {
            sanitized[entry.key] = '***';
          } else {
            sanitized[entry.key] = entry.value;
          }
```

**inviteDartconvert** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\invite_service.dart:1:8`
- ğŸ“ Original: `'dart:convert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'dart:io';
import 'package:http/http.dart' as http;
import 'api_service.dart';
```

**inviteNullDatetimeparsejson** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\invite_service.dart:30:33`
- ğŸ“ Original: `'] != null 
          ? DateTime.parse(json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
createdAt: json['createdAt'] != null 
          ? DateTime.parse(json['createdAt'] as String) 
          : null,
      expiresAt: json['expiresAt'] != null 
          ? DateTime.parse(json['expiresAt'] as String) 
          : null,
    );
```

**invitePackageflutter_secure_storageflutter_secure_storagedart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\token_storage.dart:2:8`
- ğŸ“ Original: `'package:flutter_secure_storage/flutter_secure_storage.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/foundation.dart' show kIsWeb;
import 'package:flutter_secure_storage/flutter_secure_storage.dart';
import 'package:shared_preferences/shared_preferences.dart';

class TokenStorage {
```

**invitePackageshared_preferencesshared_preferencesdart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\token_storage.dart:3:8`
- ğŸ“ Original: `'package:shared_preferences/shared_preferences.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/foundation.dart' show kIsWeb;
import 'package:flutter_secure_storage/flutter_secure_storage.dart';
import 'package:shared_preferences/shared_preferences.dart';

class TokenStorage {
  static const _accessTokenKey = 'access_token';
```

**inviteBitteGebenSie** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:109:26`
- ğŸ“ Original: `'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return 'E-Mail-Adresse ist erforderlich';
                }
                if (!RegExp(r'^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$').hasMatch(value)) {
                  return 'Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein';
                }
                return null;
              },
```

### ğŸ·ï¸ UI

**uiStyleThemeofcontexttextthemeheadlinemediumcopywithColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:145:53`
- ğŸ“ Original: `',
                              style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                color: Colors.white,
                                fontWeight: FontWeight.bold,
                                fontSize: 24,
                              ),
                            ),
                            const SizedBox(height: 8),
                            
                            Text(
                              '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 20),
                            
                            Text(
                              'Passwort zurÃ¼cksetzen',
                              style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                color: Colors.white,
                                fontWeight: FontWeight.bold,
```

**uiStyleThemeofcontexttextthemebodylargecopywithColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:155:125`
- ğŸ“ Original: `',
                              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                color: Colors.grey[300],
                                fontSize: 14,
                              ),
                              textAlign: TextAlign.center,
                            ),
                            const SizedBox(height: 32),
                            
                            // Success Message
                            if (_isSuccess)
                              Container(
                                width: double.infinity,
                                padding: const EdgeInsets.all(12),
                                margin: const EdgeInsets.only(bottom: 16),
                                decoration: BoxDecoration(
                                  color: Colors.green[900]!.withOpacity(0.3),
                                  borderRadius: BorderRadius.circular(8),
                                  border: Border.all(color: Colors.green[400]!.withOpacity(0.5)),
                                ),
                                child: Row(
                                  children: [
                                    Icon(Icons.check_circle_outline, color: Colors.green[400], size: 20),
                                    const SizedBox(width: 8),
                                    Expanded(
                                      child: Text(
                                        '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
                            
                            Text(
                              'Gib deine E-Mail-Adresse ein und wir senden dir einen Link zum ZurÃ¼cksetzen deines Passworts.',
                              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                color: Colors.grey[300],
                                fontSize: 14,
```

**uiStyleTextstylecolorColorsgreen200** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:181:94`
- ğŸ“ Original: `',
                                        style: TextStyle(color: Colors.green[200], fontSize: 14),
                                      ),
                                    ),
                                  ],
                                ),
                              ),
                            
                            // Email field
                            if (!_isSuccess)
                              TextFormField(
                                controller: _emailController,
                                style: const TextStyle(color: Colors.white),
                                keyboardType: TextInputType.emailAddress,
                                autofillHints: const [AutofillHints.email],
                                textInputAction: TextInputAction.done,
                                onFieldSubmitted: (_) => _isLoading ? null : _requestPasswordReset(),
                                decoration: InputDecoration(
                                  labelText: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(width: 8),
                                    Expanded(
                                      child: Text(
                                        'E-Mail gesendet! Bitte Ã¼berprÃ¼fe deinen Posteingang.',
                                        style: TextStyle(color: Colors.green[200], fontSize: 14),
                                      ),
                                    ),
```

**uiLinkSenden** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:289:43`
- ğŸ“ Original: `'Link senden'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                        )
                                      : const Text(
                                          'Link senden',
                                          style: TextStyle(
                                            fontSize: 16,
                                            fontWeight: FontWeight.bold,
```

**uiStyleTextstyleColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\login_page.dart:392:66`
- ğŸ“ Original: `',
                                              style: TextStyle(
                                                color: Colors.grey[300],
                                                fontSize: 14,
                                              ),
                                            ),
                                          ),
                                        ],
                                      ),
                                      
                                      // Forgot Password Link
                                      TextButton(
                                        onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
});
                                            },
                                            child: Text(
                                              'Angemeldet bleiben',
                                              style: TextStyle(
                                                color: Colors.grey[300],
                                                fontSize: 14,
```

**uiStyleTextstyleFontsize** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\login_page.dart:474:58`
- ğŸ“ Original: `',
                                                style: TextStyle(
                                                  fontSize: 16,
                                                  fontWeight: FontWeight.bold,
                                                ),
                                              ),
                                      ),
                                    ),
                                  ),
                                  const SizedBox(height: 24),
                                  
                                  // Divider with text
                                  Row(
                                    children: [
                                      Expanded(
                                        child: Divider(
                                          color: Colors.grey[600],
                                          thickness: 1,
                                        ),
                                      ),
                                      Padding(
                                        padding: const EdgeInsets.symmetric(horizontal: 16),
                                        child: Text(
                                          '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                              )
                                            : const Text(
                                                'Anmelden',
                                                style: TextStyle(
                                                  fontSize: 16,
                                                  fontWeight: FontWeight.bold,
```

**uiStyleTextstyleColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\login_page.dart:497:48`
- ğŸ“ Original: `',
                                          style: TextStyle(
                                            color: Colors.grey[400],
                                            fontSize: 14,
                                          ),
                                        ),
                                      ),
                                      Expanded(
                                        child: Divider(
                                          color: Colors.grey[600],
                                          thickness: 1,
                                        ),
                                      ),
                                    ],
                                  ),
                                  const SizedBox(height: 16),
                                  
                                  // Social Login Buttons (Placeholder)
                                  Row(
                                    mainAxisAlignment: MainAxisAlignment.center,
                                    children: [
                                      // Google Login
                                      _buildSocialLoginButton(
                                        onPressed: () {
                                          ScaffoldMessenger.of(context).showSnackBar(
                                            const SnackBar(
                                              content: Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Padding(
                                        padding: const EdgeInsets.symmetric(horizontal: 16),
                                        child: Text(
                                          'oder',
                                          style: TextStyle(
                                            color: Colors.grey[400],
                                            fontSize: 14,
```

**uiConstSizedboxheight20** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\login_page.dart:541:55`
- ğŸ“ Original: `',
                                      ),
                                    ],
                                  ),
                                  const SizedBox(height: 20),
                                  
                                  // Register link
                                  Row(
                                    mainAxisAlignment: MainAxisAlignment.center,
                                    children: [
                                      Text(
                                        '`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
);
                                        },
                                        icon: Icons.code,
                                        label: 'GitHub',
                                      ),
                                    ],
                                  ),
```

**uiStyleThemeofcontexttextthemeheadlinemediumcopywithColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\register_page.dart:253:45`
- ğŸ“ Original: `',
                              style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                color: Colors.white,
                                fontWeight: FontWeight.bold,
                                fontSize: 24,
                              ),
                            ),
                            const SizedBox(height: 8),
                            Text(
                              '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                            const SizedBox(height: 20),
                            Text(
                              'Registrierung',
                              style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                color: Colors.white,
                                fontWeight: FontWeight.bold,
```

**uiStyleTextstyleFontsize** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\register_page.dart:462:54`
- ğŸ“ Original: `',
                                        style: TextStyle(
                                          fontSize: 16,
                                          fontWeight: FontWeight.bold,
                                        ),
                                      ),
                              ),
                            ),
                            const SizedBox(height: 20),

                            // Login link
                            Row(
                              mainAxisAlignment: MainAxisAlignment.center,
                              children: [
                                Text(
                                  '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      )
                                    : const Text(
                                        'Registrieren',
                                        style: TextStyle(
                                          fontSize: 16,
                                          fontWeight: FontWeight.bold,
```

**uiNeuesPasswortFestlegen** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\reset_password_page.dart:191:81`
- ğŸ“ Original: `'Neues Passwort festlegen'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 20),
                              
                              Text(
                                _isSuccess ? 'Passwort erfolgreich geÃ¤ndert!' : 'Neues Passwort festlegen',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.white,
                                  fontWeight: FontWeight.bold,
```

**uiDuWirstAutomatisch** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\reset_password_page.dart:202:37`
- ğŸ“ Original: `'Du wirst automatisch zur Anmeldung weitergeleitet...'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
                                _isSuccess 
                                  ? 'Du wirst automatisch zur Anmeldung weitergeleitet...'
                                  : 'Bitte gib dein neues Passwort ein.',
                                style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                  color: Colors.grey[300],
```

**uiBitteGibDein** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\reset_password_page.dart:203:37`
- ğŸ“ Original: `'Bitte gib dein neues Passwort ein.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
                                _isSuccess 
                                  ? 'Du wirst automatisch zur Anmeldung weitergeleitet...'
                                  : 'Bitte gib dein neues Passwort ein.',
                                style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                  color: Colors.grey[300],
                                  fontSize: 14,
```

**uiPasswortanforderungen** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\reset_password_page.dart:378:41`
- ğŸ“ Original: `'Passwort-Anforderungen:'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
crossAxisAlignment: CrossAxisAlignment.start,
                                    children: [
                                      const Text(
                                        'Passwort-Anforderungen:',
                                        style: TextStyle(
                                          color: Colors.white,
                                          fontSize: 14,
```

**uiStyleTextstyleFontsize** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\auth\reset_password_page.dart:450:67`
- ğŸ“ Original: `',
                                            style: TextStyle(
                                              fontSize: 16,
                                              fontWeight: FontWeight.bold,
                                            ),
                                          ),
                                  ),
                                ),
                              
                              const SizedBox(height: 20),
                              
                              // Back to login link
                              if (!_isSuccess)
                                TextButton(
                                  onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                          )
                                        : const Text(
                                            'Passwort zurÃ¼cksetzen',
                                            style: TextStyle(
                                              fontSize: 16,
                                              fontWeight: FontWeight.bold,
```

**uiStyleTextstyleColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_card.dart:368:79`
- ğŸ“ Original: `',
                        style: TextStyle(
                          color: Colors.grey[400],
                          fontSize: 14,
                        ),
                      ),
                    ],
                  ),
                ],
              );
            }
          ),
        ],
      ],
    );
  }

  Widget _buildActionButtons() {
    final List<Widget> buttons = [];
    
    // Status-basierte Button-Logik
    switch (world.status) {
      case WorldStatus.upcoming:
        // Vorregistrierung oder ZurÃ¼ckziehen
        if (isPreRegistered) {
          if (onCancelPreRegistration != null) {
            buttons.add(_buildButton(
              onPressed: onCancelPreRegistration,
              icon: Icons.cancel,
              label: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      const SizedBox(width: 4),
                      Text(
                        'Ende: ${endDate.day}.${endDate.month}.${endDate.year}',
                        style: TextStyle(
                          color: Colors.grey[400],
                          fontSize: 14,
```

**uiStyleTextstyleColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:60:22`
- ğŸ“ Original: `',
            style: TextStyle(
              color: Colors.grey[300],
              fontWeight: FontWeight.w600,
            ),
          ),
          const SizedBox(width: 8),
          ...WorldStatus.values.map((status) {
            final isSelected = statusFilter == status;
            return Padding(
              padding: const EdgeInsets.only(right: 8),
              child: FilterChip(
                selected: isSelected,
                label: Text(
                  _getStatusLabel(status),
                  style: TextStyle(
                    color: isSelected ? Colors.white : Colors.grey[300],
                  ),
                ),
                avatar: Icon(
                  _getStatusIcon(status),
                  size: 16,
                  color: isSelected ? Colors.white : _getStatusColor(status),
                ),
                onSelected: (selected) {
                  onStatusChanged(selected ? status : null);
                },
                backgroundColor: const Color(0xFF2D2D2D),
                selectedColor: _getStatusColor(status).withOpacity(0.3),
                checkmarkColor: Colors.white,
                side: BorderSide(
                  color: isSelected ? _getStatusColor(status) : Colors.grey[600]!,
                ),
              ),
            );
          }),
        ],
      ),
    );
  }

  Widget _buildCategoryFilter() {
    return SingleChildScrollView(
      scrollDirection: Axis.horizontal,
      padding: const EdgeInsets.symmetric(horizontal: 16),
      child: Row(
        children: [
          Text(
            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Row(
        children: [
          Text(
            'Status: ',
            style: TextStyle(
              color: Colors.grey[300],
              fontWeight: FontWeight.w600,
```

**uiStyleTextstyleColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:108:25`
- ğŸ“ Original: `',
            style: TextStyle(
              color: Colors.grey[300],
              fontWeight: FontWeight.w600,
            ),
          ),
          const SizedBox(width: 8),
          ...WorldCategory.values.map((category) {
            final isSelected = categoryFilter == category;
            return Padding(
              padding: const EdgeInsets.only(right: 8),
              child: FilterChip(
                selected: isSelected,
                label: Row(
                  mainAxisSize: MainAxisSize.min,
                  children: [
                    Icon(
                      _getCategoryIcon(category),
                      size: 16,
                      color: isSelected ? Colors.white : _getCategoryColor(category),
                    ),
                    const SizedBox(width: 4),
                    Text(
                      _getCategoryLabel(category),
                      style: TextStyle(
                        color: isSelected ? Colors.white : Colors.grey[300],
                      ),
                    ),
                  ],
                ),
                onSelected: (selected) {
                  onCategoryChanged(selected ? category : null);
                },
                backgroundColor: const Color(0xFF2D2D2D),
                selectedColor: _getCategoryColor(category).withOpacity(0.3),
                checkmarkColor: Colors.white,
                side: BorderSide(
                  color: isSelected ? _getCategoryColor(category) : Colors.grey[600]!,
                ),
              ),
            );
          }),
        ],
      ),
    );
  }

  Widget _buildSortOptions() {
    return Container(
      padding: const EdgeInsets.symmetric(horizontal: 16),
      child: Row(
        children: [
          Text(
            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Row(
        children: [
          Text(
            'Kategorie: ',
            style: TextStyle(
              color: Colors.grey[300],
              fontWeight: FontWeight.w600,
```

**uiStyleTextstyleColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:161:30`
- ğŸ“ Original: `',
            style: TextStyle(
              color: Colors.grey[300],
              fontWeight: FontWeight.w600,
            ),
          ),
          const SizedBox(width: 8),
          Container(
            height: 40,
            padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 4),
            decoration: BoxDecoration(
              color: const Color(0xFF2D2D2D),
              borderRadius: BorderRadius.circular(8),
              border: Border.all(color: Colors.grey[600]!),
            ),
            child: DropdownButton<String>(
              value: sortBy,
              dropdownColor: const Color(0xFF2D2D2D),
              style: const TextStyle(color: Colors.white),
              underline: Container(),
              icon: Icon(Icons.arrow_drop_down, color: Colors.grey[300]),
              items: const [
                DropdownMenuItem(
                  value: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Row(
        children: [
          Text(
            'Sortieren nach: ',
            style: TextStyle(
              color: Colors.grey[300],
              fontWeight: FontWeight.w600,
```

**uiChildText** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:184:36`
- ğŸ“ Original: `',
                  child: Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
icon: Icon(Icons.arrow_drop_down, color: Colors.grey[300]),
              items: const [
                DropdownMenuItem(
                  value: 'startDate',
                  child: Text('Startdatum'),
                ),
                DropdownMenuItem(
```

**uiDropdownmenuitemValue** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:185:42`
- ğŸ“ Original: `'),
                ),
                DropdownMenuItem(
                  value: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
items: const [
                DropdownMenuItem(
                  value: 'startDate',
                  child: Text('Startdatum'),
                ),
                DropdownMenuItem(
                  value: 'name',
```

**uiChildText** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:188:31`
- ğŸ“ Original: `',
                  child: Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Text('Startdatum'),
                ),
                DropdownMenuItem(
                  value: 'name',
                  child: Text('Name'),
                ),
                DropdownMenuItem(
```

**uiDropdownmenuitemValue** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:189:36`
- ğŸ“ Original: `'),
                ),
                DropdownMenuItem(
                  value: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                DropdownMenuItem(
                  value: 'name',
                  child: Text('Name'),
                ),
                DropdownMenuItem(
                  value: 'status',
```

**uiChildText** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:192:33`
- ğŸ“ Original: `',
                  child: Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Text('Name'),
                ),
                DropdownMenuItem(
                  value: 'status',
                  child: Text('Status'),
                ),
                DropdownMenuItem(
```

**uiDropdownmenuitemValue** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:193:38`
- ğŸ“ Original: `'),
                ),
                DropdownMenuItem(
                  value: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                DropdownMenuItem(
                  value: 'status',
                  child: Text('Status'),
                ),
                DropdownMenuItem(
                  value: 'playerCount',
```

**uiAktiveFilter** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\widgets\world_filters.dart:236:13`
- ğŸ“ Original: `'Aktive Filter: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Row(
        children: [
          Text(
            'Aktive Filter: ',
            style: TextStyle(
              color: Colors.grey[400],
              fontSize: 12,
```

**uiIfExpiresatNull** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:267:28`
- ğŸ“ Original: `';
    if (expiresAt != null) {
      final expiresAtLocal = expiresAt.toLocal();
      final dateStr = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
: 'beizutreten';
    
    // GÃ¼ltigkeitstext erstellen
    String validityText = '';
    if (expiresAt != null) {
      final expiresAtLocal = expiresAt.toLocal();
      final dateStr = '${expiresAtLocal.day.toString().padLeft(2, '0')}.${expiresAtLocal.month.toString().padLeft(2, '0')}.${expiresAtLocal.year} ${expiresAtLocal.hour.toString().padLeft(2, '0')}:${expiresAtLocal.minute.toString().padLeft(2, '0')}';
```

**uiActiontext** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:325:60`
- ğŸ“ Original: `');
        actionText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
break;
        
      default:
        AppLogger.app.w('âŒ Unbekannter User-Status: $status');
        actionText = 'Unbekannter Status: $status';
        infoText = '$baseInfoText\n\n$actionText';
    }
```

**uiInfotext** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:326:50`
- ğŸ“ Original: `';
        infoText = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
default:
        AppLogger.app.w('âŒ Unbekannter User-Status: $status');
        actionText = 'Unbekannter Status: $status';
        infoText = '$baseInfoText\n\n$actionText';
    }
```

**uiTabIconIconiconsrule_outlined** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:1253:42`
- ğŸ“ Original: `',
                    ),
                    Tab(
                      icon: Icon(Icons.rule_outlined),
                      text: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
tabs: const [
                    Tab(
                      icon: Icon(Icons.description_outlined),
                      text: 'Beschreibung',
                    ),
                    Tab(
                      icon: Icon(Icons.rule_outlined),
```

**uiTabIconIconiconsanalytics_outlined** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:1257:41`
- ğŸ“ Original: `',
                    ),
                    Tab(
                      icon: Icon(Icons.analytics_outlined),
                      text: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                    Tab(
                      icon: Icon(Icons.rule_outlined),
                      text: 'Spielregeln',
                    ),
                    Tab(
                      icon: Icon(Icons.analytics_outlined),
```

**uiTabContentSizedbox** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:1261:41`
- ğŸ“ Original: `',
                    ),
                  ],
                ),
              ),
              
              // Tab Content
              SizedBox(
                height: 300, // Feste HÃ¶he fÃ¼r Tab-Content
                child: TabBarView(
                  controller: _tabController,
                  children: [
                    _buildDescriptionTab(),
                    _buildRulesTab(),
                    _buildStatisticsTab(),
                  ],
                ),
              ),
              
              // Action Buttons
              Container(
                padding: const EdgeInsets.all(24),
                decoration: const BoxDecoration(
                  color: Color(0xFF1A1A1A),
                  borderRadius: BorderRadius.only(
                    bottomLeft: Radius.circular(24),
                    bottomRight: Radius.circular(24),
                  ),
                ),
                child: Column(
                  children: [
                    _buildActionButtons(),
                    
                    // Join-Fehler anzeigen
                    if (_joinError != null) ...[
                      const SizedBox(height: 16),
                      Container(
                        padding: const EdgeInsets.all(12),
                        decoration: BoxDecoration(
                          color: Colors.red.withOpacity(0.1),
                          borderRadius: BorderRadius.circular(8),
                          border: Border.all(color: Colors.red.withOpacity(0.3)),
                        ),
                        child: Row(
                          children: [
                            Icon(Icons.error_outline, color: Colors.red[400], size: 20),
                            const SizedBox(width: 8),
                            Expanded(
                              child: Text(
                                _joinError ?? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
                    Tab(
                      icon: Icon(Icons.analytics_outlined),
                      text: 'Statistiken',
                    ),
                  ],
                ),
```

**uiStyleTextstyleColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:1374:29`
- ğŸ“ Original: `',
                style: TextStyle(
                  color: Colors.white,
                  fontSize: 18,
                  fontWeight: FontWeight.bold,
                ),
              ),
            ],
          ),
          const SizedBox(height: 16),
          _buildRuleItem('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Icon(Icons.rule, color: AppTheme.primaryColor, size: 24),
              SizedBox(width: 8),
              Text(
                'Spielregeln',
                style: TextStyle(
                  color: Colors.white,
                  fontSize: 18,
```

**uiEntscheidungenDerSpielleitung** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:1388:32`
- ğŸ“ Original: `'Entscheidungen der Spielleitung sind final'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_buildRuleItem('2.', 'Keine Cheats oder Exploits verwenden'),
          _buildRuleItem('3.', 'Faire Spielweise ist Pflicht'),
          _buildRuleItem('4.', 'Kommunikation nur im Spielchat'),
          _buildRuleItem('5.', 'Entscheidungen der Spielleitung sind final'),
        ],
      ),
    );
```

**uiStyleThemeofcontexttextthemebodysmallcopywithColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_join_page.dart:1568:23`
- ğŸ“ Original: `',
              style: Theme.of(context).textTheme.bodySmall?.copyWith(
                color: Colors.grey[400],
                fontWeight: FontWeight.w500,
              ),
            ),
          ),
          Expanded(
            child: Text(
              value,
              style: Theme.of(context).textTheme.bodySmall?.copyWith(
                color: Colors.white,
              ),
            ),
          ),
        ],
      ),
    );
  }
  
  Widget _buildActionButtons() {
    List<Widget> buttons = [];

    // **LOGIN BUTTON (wenn User existiert aber nicht angemeldet)**
    if (_showLoginButton && _inviteEmail != null) {
      buttons.add(
        Container(
          width: double.infinity,
          margin: const EdgeInsets.only(bottom: 12.0),
          child: ElevatedButton(
            onPressed: () {
              // Redirect auf Login-Seite mit E-Mail vorausgefÃ¼llt
              final loginRoute = '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
SizedBox(
            width: 80,
            child: Text(
              '$label:',
              style: Theme.of(context).textTheme.bodySmall?.copyWith(
                color: Colors.grey[400],
                fontWeight: FontWeight.w500,
```

**uiStyleThemeofcontexttextthemebodymediumcopywithColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_list_page.dart:731:79`
- ğŸ“ Original: `',
                                        style: Theme.of(context).textTheme.bodyMedium?.copyWith(
                                          color: Colors.grey[400],
                                        ),
                                        textAlign: TextAlign.center,
                                      ),
                                    ],
                                  ),
                                )
                              else
                                Column(
                                  children: _filteredWorlds.map((world) => WorldCard(
                                    world: world,
                                    playerCount: _playerCounts[world.id] ?? 0,
                                    category: _getWorldCategory(world),
                                    isPreRegistered: _preRegisteredWorlds[world.id] ?? false,
                                    isJoined: _joinedWorlds[world.id] ?? false,
                                    onJoin: world.canJoin && !(_joinedWorlds[world.id] ?? false) 
                                      ? () => _joinWorld(world) 
                                      : null,
                                    onLeave: (_joinedWorlds[world.id] ?? false)
                                      ? () => _leaveWorld(world)
                                      : null,
                                    onPlay: (_joinedWorlds[world.id] ?? false) && 
                                            (world.status == WorldStatus.open || world.status == WorldStatus.running)
                                      ? () => _playWorld(world)
                                      : null,
                                    onPreRegister: world.canPreRegister && !(_preRegisteredWorlds[world.id] ?? false)
                                      ? () => _preRegisterWorld(world)
                                      : null,
                                    onCancelPreRegistration: (_preRegisteredWorlds[world.id] ?? false)
                                      ? () => _cancelPreRegistration(world)
                                      : null,
                                    onInvite: world.canInvite
                                      ? () => _createInvite(world)
                                      : null,
                                    onTap: () => _navigateToWorldJoin(world),
                                  )).toList(),
                                ),
                              
                              const SizedBox(height: 24),
                              
                              // Action buttons
                              Row(
                                mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                                children: [
                                  SizedBox(
                                    height: 48,
                                    child: ElevatedButton.icon(
                                      onPressed: _loadWorlds,
                                      icon: const Icon(Icons.refresh),
                                      label: const Text('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      const SizedBox(height: 8),
                                      Text(
                                        'Versuche andere Filter-Einstellungen.',
                                        style: Theme.of(context).textTheme.bodyMedium?.copyWith(
                                          color: Colors.grey[400],
                                        ),
```

**uiStyleTextstyleColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\invite_dialog.dart:70:86`
- ğŸ“ Original: `',
              style: TextStyle(
                color: Colors.grey[300],
              ),
            ),
            const SizedBox(height: 16),
            TextFormField(
              controller: _emailController,
              autofocus: true, // Barrierefreiheit: Sofortiger Fokus
              keyboardType: TextInputType.emailAddress,
              style: const TextStyle(color: Colors.white), // WeiÃŸe Schrift
              decoration: InputDecoration(
                labelText: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisSize: MainAxisSize.min,
          children: [
            Text(
              'Geben Sie die E-Mail-Adresse der Person ein, die Sie einladen mÃ¶chten:',
              style: TextStyle(
                color: Colors.grey[300],
              ),
```

**uiBackgroundcolorColorsgreenCatch** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:43:57`
- ğŸ“ Original: `'),
            backgroundColor: Colors.green,
          ),
        );
      }
    } catch (e) {
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
Navigator.of(context).pop(true);
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('Vorregistrierung erfolgreich!'),
            backgroundColor: Colors.green,
          ),
        );
```

### ğŸ·ï¸ WORLD

**worldCoreproviderslocale_providerdart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:12:8`
- ğŸ“ Original: `'core/providers/locale_provider.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'core/services/api_service.dart';
import 'core/services/world_service.dart';
import 'core/services/invite_service.dart';
import 'core/providers/locale_provider.dart';
import 'l10n/app_localizations.dart';

class WeltenwindApp extends StatefulWidget {
```

**worldClassWeltenwindappExtends** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:13:36`
- ğŸ“ Original: `';

class WeltenwindApp extends StatefulWidget {
  const WeltenwindApp({super.key});

  @override
  State<WeltenwindApp> createState() => _WeltenwindAppState();
}

class _WeltenwindAppState extends State<WeltenwindApp> {
  final LocaleProvider _localeProvider = LocaleProvider();
  
  @override
  void initState() {
    super.initState();
    // Listener fÃ¼r Locale-Ã„nderungen
    _localeProvider.addListener(() {
      setState(() {});
    });
  }
  
  @override
  void dispose() {
    _localeProvider.removeListener(() {});
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    AppLogger.app.d('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'core/services/world_service.dart';
import 'core/services/invite_service.dart';
import 'core/providers/locale_provider.dart';
import 'l10n/app_localizations.dart';

class WeltenwindApp extends StatefulWidget {
  const WeltenwindApp({super.key});
```

**worldReturnSplashscreenInitializationfunction** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:42:53`
- ğŸ“ Original: `');
    
    return SplashScreen(
      initializationFunction: _initializeApp,
      timeout: const Duration(seconds: 8),
      onTimeout: _onTimeout,
      initSteps: const [
        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
@override
  Widget build(BuildContext context) {
    AppLogger.app.d('ğŸ—ï¸ WeltenwindApp wird gebaut...');
    
    return SplashScreen(
      initializationFunction: _initializeApp,
```

**worldStaticConstString** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\env.dart:10:44`
- ğŸ“ Original: `';
  static const String appVersion = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String worldsEndpoint = '$apiBasePath/worlds';
  
  // App Configuration
  static const String appName = 'Weltenwind';
  static const String appVersion = '1.0.0';
  
  // Storage Keys
```

**worldPackageloggerloggerdart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:1:8`
- ğŸ“ Original: `'package:logger/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:logger/logger.dart';
import 'package:flutter/foundation.dart';

/// Zentrale Logger-Konfiguration fÃ¼r Weltenwind Flutter Client
```

**worldPackageflutterfoundationdart** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:2:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:logger/logger.dart';
import 'package:flutter/foundation.dart';

/// Zentrale Logger-Konfiguration fÃ¼r Weltenwind Flutter Client
class AppLogger {
```

**worldNullDatetimeparsejson** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\models\world.dart:36:27`
- ğŸ“ Original: `'] != null ? DateTime.parse(json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
),
      createdAt: DateTime.parse(json['createdAt']),
      startsAt: DateTime.parse(json['startsAt']),
      endsAt: json['endsAt'] != null ? DateTime.parse(json['endsAt']) : null,
    );
  }
```

**worldTrueResponsedata** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\world_service.dart:383:34`
- ğŸ“ Original: `'] == true && responseData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        if (responseData['success'] == true && responseData['data'] != null) {
          return responseData['data'];
        }
      }
```

**worldNullReturnResponsedata** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\world_service.dart:383:66`
- ğŸ“ Original: `'] != null) {
          return responseData['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        if (responseData['success'] == true && responseData['data'] != null) {
          return responseData['data'];
        }
      }
```

**worldReturnNullCatch** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\core\services\world_service.dart:384:36`
- ğŸ“ Original: `'];
        }
      }
      
      return null;
    } catch (e) {
      AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (response.statusCode == 200) {
        final responseData = jsonDecode(response.body);
        if (responseData['success'] == true && responseData['data'] != null) {
          return responseData['data'];
        }
      }
```

**worldStyleThemeofcontexttextthemeheadlinemediumcopywithColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:73:46`
- ğŸ“ Original: `',
                              style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                color: Colors.white,
                                fontWeight: FontWeight.bold,
                              ),
                            ),
                            const SizedBox(height: 16),
                            
                            // Subtitle
                            Text(
                              '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Title
                            Text(
                              'Welt-Dashboard',
                              style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                color: Colors.white,
                                fontWeight: FontWeight.bold,
```

**worldStyleThemeofcontexttextthemebodylargecopywithColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:83:49`
- ğŸ“ Original: `',
                              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                color: Colors.grey[300],
                              ),
                            ),
                            const SizedBox(height: 32),
                            
                            // Info message
                            Container(
                              padding: const EdgeInsets.all(16),
                              decoration: BoxDecoration(
                                color: AppTheme.primaryColor.withOpacity(0.1),
                                borderRadius: BorderRadius.circular(12),
                                border: Border.all(
                                  color: AppTheme.primaryColor.withOpacity(0.3),
                                ),
                              ),
                              child: Row(
                                children: [
                                  const Icon(
                                    Icons.construction,
                                    color: AppTheme.primaryColor,
                                    size: 24,
                                  ),
                                  const SizedBox(width: 12),
                                  Expanded(
                                    child: Text(
                                      '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Subtitle
                            Text(
                              'Welt ID: $worldId',
                              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                color: Colors.grey[300],
                              ),
```

**worldStyleTextstyleFontsize** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:247:56`
- ğŸ“ Original: `',
                                            style: TextStyle(
                                              fontSize: 56,
                                              fontWeight: FontWeight.bold,
                                              color: Colors.white,
                                              letterSpacing: 3,
                                              shadows: [
                                                Shadow(
                                                  color: AppTheme.primaryColor.withOpacity(0.5),
                                                  blurRadius: 20,
                                                ),
                                              ],
                                            ),
                                          ),
                                        ),
                                        
                                        const SizedBox(height: 20),
                                        
                                        // Enhanced Subtitle
                                        Text(
                                          '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
stops: const [0.0, 0.5, 1.0],
                                          ).createShader(bounds),
                                          child: Text(
                                            'Weltenwind',
                                            style: TextStyle(
                                              fontSize: 56,
                                              fontWeight: FontWeight.bold,
```

**worldStyleTextstyleColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:267:77`
- ğŸ“ Original: `',
                                          style: TextStyle(
                                            color: Colors.grey[200],
                                            fontSize: 22,
                                            fontWeight: FontWeight.w300,
                                            letterSpacing: 1,
                                          ),
                                          textAlign: TextAlign.center,
                                        ),
                                        
                                        const SizedBox(height: 12),
                                        
                                        // Tagline
                                        Container(
                                          padding: const EdgeInsets.symmetric(horizontal: 20, vertical: 8),
                                          decoration: BoxDecoration(
                                            border: Border.all(
                                              color: AppTheme.primaryColor.withOpacity(0.3),
                                            ),
                                            borderRadius: BorderRadius.circular(20),
                                          ),
                                          child: Text(
                                            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Enhanced Subtitle
                                        Text(
                                          'Dein Portal zu unendlichen Welten',
                                          style: TextStyle(
                                            color: Colors.grey[200],
                                            fontSize: 22,
```

**worldStyleTextstyleFontsize** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:479:61`
- ğŸ“ Original: `',
                            style: TextStyle(
                              fontSize: 32,
                              fontWeight: FontWeight.bold,
                              color: Colors.white,
                            ),
                            textAlign: TextAlign.center,
                          ),
                          const SizedBox(height: 16),
                          Text(
                            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Column(
                        children: [
                          const Text(
                            'Was macht Weltenwind besonders?',
                            style: TextStyle(
                              fontSize: 32,
                              fontWeight: FontWeight.bold,
```

**worldDescription** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:513:62`
- ğŸ“ Original: `',
                                    description: '`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
children: [
                                  _buildFeatureCard(
                                    icon: Icons.public,
                                    title: 'Unendliche Welten',
                                    description: 'Erkunde hunderte einzigartige Spielwelten oder erschaffe deine eigene',
                                    color: Colors.blue,
                                  ),
```

**worldDescription** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:519:54`
- ğŸ“ Original: `',
                                    description: '`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
),
                                  _buildFeatureCard(
                                    icon: Icons.group,
                                    title: 'Community',
                                    description: 'Verbinde dich mit Spielern aus der ganzen Welt',
                                    color: Colors.green,
                                  ),
```

**worldColorColorsgreen_buildfeaturecard** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:520:97`
- ğŸ“ Original: `',
                                    color: Colors.green,
                                  ),
                                  _buildFeatureCard(
                                    icon: Icons.security,
                                    title: '`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.group,
                                    title: 'Community',
                                    description: 'Verbinde dich mit Spielern aus der ganzen Welt',
                                    color: Colors.green,
                                  ),
                                  _buildFeatureCard(
```

**worldSchlieÃŸeDichTausenden** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:581:35`
- ğŸ“ Original: `'SchlieÃŸe dich tausenden Spielern an und starte noch heute!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                const SizedBox(height: 16),
                                Text(
                                  'SchlieÃŸe dich tausenden Spielern an und starte noch heute!',
                                  style: TextStyle(
                                    fontSize: 16,
                                    color: Colors.grey[300],
```

**world2024WeltenwindAlle** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:633:25`
- ğŸ“ Original: `'Â© 2024 Weltenwind. Alle Rechte vorbehalten.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Column(
                    children: [
                      Text(
                        'Â© 2024 Weltenwind. Alle Rechte vorbehalten.',
                        style: TextStyle(
                          color: Colors.grey[600],
                          fontSize: 14,
```

**world_sortascendingTrue_applyfiltersandsorting** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\controllers\world_list_controller.dart:117:25`
- ğŸ“ Original: `';
    _sortAscending = true;
    _applyFiltersAndSorting();
  }

  void _applyFiltersAndSorting() {
    var filtered = List<World>.from(_worlds);

    // Apply status filter
    if (_statusFilter != null) {
      filtered = filtered.where((world) => world.status == _statusFilter).toList();
    }

    // Apply category filter
    if (_categoryFilter != null) {
      filtered = filtered.where((world) {
        return _getWorldCategory(world) == _categoryFilter;
      }).toList();
    }

    // Apply sorting
    filtered.sort((a, b) {
      int comparison = 0;

      switch (_sortBy) {
        case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void resetFilters() {
    _statusFilter = null;
    _categoryFilter = null;
    _sortBy = 'startDate';
    _sortAscending = true;
    _applyFiltersAndSorting();
  }
```

**world_sortascendingTrue_applyfiltersandsorting** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\features\world\world_list_page.dart:652:59`
- ğŸ“ Original: `';
                                      _sortAscending = true;
                                    });
                                    _applyFiltersAndSorting();
                                  },
                                ),
                                const SizedBox(height: 16),
                              ],
                              
                              // World list
                              if (_isLoading)
                                const Center(
                                  child: CircularProgressIndicator(
                                    valueColor: AlwaysStoppedAnimation<Color>(AppTheme.primaryColor),
                                  ),
                                )
                              else if (_error != null)
                                Container(
                                  padding: const EdgeInsets.all(16),
                                  decoration: BoxDecoration(
                                    color: (Colors.red[900] ?? Colors.red).withOpacity(0.3),
                                    borderRadius: BorderRadius.circular(12),
                                    border: Border.all(
                                      color: (Colors.red[400] ?? Colors.red).withOpacity(0.5),
                                    ),
                                  ),
                                  child: Column(
                                    children: [
                                      Icon(
                                        Icons.error,
                                        size: 48,
                                        color: Colors.red[400],
                                      ),
                                      const SizedBox(height: 16),
                                      Text(
                                        '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
setState(() {
                                      _statusFilter = null;
                                      _categoryFilter = null;
                                      _sortBy = 'startDate';
                                      _sortAscending = true;
                                    });
                                    _applyFiltersAndSorting();
```

**worldStyleThemeofcontexttextthemeheadlinemediumcopywithColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:583:41`
- ğŸ“ Original: `',
                    style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                      color: AppTheme.textPrimary,
                      fontWeight: FontWeight.bold,
                    ),
                  ),
                  const SizedBox(height: 16),
                  Text(
                    '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 24),
                  Text(
                    'Welt nicht gefunden',
                    style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                      color: AppTheme.textPrimary,
                      fontWeight: FontWeight.bold,
```

**worldStyleThemeofcontexttextthemebodylargecopywithColor** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:591:80`
- ğŸ“ Original: `',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
                    textAlign: TextAlign.center,
                  ),
                  const SizedBox(height: 32),
                  ElevatedButton.icon(
                    onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 16),
                  Text(
                    'Die angeforderte Welt existiert nicht oder wurde entfernt.',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
```

**worldBackgroundcolorColorsorange700Duration** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:61:91`
- ğŸ“ Original: `'),
        backgroundColor: Colors.orange[700],
        duration: const Duration(seconds: 3),
      ),
    );
  }
  
  List<NavigationItem> _getNavigationItems() {
    final items = <NavigationItem>[];
    
    // ZurÃ¼ck-Button (wenn nicht auf world-list)
    if (widget.currentRoute != '`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
void _showJoinRequiredMessage() {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(
        content: const Text('Sie mÃ¼ssen erst der Welt beitreten, um das Dashboard zu sehen'),
        backgroundColor: Colors.orange[700],
        duration: const Duration(seconds: 3),
      ),
```

**worldReturnTooltipMessage** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:357:53`
- ğŸ“ Original: `')) {
      return Tooltip(
        message: '`
- ğŸ¯ Widget: Widget: Tooltip
- ğŸ”§ Context:
```dart
);
    
    // Tooltip hinzufÃ¼gen wenn disabled
    if (isDisabled && item.label.contains('Dashboard')) {
      return Tooltip(
        message: 'Sie mÃ¼ssen der Welt beitreten, um das Dashboard zu sehen',
        child: widget,
```

**worldReturnColorsindigo400Colorsindigo** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:73:24`
- ğŸ“ Original: `':
        return Colors.indigo[400] ?? Colors.indigo;
      case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return Colors.blue[400] ?? Colors.blue;
      case 'mod':
        return Colors.orange[400] ?? Colors.orange;
      case 'world-admin':
        return Colors.indigo[400] ?? Colors.indigo;
      case 'user':
      default:
```

**worldDefaultReturnColorsgreen400** âš ï¸ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:75:17`
- ğŸ“ Original: `':
      default:
        return Colors.green[400] ?? Colors.green;
    }
  }
  
  @override
  Widget build(BuildContext context) {
    final user = _authService.currentUser;
    if (user == null) return const SizedBox.shrink();
    
    return Positioned(
      top: 16,
      left: 16,
      child: FadeTransition(
        opacity: _fadeAnimation,
        child: GestureDetector(
          onTap: _toggleExpanded,
          child: AnimatedContainer(
            duration: const Duration(milliseconds: 300),
            width: _isExpanded ? 320 : 180,
            decoration: BoxDecoration(
              color: const Color(0xFF1A1A1A).withOpacity(0.95),
              borderRadius: BorderRadius.circular(16),
              border: Border.all(
                color: AppTheme.primaryColor.withOpacity(0.3),
                width: 1,
              ),
              boxShadow: [
                BoxShadow(
                  color: Colors.black.withOpacity(0.3),
                  blurRadius: 12,
                  offset: const Offset(0, 4),
                ),
              ],
            ),
            child: Material(
              color: Colors.transparent,
              child: InkWell(
                onTap: _toggleExpanded,
                borderRadius: BorderRadius.circular(16),
                child: Padding(
                  padding: const EdgeInsets.all(12.0),
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      // Header mit Avatar und Name
                      Row(
                        children: [
                          // Avatar
                          Container(
                            width: 40,
                            height: 40,
                            decoration: BoxDecoration(
                              color: AppTheme.primaryColor.withOpacity(0.2),
                              shape: BoxShape.circle,
                              border: Border.all(
                                color: AppTheme.primaryColor.withOpacity(0.5),
                                width: 2,
                              ),
                            ),
                            child: Center(
                              child: Text(
                                user.username.substring(0, 1).toUpperCase(),
                                style: const TextStyle(
                                  color: AppTheme.primaryColor,
                                  fontSize: 18,
                                  fontWeight: FontWeight.bold,
                                ),
                              ),
                            ),
                          ),
                          const SizedBox(width: 12),
                          // Name und Status
                          Expanded(
                            child: Column(
                              crossAxisAlignment: CrossAxisAlignment.start,
                              children: [
                                Row(
                                  children: [
                                    Flexible(
                                      child: Text(
                                        user.username,
                                        style: const TextStyle(
                                          color: Colors.white,
                                          fontSize: 16,
                                          fontWeight: FontWeight.bold,
                                        ),
                                        overflow: TextOverflow.ellipsis,
                                      ),
                                    ),
                                    if (user.isLocked ?? false) ...[
                                      const SizedBox(width: 8),
                                      Icon(
                                        Icons.lock,
                                        color: Colors.red[400],
                                        size: 16,
                                      ),
                                    ],
                                  ],
                                ),
                                if (!_isExpanded)
                                  Text(
                                    '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return Colors.orange[400] ?? Colors.orange;
      case 'world-admin':
        return Colors.indigo[400] ?? Colors.indigo;
      case 'user':
      default:
        return Colors.green[400] ?? Colors.green;
    }
```

### ğŸ·ï¸ FORM

**formDatevaluez** â“ (Confidence: 0.6)
- ğŸ“ `lib\core\models\user.dart:145:33`
- ğŸ“ Original: `'${dateValue}Z'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
} catch (e) {
        // Try different date formats
        try {
          return DateTime.parse('${dateValue}Z'); // Add Z if missing timezone
        } catch (e2) {
          // If all parsing fails, return current time
          return DateTime.now();
```

**formDetailsinformationcollectortostringInDebug** â“ (Confidence: 0.6)
- ğŸ“ `lib\main.dart:48:30`
- ğŸ“ Original: `': details.informationCollector?.toString(),
      },
    );
    
    // In Debug Mode auch zur Console
    if (kDebugMode) {
      FlutterError.presentError(details);
    }
  };

  // Dart Error Handling (fÃ¼r unhandled exceptions)
  WidgetsBinding.instance.platformDispatcher.onError = (error, stack) {
    AppLogger.logError(
      '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
context: {
        'library': details.library,
        'context': details.context?.toString(),
        'informationCollector': details.informationCollector?.toString(),
      },
    );
```

### ğŸ·ï¸ NAVIGATION

**navigationPackageflutter_localizationsflutter_localizationsdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:2:8`
- ğŸ“ Original: `'package:flutter_localizations/flutter_localizations.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';
import 'config/env.dart';
import 'config/logger.dart';
import 'routing/app_router.dart';
```

**navigationConfigenvdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:3:8`
- ğŸ“ Original: `'config/env.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';
import 'config/env.dart';
import 'config/logger.dart';
import 'routing/app_router.dart';
import 'shared/widgets/splash_screen.dart';
```

**navigationConfigloggerdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:4:8`
- ğŸ“ Original: `'config/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';
import 'config/env.dart';
import 'config/logger.dart';
import 'routing/app_router.dart';
import 'shared/widgets/splash_screen.dart';
import 'main.dart';
```

**navigationRoutingapp_routerdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:5:8`
- ğŸ“ Original: `'routing/app_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter_localizations/flutter_localizations.dart';
import 'config/env.dart';
import 'config/logger.dart';
import 'routing/app_router.dart';
import 'shared/widgets/splash_screen.dart';
import 'main.dart';
import 'core/services/auth_service.dart';
```

**navigationSharedwidgetssplash_screendart** â“ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:6:8`
- ğŸ“ Original: `'shared/widgets/splash_screen.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'config/env.dart';
import 'config/logger.dart';
import 'routing/app_router.dart';
import 'shared/widgets/splash_screen.dart';
import 'main.dart';
import 'core/services/auth_service.dart';
import 'core/services/api_service.dart';
```

**navigationCoreservicesauth_servicedart** â“ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:8:8`
- ğŸ“ Original: `'core/services/auth_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'routing/app_router.dart';
import 'shared/widgets/splash_screen.dart';
import 'main.dart';
import 'core/services/auth_service.dart';
import 'core/services/api_service.dart';
import 'core/services/world_service.dart';
import 'core/services/invite_service.dart';
```

**navigationBereit** â“ (Confidence: 0.6)
- ğŸ“ `lib\app.dart:53:9`
- ğŸ“ Original: `'Bereit!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'Lade Konfiguration...',
        'Starte Services...',
        'PrÃ¼fe Authentifizierung...',
        'Bereit!',
      ],
      appName: Env.appName,
      child: MaterialApp.router(
```

**navigationLevelKdebugmodeLeveldebug** â“ (Confidence: 0.6)
- ğŸ“ `lib\config\logger.dart:35:45`
- ğŸ“ Original: `'),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );

    _errorLogger = Logger(
      printer: _getLogPrinter(prefix: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);

    _navigationLogger = Logger(
      printer: _getLogPrinter(prefix: '[NAV]'),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );
```

**navigationConfigenvdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:4:8`
- ğŸ“ Original: `'../../config/env.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'package:flutter/foundation.dart';
import 'package:http/http.dart' as http;
import '../../config/env.dart';
import '../../config/logger.dart';
import 'auth_service.dart';
import '../../routing/app_router.dart';
```

**navigationConfigloggerdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:5:8`
- ğŸ“ Original: `'../../config/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/foundation.dart';
import 'package:http/http.dart' as http;
import '../../config/env.dart';
import '../../config/logger.dart';
import 'auth_service.dart';
import '../../routing/app_router.dart';
```

**navigationRoutingapp_routerdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\core\services\api_service.dart:7:8`
- ğŸ“ Original: `'../../routing/app_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../config/env.dart';
import '../../config/logger.dart';
import 'auth_service.dart';
import '../../routing/app_router.dart';

class ApiService {
  static final ApiService _instance = ApiService._internal();
```

**navigationSharedwidgetsuser_info_widgetdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:4:8`
- ğŸ“ Original: `'../../shared/widgets/user_info_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';

class DashboardPage extends StatelessWidget {
```

**navigationSharedwidgetsnavigation_widgetdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:5:8`
- ğŸ“ Original: `'../../shared/widgets/navigation_widget.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../shared/widgets/user_info_widget.dart';
import '../../shared/widgets/navigation_widget.dart';

class DashboardPage extends StatelessWidget {
  final String worldId;
```

**navigationRouteparams** â“ (Confidence: 0.6)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:134:45`
- ğŸ“ Original: `',
              routeParams: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Navigation widget in top-right corner
            NavigationWidget(
              currentRoute: 'world-dashboard',
              routeParams: {'id': worldId},
              isJoinedWorld: true, // User muss in der Welt sein um das Dashboard zu sehen
            ),
```

**navigationPackagefluttermaterialdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
```

**navigationPackagego_routergo_routerdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:2:8`
- ğŸ“ Original: `'package:go_router/go_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import 'dart:math' as math;
```

**navigationAsMathClass** â“ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:5:18`
- ğŸ“ Original: `' as math;

class LandingPage extends StatefulWidget {
  const LandingPage({super.key});

  @override
  State<LandingPage> createState() => _LandingPageState();
}

class _LandingPageState extends State<LandingPage> with TickerProviderStateMixin {
  late AnimationController _fadeController;
  late AnimationController _slideController;
  late AnimationController _pulseController;
  late AnimationController _featureController;
  late Animation<double> _fadeAnimation;
  late Animation<Offset> _slideAnimation;
  late Animation<double> _pulseAnimation;
  late Animation<double> _featureAnimation;
  
  final ScrollController _scrollController = ScrollController();
  bool _showFeatures = false;

  @override
  void initState() {
    super.initState();
    
    // Main animations
    _fadeController = AnimationController(
      duration: const Duration(milliseconds: 1500),
      vsync: this,
    );
    
    _slideController = AnimationController(
      duration: const Duration(milliseconds: 1200),
      vsync: this,
    );
    
    // Logo pulse animation
    _pulseController = AnimationController(
      duration: const Duration(seconds: 2),
      vsync: this,
    )..repeat(reverse: true);
    
    // Feature animation
    _featureController = AnimationController(
      duration: const Duration(milliseconds: 800),
      vsync: this,
    );
    
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _fadeController,
      curve: Curves.easeInOut,
    ));
    
    _slideAnimation = Tween<Offset>(
      begin: const Offset(0, 0.3),
      end: Offset.zero,
    ).animate(CurvedAnimation(
      parent: _slideController,
      curve: Curves.easeOutCubic,
    ));
    
    _pulseAnimation = Tween<double>(
      begin: 0.95,
      end: 1.05,
    ).animate(CurvedAnimation(
      parent: _pulseController,
      curve: Curves.easeInOut,
    ));
    
    _featureAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _featureController,
      curve: Curves.easeOutBack,
    ));
    
    // Start animations
    _fadeController.forward();
    Future.delayed(const Duration(milliseconds: 300), () {
      _slideController.forward();
    });
    
    // Show features after main animation
    Future.delayed(const Duration(milliseconds: 1800), () {
      if (mounted) {
        setState(() {
          _showFeatures = true;
        });
        _featureController.forward();
      }
    });
  }

  @override
  void dispose() {
    _fadeController.dispose();
    _slideController.dispose();
    _pulseController.dispose();
    _featureController.dispose();
    _scrollController.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    
    return Scaffold(
      body: BackgroundWidget(
        child: SafeArea(
          child: SingleChildScrollView(
            controller: _scrollController,
            physics: const BouncingScrollPhysics(),
            child: Column(
              children: [
                // Hero Section
                Container(
                  constraints: BoxConstraints(
                    minHeight: MediaQuery.of(context).size.height - MediaQuery.of(context).padding.top,
                  ),
                  child: Center(
                    child: FadeTransition(
                      opacity: _fadeAnimation,
                      child: SlideTransition(
                        position: _slideAnimation,
                        child: Padding(
                          padding: const EdgeInsets.all(24.0),
                          child: Center(
                            child: ConstrainedBox(
                              constraints: const BoxConstraints(maxWidth: 600),
                              child: Card(
                                elevation: 16,
                                color: const Color(0xFF1A1A1A),
                                shape: RoundedRectangleBorder(
                                  borderRadius: BorderRadius.circular(24),
                                  side: BorderSide(
                                    color: AppTheme.primaryColor.withOpacity(0.3),
                                    width: 1,
                                  ),
                                ),
                                child: Container(
                                  decoration: BoxDecoration(
                                    borderRadius: BorderRadius.circular(24),
                                    gradient: const LinearGradient(
                                      begin: Alignment.topLeft,
                                      end: Alignment.bottomRight,
                                      colors: [
                                        Color(0xFF1A1A1A),
                                        Color(0xFF2A2A2A),
                                      ],
                                    ),
                                  ),
                                  child: Padding(
                                    padding: const EdgeInsets.symmetric(horizontal: 40.0, vertical: 48.0),
                                    child: Column(
                                      mainAxisSize: MainAxisSize.min,
                                      children: [
                                        // Animated Logo
                                        AnimatedBuilder(
                                          animation: _pulseAnimation,
                                          builder: (context, child) {
                                            return Transform.scale(
                                              scale: _pulseAnimation.value,
                                              child: Container(
                                                width: 140,
                                                height: 140,
                                                decoration: BoxDecoration(
                                                  color: AppTheme.primaryColor.withOpacity(0.15),
                                                  borderRadius: BorderRadius.circular(35),
                                                  border: Border.all(
                                                    color: AppTheme.primaryColor.withOpacity(0.4),
                                                    width: 2,
                                                  ),
                                                  boxShadow: [
                                                    BoxShadow(
                                                      color: AppTheme.primaryColor.withOpacity(0.4),
                                                      blurRadius: 30,
                                                      spreadRadius: 10,
                                                    ),
                                                  ],
                                                ),
                                                child: Stack(
                                                  alignment: Alignment.center,
                                                  children: [
                                                    const Icon(
                                                      Icons.public,
                                                      size: 70,
                                                      color: AppTheme.primaryColor,
                                                    ),
                                                    // Orbit animation
                                                    ...List.generate(3, (index) {
                                                      return TweenAnimationBuilder<double>(
                                                        tween: Tween(begin: 0, end: 2 * math.pi),
                                                        duration: Duration(seconds: 10 + index * 2),
                                                        builder: (context, value, child) {
                                                          return Transform.translate(
                                                            offset: Offset(
                                                              math.cos(value + (index * 2 * math.pi / 3)) * 50,
                                                              math.sin(value + (index * 2 * math.pi / 3)) * 50,
                                                            ),
                                                            child: Container(
                                                              width: 8,
                                                              height: 8,
                                                              decoration: BoxDecoration(
                                                                color: AppTheme.primaryColor.withOpacity(0.8),
                                                                shape: BoxShape.circle,
                                                                boxShadow: const [
                                                                  BoxShadow(
                                                                    color: AppTheme.primaryColor,
                                                                    blurRadius: 4,
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          );
                                                        },
                                                      );
                                                    }),
                                                  ],
                                                ),
                                              ),
                                            );
                                          },
                                        ),
                                        
                                        const SizedBox(height: 40),
                                        
                                        // Title with enhanced gradient
                                        ShaderMask(
                                          shaderCallback: (bounds) => LinearGradient(
                                            colors: [
                                              AppTheme.primaryColor,
                                              AppTheme.primaryColor.withBlue(255),
                                              AppTheme.primaryColor,
                                            ],
                                            stops: const [0.0, 0.5, 1.0],
                                          ).createShader(bounds),
                                          child: Text(
                                            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import 'dart:math' as math;

class LandingPage extends StatefulWidget {
  const LandingPage({super.key});
```

**navigationPackagefluttermaterialdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../config/logger.dart';
import '../features/auth/login_page.dart';
```

**navigationPackagego_routergo_routerdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:2:8`
- ğŸ“ Original: `'package:go_router/go_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../config/logger.dart';
import '../features/auth/login_page.dart';
import '../features/auth/register_page.dart';
```

**navigationConfigloggerdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:3:8`
- ğŸ“ Original: `'../config/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../config/logger.dart';
import '../features/auth/login_page.dart';
import '../features/auth/register_page.dart';
import '../features/auth/forgot_password_page.dart';
```

**navigationFeaturesauthlogin_pagedart** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:4:8`
- ğŸ“ Original: `'../features/auth/login_page.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../config/logger.dart';
import '../features/auth/login_page.dart';
import '../features/auth/register_page.dart';
import '../features/auth/forgot_password_page.dart';
import '../features/auth/reset_password_page.dart';
```

**navigationFeaturesauthregister_pagedart** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:5:8`
- ğŸ“ Original: `'../features/auth/register_page.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../config/logger.dart';
import '../features/auth/login_page.dart';
import '../features/auth/register_page.dart';
import '../features/auth/forgot_password_page.dart';
import '../features/auth/reset_password_page.dart';
import '../features/world/world_list_page.dart';
```

**navigationCustomNavigationObserver** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:14:21`
- ğŸ“ Original: `';

// Custom Navigation Observer fÃ¼r Logging
class AppNavigationObserver extends NavigatorObserver {
  @override
  void didReplace({Route<dynamic>? newRoute, Route<dynamic>? oldRoute}) {
    super.didReplace(newRoute: newRoute, oldRoute: oldRoute);
    _logNavigation(oldRoute?.settings.name, newRoute?.settings.name, '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import '../features/landing/landing_page.dart';
import '../core/services/auth_service.dart';
import '../theme/app_theme.dart';
import '../main.dart';

// Custom Navigation Observer fÃ¼r Logging
class AppNavigationObserver extends NavigatorObserver {
```

**navigationOverrideVoidDidpoproutedynamic** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:21:78`
- ğŸ“ Original: `');
  }

  @override
  void didPop(Route<dynamic> route, Route<dynamic>? previousRoute) {
    super.didPop(route, previousRoute);
    _logNavigation(route.settings.name, previousRoute?.settings.name, '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
@override
  void didReplace({Route<dynamic>? newRoute, Route<dynamic>? oldRoute}) {
    super.didReplace(newRoute: newRoute, oldRoute: oldRoute);
    _logNavigation(oldRoute?.settings.name, newRoute?.settings.name, 'replace');
  }

  @override
```

**navigationOverrideVoidDidpushroutedynamic** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:27:75`
- ğŸ“ Original: `');
  }

  @override
  void didPush(Route<dynamic> route, Route<dynamic>? previousRoute) {
    super.didPush(route, previousRoute);
    _logNavigation(previousRoute?.settings.name, route.settings.name, '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
@override
  void didPop(Route<dynamic> route, Route<dynamic>? previousRoute) {
    super.didPop(route, previousRoute);
    _logNavigation(route.settings.name, previousRoute?.settings.name, 'pop');
  }

  @override
```

**navigationVoid_lognavigationstringFrom** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:33:76`
- ğŸ“ Original: `');
  }

  void _logNavigation(String? from, String? to, String action) {
    if (from != null && to != null) {
      AppLogger.logNavigation(from, to, params: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
@override
  void didPush(Route<dynamic> route, Route<dynamic>? previousRoute) {
    super.didPush(route, previousRoute);
    _logNavigation(previousRoute?.settings.name, route.settings.name, 'push');
  }

  void _logNavigation(String? from, String? to, String action) {
```

**navigationActionElseIf** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:38:57`
- ğŸ“ Original: `': action});
    } else if (to != null) {
      AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
void _logNavigation(String? from, String? to, String action) {
    if (from != null && to != null) {
      AppLogger.logNavigation(from, to, params: {'action': action});
    } else if (to != null) {
      AppLogger.navigation.i('ğŸ§­ Navigation: â†’ $to ($action)');
    }
```

**navigationClassApprouterNamed** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:40:60`
- ğŸ“ Original: `');
    }
  }
}

class AppRouter {
  // Named Routes fÃ¼r bessere Navigation
  static const String landingRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (from != null && to != null) {
      AppLogger.logNavigation(from, to, params: {'action': action});
    } else if (to != null) {
      AppLogger.navigation.i('ğŸ§­ Navigation: â†’ $to ($action)');
    }
  }
}
```

**navigationStaticConstString** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:47:46`
- ğŸ“ Original: `';
  static const String loginRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
class AppRouter {
  // Named Routes fÃ¼r bessere Navigation
  static const String landingRoute = 'landing';
  static const String loginRoute = 'login';
  static const String registerRoute = 'register';
  static const String forgotPasswordRoute = 'forgot-password';
```

**navigationStaticConstString** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:48:42`
- ğŸ“ Original: `';
  static const String registerRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
class AppRouter {
  // Named Routes fÃ¼r bessere Navigation
  static const String landingRoute = 'landing';
  static const String loginRoute = 'login';
  static const String registerRoute = 'register';
  static const String forgotPasswordRoute = 'forgot-password';
  static const String resetPasswordRoute = 'reset-password';
```

**navigationStaticConstString** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:49:48`
- ğŸ“ Original: `';
  static const String forgotPasswordRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Named Routes fÃ¼r bessere Navigation
  static const String landingRoute = 'landing';
  static const String loginRoute = 'login';
  static const String registerRoute = 'register';
  static const String forgotPasswordRoute = 'forgot-password';
  static const String resetPasswordRoute = 'reset-password';
  static const String worldListRoute = 'world-list';
```

**navigationStaticConstString** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:50:61`
- ğŸ“ Original: `';
  static const String resetPasswordRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String landingRoute = 'landing';
  static const String loginRoute = 'login';
  static const String registerRoute = 'register';
  static const String forgotPasswordRoute = 'forgot-password';
  static const String resetPasswordRoute = 'reset-password';
  static const String worldListRoute = 'world-list';
  static const String worldDashboardRoute = 'world-dashboard';
```

**navigationStaticConstString** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:51:59`
- ğŸ“ Original: `';
  static const String worldListRoute = '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
static const String loginRoute = 'login';
  static const String registerRoute = 'register';
  static const String forgotPasswordRoute = 'forgot-password';
  static const String resetPasswordRoute = 'reset-password';
  static const String worldListRoute = 'world-list';
  static const String worldDashboardRoute = 'world-dashboard';
  static const String worldJoinRoute = 'world-join';
```

**navigationTry_routerinstanceGorouter** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:85:61`
- ğŸ“ Original: `');
      try {
        _routerInstance = GoRouter(
          initialLocation: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Router nur einmal initialisieren
    if (!_isInitialized) {
      AppLogger.navigation.i('ğŸš€ Router wird initialisiert...');
      try {
        _routerInstance = GoRouter(
          initialLocation: '/go',
```

**navigationNavigatorkey_rootnavigatorkeyNavigation** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:88:32`
- ğŸ“ Original: `',
          navigatorKey: _rootNavigatorKey,
          
          // Navigation Observer fÃ¼r User Journey Tracking
          observers: [
            AppNavigationObserver(),
          ],
          
          // Redirect aktiviert - Services werden jetzt korrekt initialisiert
          redirect: (context, state) async {
        try {
          final authService = _getAuthService();
          if (authService == null) {
            // Services noch nicht verfÃ¼gbar, zur Landing Page
            return '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
AppLogger.navigation.i('ğŸš€ Router wird initialisiert...');
      try {
        _routerInstance = GoRouter(
          initialLocation: '/go',
          navigatorKey: _rootNavigatorKey,
          
          // Navigation Observer fÃ¼r User Journey Tracking
```

**navigationFinalIsinviterouteStatematchedlocationstartswith** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:107:73`
- ğŸ“ Original: `');
          final isInviteRoute = state.matchedLocation.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final isLoggedIn = await authService.isLoggedIn();

          final isAuthRoute = state.matchedLocation.startsWith('/go/auth');
          final isInviteRoute = state.matchedLocation.startsWith('/go/world-join/'); // Invite-Routen sind Ã¶ffentlich
          final isProtectedRoute = (state.matchedLocation.startsWith('/go/worlds') ||
                                  state.matchedLocation.startsWith('/go/dashboard')) &&
```

**navigationInviteroutenSindÃ–ffentlich** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:108:82`
- ğŸ“ Original: `'); // Invite-Routen sind Ã¶ffentlich
          final isProtectedRoute = (state.matchedLocation.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final isLoggedIn = await authService.isLoggedIn();

          final isAuthRoute = state.matchedLocation.startsWith('/go/auth');
          final isInviteRoute = state.matchedLocation.startsWith('/go/world-join/'); // Invite-Routen sind Ã¶ffentlich
          final isProtectedRoute = (state.matchedLocation.startsWith('/go/worlds') ||
                                  state.matchedLocation.startsWith('/go/dashboard')) &&
                                  !isInviteRoute; // Invite-Routen ausschlieÃŸen
```

**navigationStatematchedlocationstartswith** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:109:81`
- ğŸ“ Original: `') ||
                                  state.matchedLocation.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final isAuthRoute = state.matchedLocation.startsWith('/go/auth');
          final isInviteRoute = state.matchedLocation.startsWith('/go/world-join/'); // Invite-Routen sind Ã¶ffentlich
          final isProtectedRoute = (state.matchedLocation.startsWith('/go/worlds') ||
                                  state.matchedLocation.startsWith('/go/dashboard')) &&
                                  !isInviteRoute; // Invite-Routen ausschlieÃŸen
```

**navigationIsinviterouteInviteroutenAusschlieÃŸen** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:110:82`
- ğŸ“ Original: `')) &&
                                  !isInviteRoute; // Invite-Routen ausschlieÃŸen

          if (!isLoggedIn && isProtectedRoute) {
            AppLogger.navigation.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final isAuthRoute = state.matchedLocation.startsWith('/go/auth');
          final isInviteRoute = state.matchedLocation.startsWith('/go/world-join/'); // Invite-Routen sind Ã¶ffentlich
          final isProtectedRoute = (state.matchedLocation.startsWith('/go/worlds') ||
                                  state.matchedLocation.startsWith('/go/dashboard')) &&
                                  !isInviteRoute; // Invite-Routen ausschlieÃŸen

          if (!isLoggedIn && isProtectedRoute) {
```

**navigationNameLandingroutePagebuilder** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:139:19`
- ğŸ“ Original: `',
        name: landingRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const LandingPage(),
          transitionsBuilder: (context, animation, secondaryAnimation, child) =>
            FadeTransition(opacity: animation, child: child),
        ),
      ),

      // Auth routes
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
routes: [
      // Landing page
      GoRoute(
        path: '/go',
        name: landingRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const LandingPage(),
```

**navigationNameLoginroutePagebuilder** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:150:30`
- ğŸ“ Original: `',
        name: loginRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const LoginPage(),
          transitionsBuilder: (context, animation, secondaryAnimation, child) =>
            FadeTransition(opacity: animation, child: child),
        ),
      ),
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
// Auth routes
      GoRoute(
        path: '/go/auth/login',
        name: loginRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const LoginPage(),
```

**navigationNameRegisterroutePagebuilder** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:159:33`
- ğŸ“ Original: `',
        name: registerRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const RegisterPage(),
          transitionsBuilder: (context, animation, secondaryAnimation, child) =>
            FadeTransition(opacity: animation, child: child),
        ),
      ),
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
      ),
      GoRoute(
        path: '/go/auth/register',
        name: registerRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const RegisterPage(),
```

**navigationNameForgotpasswordroutePagebuilder** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:168:40`
- ğŸ“ Original: `',
        name: forgotPasswordRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const ForgotPasswordPage(),
          transitionsBuilder: (context, animation, secondaryAnimation, child) =>
            FadeTransition(opacity: animation, child: child),
        ),
      ),
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
      ),
      GoRoute(
        path: '/go/auth/forgot-password',
        name: forgotPasswordRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const ForgotPasswordPage(),
```

**navigationNameResetpasswordroutePagebuilder** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:177:39`
- ğŸ“ Original: `',
        name: resetPasswordRoute,
        pageBuilder: (context, state) {
          // Token aus Query-Parametern holen
          final token = state.uri.queryParameters['`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
      ),
      GoRoute(
        path: '/go/auth/reset-password',
        name: resetPasswordRoute,
        pageBuilder: (context, state) {
          // Token aus Query-Parametern holen
```

**navigationIfTokenNull** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:181:57`
- ğŸ“ Original: `'];
          if (token == null || token.isEmpty) {
            // Ohne Token zur Passwort-vergessen Seite weiterleiten
            return CustomTransitionPage(
              child: const ForgotPasswordPage(),
              transitionsBuilder: (context, animation, secondaryAnimation, child) =>
                FadeTransition(opacity: animation, child: child),
            );
          }
          return CustomTransitionPage(
            child: ResetPasswordPage(token: token),
            transitionsBuilder: (context, animation, secondaryAnimation, child) =>
              FadeTransition(opacity: animation, child: child),
          );
        },
      ),

      // World routes - NORMALE NAVIGATION
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
name: resetPasswordRoute,
        pageBuilder: (context, state) {
          // Token aus Query-Parametern holen
          final token = state.uri.queryParameters['token'];
          if (token == null || token.isEmpty) {
            // Ohne Token zur Passwort-vergessen Seite weiterleiten
            return CustomTransitionPage(
```

**navigationNameWorldlistroutePagebuilder** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:200:26`
- ğŸ“ Original: `',
        name: worldListRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const WorldListPage(),
          transitionsBuilder: (context, animation, secondaryAnimation, child) =>
            FadeTransition(opacity: animation, child: child),
        ),
      ),
      GoRoute(
        path: '`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
// World routes - NORMALE NAVIGATION
      GoRoute(
        path: '/go/worlds',
        name: worldListRoute,
        pageBuilder: (context, state) => CustomTransitionPage(
          child: const WorldListPage(),
```

**navigationNameWorlddashboardroutePagebuilder** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:209:30`
- ğŸ“ Original: `',
        name: worldDashboardRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
      ),
      GoRoute(
        path: '/go/worlds/:id',
        name: worldDashboardRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['id'];
```

**navigationNameWorldjoinroutePagebuilder** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:247:35`
- ğŸ“ Original: `',
        name: worldJoinRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
      // NORMALE WORLD-JOIN Route (Ã¼ber interne Navigation)
      GoRoute(
        path: '/go/worlds/:id/join',
        name: worldJoinRoute,
        pageBuilder: (context, state) {
          final worldId = state.pathParameters['id'];
```

**navigationWorldjoinbytoken** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:289:15`
- ğŸ“ Original: `'world-join-by-token'`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
// INVITE-FLOW Route (externe Links)
      GoRoute(
        path: '/go/world-join/:token',
        name: 'world-join-by-token',
        pageBuilder: (context, state) {
          final token = state.pathParameters['token'];
          if (token == null || token.isEmpty) {
```

**navigationVerbesserteFehlerseitenClass** â“ (Confidence: 0.6)
- ğŸ“ `lib\routing\app_router.dart:387:68`
- ğŸ“ Original: `');
  }
}

// Verbesserte Fehlerseiten
class ErrorPage extends StatelessWidget {
  const ErrorPage({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Container(
        decoration: BoxDecoration(
          gradient: LinearGradient(
            begin: Alignment.topCenter,
            end: Alignment.bottomCenter,
            colors: [
              AppTheme.primaryColor.withOpacity(0.1),
              AppTheme.surfaceColor,
            ],
          ),
        ),
        child: Center(
          child: Card(
            elevation: 8,
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(16),
            ),
            child: Padding(
              padding: const EdgeInsets.all(32.0),
              child: Column(
                mainAxisSize: MainAxisSize.min,
                children: [
                  const Icon(
                    Icons.error_outline,
                    size: 64,
                    color: AppTheme.errorColor,
                  ),
                  const SizedBox(height: 24),
                  Text(
                    '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Cache beim App-Start invalidieren
  static void invalidateCacheOnStart() {
    // Caching entfernt, daher keine Cache-Invalidierung mehr nÃ¶tig
    AppLogger.navigation.i('ğŸ”„ Auth-Cache beim App-Start invalidiert');
  }
}
```

**navigationPackagefluttermaterialdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../theme/app_theme.dart';
```

**navigationPackagego_routergo_routerdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:2:8`
- ğŸ“ Original: `'package:go_router/go_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../theme/app_theme.dart';

class NavigationWidget extends StatefulWidget {
```

**navigationClassNavigationwidgetExtends** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:3:35`
- ğŸ“ Original: `';

class NavigationWidget extends StatefulWidget {
  final String? currentRoute;
  final Map<String, dynamic>? routeParams;
  final bool? isJoinedWorld; // Ob der User in der aktuellen Welt registriert ist
  
  const NavigationWidget({
    super.key,
    this.currentRoute,
    this.routeParams,
    this.isJoinedWorld,
  });

  @override
  State<NavigationWidget> createState() => _NavigationWidgetState();
}

class _NavigationWidgetState extends State<NavigationWidget> with SingleTickerProviderStateMixin {
  late AnimationController _animationController;
  late Animation<double> _fadeAnimation;
  bool _isExpanded = false;
  
  @override
  void initState() {
    super.initState();
    
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 300),
      vsync: this,
    );
    
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeInOut,
    ));
    
    _animationController.forward();
  }
  
  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }
  
  void _toggleExpanded() {
    setState(() {
      _isExpanded = !_isExpanded;
    });
  }
  
  void _showJoinRequiredMessage() {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(
        content: const Text('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../theme/app_theme.dart';

class NavigationWidget extends StatefulWidget {
  final String? currentRoute;
```

**navigationOntapNavigatorofcontextcanpopNavigatorofcontextpop** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:75:23`
- ğŸ“ Original: `',
        onTap: () => Navigator.of(context).canPop() 
          ? Navigator.of(context).pop()
          : context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (widget.currentRoute != 'world-list') {
      items.add(NavigationItem(
        icon: Icons.arrow_back,
        label: 'ZurÃ¼ck',
        onTap: () => Navigator.of(context).canPop() 
          ? Navigator.of(context).pop()
          : context.goNamed('world-list'),
```

**navigationItemsaddnavigationitemIconIconsremove** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:78:40`
- ğŸ“ Original: `'),
      ));
      
      items.add(NavigationItem(
        icon: Icons.remove,
        label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
label: 'ZurÃ¼ck',
        onTap: () => Navigator.of(context).canPop() 
          ? Navigator.of(context).pop()
          : context.goNamed('world-list'),
      ));
      
      items.add(NavigationItem(
```

**navigationOntapIsdividerTrue** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:83:17`
- ğŸ“ Original: `',
        onTap: () {},
        isDivider: true,
      ));
    }
    
    // Immer zur Welten-Liste
    items.add(NavigationItem(
      icon: Icons.public,
      label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
items.add(NavigationItem(
        icon: Icons.remove,
        label: '',
        onTap: () {},
        isDivider: true,
      ));
```

**navigationOntapContextgonamed** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:92:31`
- ğŸ“ Original: `',
      onTap: () => context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Immer zur Welten-Liste
    items.add(NavigationItem(
      icon: Icons.public,
      label: 'Welten-Ãœbersicht',
      onTap: () => context.goNamed('world-list'),
      isActive: widget.currentRoute == 'world-list',
    ));
```

**navigationIsactiveWidgetcurrentroute** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:93:47`
- ğŸ“ Original: `'),
      isActive: widget.currentRoute == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
items.add(NavigationItem(
      icon: Icons.public,
      label: 'Welten-Ãœbersicht',
      onTap: () => context.goNamed('world-list'),
      isActive: widget.currentRoute == 'world-list',
    ));
```

**navigationWeltdetailsAnzeigenVon** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:94:51`
- ğŸ“ Original: `',
    ));
    
    // Welt-Details anzeigen (von Dashboard oder wenn auf Join-Page)
    if ((widget.currentRoute == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
icon: Icons.public,
      label: 'Welten-Ãœbersicht',
      onTap: () => context.goNamed('world-list'),
      isActive: widget.currentRoute == 'world-list',
    ));
    
    // Welt-Details anzeigen (von Dashboard oder wenn auf Join-Page)
```

**navigationWidgetcurrentroute** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:98:49`
- ğŸ“ Original: `' || widget.currentRoute == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
));
    
    // Welt-Details anzeigen (von Dashboard oder wenn auf Join-Page)
    if ((widget.currentRoute == 'world-dashboard' || widget.currentRoute == 'world-join') 
        && widget.routeParams?['id'] != null) {
      final worldIdParam = widget.routeParams?['id'];
      if (worldIdParam != null) {
```

**navigationWidgetrouteparams** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:98:88`
- ğŸ“ Original: `') 
        && widget.routeParams?['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
));
    
    // Welt-Details anzeigen (von Dashboard oder wenn auf Join-Page)
    if ((widget.currentRoute == 'world-dashboard' || widget.currentRoute == 'world-join') 
        && widget.routeParams?['id'] != null) {
      final worldIdParam = widget.routeParams?['id'];
      if (worldIdParam != null) {
```

**navigationNullFinalWorldidparam** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:99:35`
- ğŸ“ Original: `'] != null) {
      final worldIdParam = widget.routeParams?['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Welt-Details anzeigen (von Dashboard oder wenn auf Join-Page)
    if ((widget.currentRoute == 'world-dashboard' || widget.currentRoute == 'world-join') 
        && widget.routeParams?['id'] != null) {
      final worldIdParam = widget.routeParams?['id'];
      if (worldIdParam != null) {
        items.add(NavigationItem(
```

**navigationIfWorldidparamNull** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:100:51`
- ğŸ“ Original: `'];
      if (worldIdParam != null) {
        items.add(NavigationItem(
          icon: Icons.info_outline,
          label: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Welt-Details anzeigen (von Dashboard oder wenn auf Join-Page)
    if ((widget.currentRoute == 'world-dashboard' || widget.currentRoute == 'world-join') 
        && widget.routeParams?['id'] != null) {
      final worldIdParam = widget.routeParams?['id'];
      if (worldIdParam != null) {
        items.add(NavigationItem(
          icon: Icons.info_outline,
```

**navigationOntapContextgonamed** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:104:31`
- ğŸ“ Original: `',
          onTap: () => context.goNamed('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
if (worldIdParam != null) {
        items.add(NavigationItem(
          icon: Icons.info_outline,
          label: 'Welt-Details',
          onTap: () => context.goNamed('world-join', 
            pathParameters: {'id': worldIdParam.toString()}
          ),
```

**navigationPathparameters** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:105:51`
- ğŸ“ Original: `', 
            pathParameters: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
items.add(NavigationItem(
          icon: Icons.info_outline,
          label: 'Welt-Details',
          onTap: () => context.goNamed('world-join', 
            pathParameters: {'id': worldIdParam.toString()}
          ),
          isActive: widget.currentRoute == 'world-join',
```

**navigationWorldidparamtostringIsactiveWidgetcurrentroute** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:106:33`
- ğŸ“ Original: `': worldIdParam.toString()}
          ),
          isActive: widget.currentRoute == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
icon: Icons.info_outline,
          label: 'Welt-Details',
          onTap: () => context.goNamed('world-join', 
            pathParameters: {'id': worldIdParam.toString()}
          ),
          isActive: widget.currentRoute == 'world-join',
        ));
```

**navigationDashboardLinkNur** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:108:55`
- ğŸ“ Original: `',
        ));
      }
    }
    
    // Dashboard Link - nur aktiv wenn User in der Welt ist
    if ((widget.currentRoute == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
onTap: () => context.goNamed('world-join', 
            pathParameters: {'id': worldIdParam.toString()}
          ),
          isActive: widget.currentRoute == 'world-join',
        ));
      }
    }
```

**navigationWidgetcurrentroute** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:114:44`
- ğŸ“ Original: `' || widget.currentRoute == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    
    // Dashboard Link - nur aktiv wenn User in der Welt ist
    if ((widget.currentRoute == 'world-join' || widget.currentRoute == 'world-dashboard') 
        && widget.routeParams?['id'] != null) {
      final worldIdParam = widget.routeParams?['id'];
      if (worldIdParam != null) {
```

**navigationWidgetrouteparams** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:114:88`
- ğŸ“ Original: `') 
        && widget.routeParams?['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    
    // Dashboard Link - nur aktiv wenn User in der Welt ist
    if ((widget.currentRoute == 'world-join' || widget.currentRoute == 'world-dashboard') 
        && widget.routeParams?['id'] != null) {
      final worldIdParam = widget.routeParams?['id'];
      if (worldIdParam != null) {
```

**navigationNullFinalWorldidparam** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:115:35`
- ğŸ“ Original: `'] != null) {
      final worldIdParam = widget.routeParams?['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Dashboard Link - nur aktiv wenn User in der Welt ist
    if ((widget.currentRoute == 'world-join' || widget.currentRoute == 'world-dashboard') 
        && widget.routeParams?['id'] != null) {
      final worldIdParam = widget.routeParams?['id'];
      if (worldIdParam != null) {
        final worldId = worldIdParam.toString();
```

**navigationIfWorldidparamNull** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:116:51`
- ğŸ“ Original: `'];
      if (worldIdParam != null) {
        final worldId = worldIdParam.toString();
        final isJoined = widget.isJoinedWorld ?? false;
        
        items.add(NavigationItem(
          icon: Icons.dashboard,
          label: isJoined ? '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Dashboard Link - nur aktiv wenn User in der Welt ist
    if ((widget.currentRoute == 'world-join' || widget.currentRoute == 'world-dashboard') 
        && widget.routeParams?['id'] != null) {
      final worldIdParam = widget.routeParams?['id'];
      if (worldIdParam != null) {
        final worldId = worldIdParam.toString();
        final isJoined = widget.isJoinedWorld ?? false;
```

**navigationDashboardBeitretenErforderlich** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:123:47`
- ğŸ“ Original: `'Dashboard (Beitreten erforderlich)'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
items.add(NavigationItem(
          icon: Icons.dashboard,
          label: isJoined ? 'Zum Dashboard' : 'Dashboard (Beitreten erforderlich)',
          onTap: isJoined 
            ? () => context.goNamed('world-dashboard', pathParameters: {'id': worldId})
            : () => _showJoinRequiredMessage(),
```

**navigationPathparameters** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:125:53`
- ğŸ“ Original: `', pathParameters: {'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
icon: Icons.dashboard,
          label: isJoined ? 'Zum Dashboard' : 'Dashboard (Beitreten erforderlich)',
          onTap: isJoined 
            ? () => context.goNamed('world-dashboard', pathParameters: {'id': worldId})
            : () => _showJoinRequiredMessage(),
          isActive: widget.currentRoute == 'world-dashboard',
          isDisabled: !isJoined,
```

**navigationWorldid_showjoinrequiredmessageIsactive** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:125:76`
- ğŸ“ Original: `': worldId})
            : () => _showJoinRequiredMessage(),
          isActive: widget.currentRoute == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
icon: Icons.dashboard,
          label: isJoined ? 'Zum Dashboard' : 'Dashboard (Beitreten erforderlich)',
          onTap: isJoined 
            ? () => context.goNamed('world-dashboard', pathParameters: {'id': worldId})
            : () => _showJoinRequiredMessage(),
          isActive: widget.currentRoute == 'world-dashboard',
          isDisabled: !isJoined,
```

**navigationIsdisabledIsjoinedWeitere** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:127:60`
- ğŸ“ Original: `',
          isDisabled: !isJoined,
        ));
      }
    }
    
    // Weitere Navigation Items kÃ¶nnen hier hinzugefÃ¼gt werden
    // z.B. Settings, Profile, etc.
    
    return items;
  }
  
  @override
  Widget build(BuildContext context) {
    final navItems = _getNavigationItems();
    
    return Positioned(
      top: 16,
      right: 16,
      child: FadeTransition(
        opacity: _fadeAnimation,
        child: AnimatedContainer(
          duration: const Duration(milliseconds: 300),
          decoration: BoxDecoration(
            color: const Color(0xFF1A1A1A).withOpacity(0.95),
            borderRadius: BorderRadius.circular(16),
            border: Border.all(
              color: AppTheme.primaryColor.withOpacity(0.3),
              width: 1,
            ),
            boxShadow: [
              BoxShadow(
                color: Colors.black.withOpacity(0.3),
                blurRadius: 12,
                offset: const Offset(0, 4),
              ),
            ],
          ),
          child: Material(
            color: Colors.transparent,
            child: _isExpanded ? _buildExpandedView(navItems) : _buildCompactView(),
          ),
        ),
      ),
    );
  }
  
  Widget _buildCompactView() {
    return InkWell(
      onTap: _toggleExpanded,
      borderRadius: BorderRadius.circular(16),
      child: Padding(
        padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),
        child: Row(
          mainAxisSize: MainAxisSize.min,
          children: [
            Container(
              width: 36,
              height: 36,
              decoration: BoxDecoration(
                color: AppTheme.primaryColor.withOpacity(0.2),
                shape: BoxShape.circle,
              ),
              child: const Icon(
                Icons.explore,
                color: AppTheme.primaryColor,
                size: 20,
              ),
            ),
            const SizedBox(width: 12),
            Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              mainAxisSize: MainAxisSize.min,
              children: [
                const Text(
                  '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
onTap: isJoined 
            ? () => context.goNamed('world-dashboard', pathParameters: {'id': worldId})
            : () => _showJoinRequiredMessage(),
          isActive: widget.currentRoute == 'world-dashboard',
          isDisabled: !isJoined,
        ));
      }
```

**navigationStyleTextstyleColor** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:202:30`
- ğŸ“ Original: `',
                  style: TextStyle(
                    color: Colors.white,
                    fontSize: 14,
                    fontWeight: FontWeight.w600,
                  ),
                ),
                Text(
                  '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisSize: MainAxisSize.min,
              children: [
                const Text(
                  'Navigation',
                  style: TextStyle(
                    color: Colors.white,
                    fontSize: 14,
```

**navigationStyleTextstyleColor** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:262:30`
- ğŸ“ Original: `',
                  style: TextStyle(
                    color: Colors.white,
                    fontSize: 16,
                    fontWeight: FontWeight.bold,
                  ),
                ),
                const SizedBox(width: 40),
                Icon(
                  Icons.keyboard_arrow_up,
                  color: Colors.grey[400],
                  size: 24,
                ),
              ],
            ),
          ),
        ),
        
        const Divider(color: Colors.grey, height: 1),
        
        // Navigation Items
        ...items.map((item) => _buildNavigationItem(item)),
      ],
    );
  }
  
  Widget _buildNavigationItem(NavigationItem item) {
    if (item.isDivider) {
      return const Padding(
        padding: EdgeInsets.symmetric(vertical: 4),
        child: Divider(color: Colors.grey, height: 1),
      );
    }
    
    final isActive = item.isActive;
    final isDisabled = item.isDisabled;
    
    final widget = InkWell(
      onTap: isDisabled ? null : () {
        item.onTap();
        if (!isDisabled) _toggleExpanded();
      },
      child: Container(
        width: 220,
        padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),
        decoration: BoxDecoration(
          color: isActive ? AppTheme.primaryColor.withOpacity(0.1) : Colors.transparent,
          border: Border(
            left: BorderSide(
              color: isActive ? AppTheme.primaryColor : Colors.transparent,
              width: 3,
            ),
          ),
        ),
        child: Row(
          children: [
            Icon(
              item.icon,
              color: isDisabled 
                ? Colors.grey[600] 
                : (isActive ? AppTheme.primaryColor : Colors.grey[400]),
              size: 20,
            ),
            const SizedBox(width: 12),
            Expanded(
              child: Text(
                item.label,
                style: TextStyle(
                  color: isDisabled 
                    ? Colors.grey[600] 
                    : (isActive ? AppTheme.primaryColor : Colors.white),
                  fontSize: 14,
                  fontWeight: isActive ? FontWeight.w600 : FontWeight.normal,
                  decoration: isDisabled ? TextDecoration.lineThrough : null,
                ),
              ),
            ),
            if (isActive && !isDisabled)
              const Icon(
                Icons.check_circle,
                color: AppTheme.primaryColor,
                size: 16,
              ),
            if (isDisabled)
              Icon(
                Icons.lock,
                color: Colors.grey[600],
                size: 16,
              ),
          ],
        ),
      ),
    );
    
    // Tooltip hinzufÃ¼gen wenn disabled
    if (isDisabled && item.label.contains('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                const SizedBox(width: 12),
                const Text(
                  'Navigation',
                  style: TextStyle(
                    color: Colors.white,
                    fontSize: 16,
```

**navigationPackagefluttermaterialdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
```

**navigationPackagego_routergo_routerdart** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:2:8`
- ğŸ“ Original: `'package:go_router/go_router.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../main.dart';
```

**navigationCoreservicesauth_servicedart** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:3:8`
- ğŸ“ Original: `'../../core/services/auth_service.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../main.dart';
```

**navigationClassUserinfowidgetExtends** â“ (Confidence: 0.6)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:5:24`
- ğŸ“ Original: `';

class UserInfoWidget extends StatefulWidget {
  const UserInfoWidget({super.key});

  @override
  State<UserInfoWidget> createState() => _UserInfoWidgetState();
}

class _UserInfoWidgetState extends State<UserInfoWidget> with SingleTickerProviderStateMixin {
  late final AuthService _authService;
  late AnimationController _animationController;
  late Animation<double> _fadeAnimation;
  bool _isExpanded = false;
  
  @override
  void initState() {
    super.initState();
    _authService = ServiceLocator.get<AuthService>();
    
    _animationController = AnimationController(
      duration: const Duration(milliseconds: 300),
      vsync: this,
    );
    
    _fadeAnimation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _animationController,
      curve: Curves.easeInOut,
    ));
    
    _animationController.forward();
    
    // Fetch current user data to ensure we have roles
    _fetchUserData();
  }
  
  Future<void> _fetchUserData() async {
    final user = await _authService.fetchCurrentUser();
    if (user != null && mounted) {
      setState(() {});
    }
  }
  
  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }
  
  void _toggleExpanded() {
    setState(() {
      _isExpanded = !_isExpanded;
    });
  }
  
  Color _getRoleColor(String roleName) {
    switch (roleName.toLowerCase()) {
      case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:go_router/go_router.dart';
import '../../core/services/auth_service.dart';
import '../../theme/app_theme.dart';
import '../../main.dart';

class UserInfoWidget extends StatefulWidget {
  const UserInfoWidget({super.key});
```

### ğŸ·ï¸ UI

**uiStyleTextstyleColor** â“ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:391:78`
- ğŸ“ Original: `',
                                                  style: TextStyle(
                                                    color: AppTheme.primaryColor,
                                                    fontSize: 16,
                                                    fontWeight: FontWeight.w600,
                                                  ),
                                                ),
                                                style: ElevatedButton.styleFrom(
                                                  backgroundColor: Colors.transparent,
                                                  shadowColor: Colors.transparent,
                                                  shape: RoundedRectangleBorder(
                                                    borderRadius: BorderRadius.circular(16),
                                                  ),
                                                ),
                                              ),
                                            ),
                                          ],
                                        ),
                                        
                                        const SizedBox(height: 40),
                                        
                                        // Stats Row
                                        Row(
                                          mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                                          children: [
                                            _buildStatItem('`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
color: AppTheme.primaryColor,
                                                ),
                                                label: const Text(
                                                  'Bereits Mitglied? Anmelden',
                                                  style: TextStyle(
                                                    color: AppTheme.primaryColor,
                                                    fontSize: 16,
```

**uiKostenlosRegistrieren** â“ (Confidence: 0.6)
- ğŸ“ `lib\features\landing\landing_page.dart:601:39`
- ğŸ“ Original: `'Kostenlos registrieren â†’'`
- ğŸ¯ Widget: Widget: ElevatedButton
- ğŸ”§ Context:
```dart
),
                                    ),
                                    child: const Text(
                                      'Kostenlos registrieren â†’',
                                      style: TextStyle(
                                        fontSize: 18,
                                        fontWeight: FontWeight.bold,
```

### ğŸ·ï¸ AUTH

**authInitialisiereApp** â“ (Confidence: 0.5)
- ğŸ“ `lib\app.dart:49:9`
- ğŸ“ Original: `'Initialisiere App...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
timeout: const Duration(seconds: 8),
      onTimeout: _onTimeout,
      initSteps: const [
        'Initialisiere App...',
        'Lade Konfiguration...',
        'Starte Services...',
        'PrÃ¼fe Authentifizierung...',
```

**authLadeKonfiguration** â“ (Confidence: 0.5)
- ğŸ“ `lib\app.dart:50:9`
- ğŸ“ Original: `'Lade Konfiguration...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
onTimeout: _onTimeout,
      initSteps: const [
        'Initialisiere App...',
        'Lade Konfiguration...',
        'Starte Services...',
        'PrÃ¼fe Authentifizierung...',
        'Bereit!',
```

**authStarteServices** â“ (Confidence: 0.5)
- ğŸ“ `lib\app.dart:51:9`
- ğŸ“ Original: `'Starte Services...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
initSteps: const [
        'Initialisiere App...',
        'Lade Konfiguration...',
        'Starte Services...',
        'PrÃ¼fe Authentifizierung...',
        'Bereit!',
      ],
```

**authPrÃ¼feAuthentifizierung** â“ (Confidence: 0.5)
- ğŸ“ `lib\app.dart:52:9`
- ğŸ“ Original: `'PrÃ¼fe Authentifizierung...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'Initialisiere App...',
        'Lade Konfiguration...',
        'Starte Services...',
        'PrÃ¼fe Authentifizierung...',
        'Bereit!',
      ],
      appName: Env.appName,
```

### ğŸ·ï¸ ERROR

**errorWeltenwindappWirdGestartet** â“ (Confidence: 0.5)
- ğŸ“ `lib\main.dart:37:19`
- ğŸ“ Original: `'ğŸš€ WeltenwindApp wird gestartet...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Initialisiere das Logging-System
  AppLogger.initialize();
  AppLogger.app.i('ğŸš€ WeltenwindApp wird gestartet...');

  // Flutter Error Handling
  FlutterError.onError = (FlutterErrorDetails details) {
```

**errorText090** â“ (Confidence: 0.5)
- ğŸ“ `lib\routing\app_router.dart:309:101`
- ğŸ“ Original: `'...'`
- ğŸ¯ Widget: Widget: child property
- ğŸ”§ Context:
```dart
),
            );
          }
          AppLogger.navigation.i('ğŸ« Invite-Token erkannt', error: {'token': token.substring(0, 8) + '...'});
          return CustomTransitionPage(
            child: WorldJoinPage(
              inviteToken: token,
```

### ğŸ·ï¸ UI

**uiPackagefluttermaterialdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\app.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';
import 'config/env.dart';
import 'config/logger.dart';
```

**uiGermanLocale** â“ (Confidence: 0.5)
- ğŸ“ `lib\app.dart:68:21`
- ğŸ“ Original: `'), // German
          Locale('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
GlobalCupertinoLocalizations.delegate,
        ],
        supportedLocales: const [
          Locale('de'), // German
          Locale('en'), // English
        ],
```

**uiEnglishThemeThemedata** â“ (Confidence: 0.5)
- ğŸ“ `lib\app.dart:69:21`
- ğŸ“ Original: `'), // English
        ],
        
        theme: ThemeData(
          primarySwatch: Colors.blue,
          useMaterial3: true,
        ),
        routerConfig: AppRouter.router,
        debugShowCheckedModeBanner: false,
      ),
    );
  }

  // Korrekte Initialisierungsfunktion NACH App-Start
  Future<void> _initializeApp() async {
    AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
],
        supportedLocales: const [
          Locale('de'), // German
          Locale('en'), // English
        ],
        
        theme: ThemeData(
```

**ui1EnvironmentInitialisieren** â“ (Confidence: 0.5)
- ğŸ“ `lib\app.dart:84:38`
- ğŸ“ Original: `');
    
    // 1. Environment initialisieren
    await Env.initialize();
    
    AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Korrekte Initialisierungsfunktion NACH App-Start
  Future<void> _initializeApp() async {
    AppLogger.app.i('ğŸš€ App startet...');
    
    // 1. Environment initialisieren
    await Env.initialize();
```

**ui2ServicesInitialisieren** â“ (Confidence: 0.5)
- ğŸ“ `lib\app.dart:89:49`
- ğŸ“ Original: `');
    
    // 2. Services initialisieren (jetzt sicher, da App bereits lÃ¤uft)
    try {
      final authService = AuthService();
      final apiService = ApiService.withAuth(authService);
      final worldService = WorldService();
      final inviteService = InviteService();

      ServiceLocator.register<AuthService>(authService);
      ServiceLocator.register<ApiService>(apiService);
      ServiceLocator.register<WorldService>(worldService);
      ServiceLocator.register<InviteService>(inviteService);
      
      AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// 1. Environment initialisieren
    await Env.initialize();
    
    AppLogger.app.i('ğŸŒ Environment initialisiert');
    
    // 2. Services initialisieren (jetzt sicher, da App bereits lÃ¤uft)
    try {
```

**uiLevelKdebugmodeLeveldebug** â“ (Confidence: 0.5)
- ğŸ“ `lib\config\logger.dart:23:45`
- ğŸ“ Original: `'),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );

    _authLogger = Logger(
      printer: _getLogPrinter(prefix: '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Spezielle Logger fÃ¼r verschiedene Bereiche
    _apiLogger = Logger(
      printer: _getLogPrinter(prefix: '[API]'),
      level: kDebugMode ? Level.debug : Level.info,
      output: _getLogOutput(),
    );
```

**uiDescriptionJson** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\models\user.dart:18:23`
- ğŸ“ Original: `'],
      description: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
factory Role.fromJson(Map<String, dynamic> json) {
    return Role(
      id: json['id'],
      name: json['name'],
      description: json['description'],
      permissions: json['permissions'] != null
          ? (json['permissions'] as List)
```

**uiPermissionsJson** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\models\user.dart:19:37`
- ğŸ“ Original: `'],
      permissions: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return Role(
      id: json['id'],
      name: json['name'],
      description: json['description'],
      permissions: json['permissions'] != null
          ? (json['permissions'] as List)
              .map((p) => RolePermission.fromJson(p))
```

**uiUseridJson** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\models\user.dart:51:19`
- ğŸ“ Original: `'],
      userId: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
factory UserRole.fromJson(Map<String, dynamic> json) {
    return UserRole(
      id: json['id'],
      userId: json['userId'],
      roleId: json['roleId'],
      scopeType: json['scopeType'],
```

**uiPermissionModelClass** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\models\user.dart:57:37`
- ğŸ“ Original: `']),
    );
  }
}

// Permission model
class Permission {
  final int id;
  final String name;
  final String? description;

  Permission({
    required this.id,
    required this.name,
    this.description,
  });

  factory Permission.fromJson(Map<String, dynamic> json) {
    return Permission(
      id: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
scopeType: json['scopeType'],
      scopeObjectId: json['scopeObjectId'],
      condition: json['condition'],
      role: Role.fromJson(json['role']),
    );
  }
}
```

**uiDescriptionJson** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\models\user.dart:77:23`
- ğŸ“ Original: `'],
      description: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
factory Permission.fromJson(Map<String, dynamic> json) {
    return Permission(
      id: json['id'],
      name: json['name'],
      description: json['description'],
    );
  }
```

**uiRolepermissionModelClass** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\models\user.dart:78:37`
- ğŸ“ Original: `'],
    );
  }
}

// RolePermission model
class RolePermission {
  final int id;
  final Permission permission;

  RolePermission({
    required this.id,
    required this.permission,
  });

  factory RolePermission.fromJson(Map<String, dynamic> json) {
    return RolePermission(
      id: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return Permission(
      id: json['id'],
      name: json['name'],
      description: json['description'],
    );
  }
}
```

**uiPermissionPermissionfromjsonjson** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\models\user.dart:95:19`
- ğŸ“ Original: `'],
      permission: Permission.fromJson(json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
factory RolePermission.fromJson(Map<String, dynamic> json) {
    return RolePermission(
      id: json['id'],
      permission: Permission.fromJson(json['permission']),
    );
  }
```

**uiClassUserFinal** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\models\user.dart:96:55`
- ğŸ“ Original: `']),
    );
  }
}

class User {
  final String id;
  final String username;
  final String email;
  final DateTime createdAt;
  final DateTime? lastLoginAt;
  final bool? isLocked;
  final List<UserRole>? roles;

  User({
    required this.id,
    required this.username,
    required this.email,
    required this.createdAt,
    this.lastLoginAt,
    this.isLocked,
    this.roles,
  });

  factory User.fromJson(Map<String, dynamic> json) {
    return User(
      id: json['`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
factory RolePermission.fromJson(Map<String, dynamic> json) {
    return RolePermission(
      id: json['id'],
      permission: Permission.fromJson(json['permission']),
    );
  }
}
```

**uiPackagefluttermaterialdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\providers\locale_provider.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';

class LocaleProvider extends ChangeNotifier {
  static final LocaleProvider _instance = LocaleProvider._internal();
```

**uiLocaleGetCurrentlocale** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\providers\locale_provider.dart:9:43`
- ğŸ“ Original: `');
  
  Locale get currentLocale => _currentLocale;
  
  void setLocale(Locale locale) {
    if (_currentLocale != locale) {
      _currentLocale = locale;
      notifyListeners();
    }
  }
  
  void switchLanguage() {
    final newLocale = _currentLocale.languageCode == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
LocaleProvider._internal();

  // Standardsprache ist Deutsch
  Locale _currentLocale = const Locale('de');
  
  Locale get currentLocale => _currentLocale;
```

**uiDartconvert** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:1:8`
- ğŸ“ Original: `'dart:convert'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'package:flutter/foundation.dart';
import 'package:http/http.dart' as http;
import '../../config/env.dart';
```

**uiPackageflutterfoundationdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:2:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'dart:convert';
import 'package:flutter/foundation.dart';
import 'package:http/http.dart' as http;
import '../../config/env.dart';
import '../../config/logger.dart';
```

**uiWeb_browser_datetimenowmillisecondssinceepoch** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:57:11`
- ğŸ“ Original: `'web_browser_${DateTime.now().millisecondsSinceEpoch}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
return currentFingerprint;
    }
    final fingerprint = kIsWeb 
        ? 'web_browser_${DateTime.now().millisecondsSinceEpoch}'
        : 'flutter_app_${DateTime.now().millisecondsSinceEpoch}';
    _deviceFingerprint = fingerprint;
    return fingerprint;
```

**uiFlutter_app_datetimenowmillisecondssinceepoch** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:58:11`
- ğŸ“ Original: `'flutter_app_${DateTime.now().millisecondsSinceEpoch}'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    final fingerprint = kIsWeb 
        ? 'web_browser_${DateTime.now().millisecondsSinceEpoch}'
        : 'flutter_app_${DateTime.now().millisecondsSinceEpoch}';
    _deviceFingerprint = fingerprint;
    return fingerprint;
  }
```

**uiContenttype** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:65:7`
- ğŸ“ Original: `'Content-Type'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Map<String, String> get _headers {
    final headers = <String, String>{
      'Content-Type': 'application/json',
      'X-Device-Fingerprint': deviceFingerprint,
      'X-Client-Timezone': 'Europe/Berlin',
      'X-Client-Time': DateTime.now().millisecondsSinceEpoch.toString(),
```

**uiXdevicefingerprint** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:66:7`
- ğŸ“ Original: `'X-Device-Fingerprint'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Map<String, String> get _headers {
    final headers = <String, String>{
      'Content-Type': 'application/json',
      'X-Device-Fingerprint': deviceFingerprint,
      'X-Client-Timezone': 'Europe/Berlin',
      'X-Client-Time': DateTime.now().millisecondsSinceEpoch.toString(),
    };
```

**uiXclienttimezone** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:67:7`
- ğŸ“ Original: `'X-Client-Timezone'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final headers = <String, String>{
      'Content-Type': 'application/json',
      'X-Device-Fingerprint': deviceFingerprint,
      'X-Client-Timezone': 'Europe/Berlin',
      'X-Client-Time': DateTime.now().millisecondsSinceEpoch.toString(),
    };
```

**uiEuropeberlin** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:67:28`
- ğŸ“ Original: `'Europe/Berlin'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final headers = <String, String>{
      'Content-Type': 'application/json',
      'X-Device-Fingerprint': deviceFingerprint,
      'X-Client-Timezone': 'Europe/Berlin',
      'X-Client-Time': DateTime.now().millisecondsSinceEpoch.toString(),
    };
```

**uiEnvapiurlenvapibasepathendpoint** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:172:21`
- ğŸ“ Original: `'${Env.apiUrl}${Env.apiBasePath}$endpoint'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
switch (method) {
      case 'GET':
        return await http.get(
          Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
          headers: _headers,
        );
      case 'POST':
```

**uiFinalCachedbody_requestbodiesendpoint** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:175:17`
- ğŸ“ Original: `':
        final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.post(
            Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
          headers: _headers,
        );
      case 'POST':
        final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.post(
```

**uiHeaders_headersBody** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:179:64`
- ğŸ“ Original: `'),
            headers: _headers,
            body: jsonEncode(cachedBody),
          );
        }
        break;
      case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.post(
            Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
            headers: _headers,
            body: jsonEncode(cachedBody),
          );
```

**uiFinalCachedbody_requestbodiesendpoint** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:185:16`
- ğŸ“ Original: `':
        final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.put(
            Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);
        }
        break;
      case 'PUT':
        final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.put(
```

**uiHeaders_headersBody** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:189:64`
- ğŸ“ Original: `'),
            headers: _headers,
            body: jsonEncode(cachedBody),
          );
        }
        break;
      case '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final cachedBody = _requestBodies[endpoint];
        if (cachedBody != null) {
          return await http.put(
            Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
            headers: _headers,
            body: jsonEncode(cachedBody),
          );
```

**uiReturnAwaitHttpdelete** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:195:19`
- ğŸ“ Original: `':
        return await http.delete(
          Uri.parse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
);
        }
        break;
      case 'DELETE':
        return await http.delete(
          Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
          headers: _headers,
```

**uiHeaders_headersReturn** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:197:62`
- ğŸ“ Original: `'),
          headers: _headers,
        );
    }
    return http.Response('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
break;
      case 'DELETE':
        return await http.delete(
          Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
          headers: _headers,
        );
    }
```

**ui500FuturehttpresponseDeletewithbodystring** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:201:47`
- ğŸ“ Original: `', 500);
  }

  Future<http.Response> deleteWithBody(String endpoint, Map<String, dynamic> data) async {
    await _ensureInitialized();
    
    // Erweiterte Request-Kontext-Verwaltung fÃ¼r parallele Requests
    _requestBodies[endpoint] = data;
    
    // Automatische Token-Validierung fÃ¼r geschÃ¼tzte Endpoints
    if (!endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
headers: _headers,
        );
    }
    return http.Response('Request retry failed', 500);
  }

  Future<http.Response> deleteWithBody(String endpoint, Map<String, dynamic> data) async {
```

**uiBodyReturnBody** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:255:63`
- ğŸ“ Original: `' : body;
    }
    return body;
  }


  Future<http.Response> get(String endpoint) async {
    await _ensureInitialized();
    
    // Log API Request
    AppLogger.logApiRequest('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      // If JSON parsing fails, return truncated body
      return body.length > 100 ? '${body.substring(0, 100)}...' : body;
    }
    return body;
  }
```

**uiHeaders_headersLog** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:274:60`
- ğŸ“ Original: `'),
        headers: _headers,
      );
      
      // Log API Response
      AppLogger.logApiResponse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final response = await http.get(
        Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
        headers: _headers,
      );
```

**uiHeaders_headersBody** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:312:60`
- ğŸ“ Original: `'),
        headers: _headers,
        body: jsonEncode(data),
      );
      
      // Log API Response (ohne sensitive Response-Daten)
      final logResponseBody = endpoint.startsWith('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final response = await http.post(
        Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
        headers: _headers,
        body: jsonEncode(data),
      );
```

**uiHeaders_headersBody** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:345:60`
- ğŸ“ Original: `'),
        headers: _headers,
        body: jsonEncode(data),
      );
      
      // Log API Response
      AppLogger.logApiResponse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final response = await http.put(
        Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
        headers: _headers,
        body: jsonEncode(data),
      );
```

**uiHeaders_headersLog** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\api_service.dart:374:60`
- ğŸ“ Original: `'),
        headers: _headers,
      );
      
      // Log API Response
      AppLogger.logApiResponse('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
try {
      final response = await http.delete(
        Uri.parse('${Env.apiUrl}${Env.apiBasePath}$endpoint'),
        headers: _headers,
      );
```

**uiPackageflutterfoundationdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\core\services\token_storage.dart:1:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/foundation.dart' show kIsWeb;
import 'package:flutter_secure_storage/flutter_secure_storage.dart';
import 'package:shared_preferences/shared_preferences.dart';
```

**uiGibDeineEmailadresse** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:155:31`
- ğŸ“ Original: `'Gib deine E-Mail-Adresse ein und wir senden dir einen Link zum ZurÃ¼cksetzen deines Passworts.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 8),
                            
                            Text(
                              'Gib deine E-Mail-Adresse ein und wir senden dir einen Link zum ZurÃ¼cksetzen deines Passworts.',
                              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                color: Colors.grey[300],
                                fontSize: 14,
```

**uiEmailGesendetBitte** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\auth\forgot_password_page.dart:181:41`
- ğŸ“ Original: `'E-Mail gesendet! Bitte Ã¼berprÃ¼fe deinen Posteingang.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(width: 8),
                                    Expanded(
                                      child: Text(
                                        'E-Mail gesendet! Bitte Ã¼berprÃ¼fe deinen Posteingang.',
                                        style: TextStyle(color: Colors.green[200], fontSize: 14),
                                      ),
                                    ),
```

**uiAnmeldungLÃ¤uft** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\auth\login_page.dart:597:25`
- ğŸ“ Original: `'Anmeldung lÃ¤uft...'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                      SizedBox(height: 16),
                      Text(
                        'Anmeldung lÃ¤uft...',
                        style: TextStyle(
                          color: Colors.white,
                          fontSize: 16,
```

**uiPasswortErfolgreichGeÃ¤ndert** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\auth\reset_password_page.dart:191:46`
- ğŸ“ Original: `'Passwort erfolgreich geÃ¤ndert!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(height: 20),
                              
                              Text(
                                _isSuccess ? 'Passwort erfolgreich geÃ¤ndert!' : 'Neues Passwort festlegen',
                                style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                                  color: Colors.white,
                                  fontWeight: FontWeight.bold,
```

**uiDuWirstAutomatisch** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\auth\reset_password_page.dart:202:37`
- ğŸ“ Original: `'Du wirst automatisch zur Anmeldung weitergeleitet...'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
                                _isSuccess 
                                  ? 'Du wirst automatisch zur Anmeldung weitergeleitet...'
                                  : 'Bitte gib dein neues Passwort ein.',
                                style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                  color: Colors.grey[300],
```

**uiBitteGibDein** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\auth\reset_password_page.dart:203:37`
- ğŸ“ Original: `'Bitte gib dein neues Passwort ein.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Text(
                                _isSuccess 
                                  ? 'Du wirst automatisch zur Anmeldung weitergeleitet...'
                                  : 'Bitte gib dein neues Passwort ein.',
                                style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                                  color: Colors.grey[300],
                                  fontSize: 14,
```

**uiPackagefluttermaterialdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../theme/app_theme.dart';
import '../../theme/background_widget.dart';
import '../../shared/widgets/user_info_widget.dart';
```

**uiStyleTextstyleColor** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:110:83`
- ğŸ“ Original: `',
                                      style: TextStyle(
                                        color: Colors.grey[300],
                                        fontSize: 16,
                                      ),
                                    ),
                                  ),
                                ],
                              ),
                            ),
                          ],
                        ),
                      ),
                    ),
                  ),
                ),
              ),
            ),
            
            // User info widget in top-left corner
            const UserInfoWidget(),
            
            // Navigation widget in top-right corner
            NavigationWidget(
              currentRoute: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(width: 12),
                                  Expanded(
                                    child: Text(
                                      'Das Dashboard befindet sich noch im Aufbau.',
                                      style: TextStyle(
                                        color: Colors.grey[300],
                                        fontSize: 16,
```

**uiStyleTextstyleColor** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:289:79`
- ğŸ“ Original: `',
                                            style: TextStyle(
                                              color: AppTheme.primaryColor.withOpacity(0.9),
                                              fontSize: 14,
                                              fontWeight: FontWeight.w500,
                                            ),
                                          ),
                                        ),
                                        
                                        const SizedBox(height: 48),
                                        
                                        // CTA Buttons with enhanced styling
                                        Column(
                                          children: [
                                            // Primary CTA - Register
                                            MouseRegion(
                                              cursor: SystemMouseCursors.click,
                                              child: AnimatedContainer(
                                                duration: const Duration(milliseconds: 200),
                                                width: double.infinity,
                                                height: 60,
                                                decoration: BoxDecoration(
                                                  gradient: LinearGradient(
                                                    colors: [
                                                      AppTheme.primaryColor,
                                                      AppTheme.primaryColor.withBlue(255),
                                                    ],
                                                  ),
                                                  borderRadius: BorderRadius.circular(16),
                                                  boxShadow: [
                                                    BoxShadow(
                                                      color: AppTheme.primaryColor.withOpacity(0.4),
                                                      blurRadius: 20,
                                                      offset: const Offset(0, 8),
                                                    ),
                                                  ],
                                                ),
                                                child: ElevatedButton(
                                                  onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
borderRadius: BorderRadius.circular(20),
                                          ),
                                          child: Text(
                                            'ğŸ® Spiele â€¢ ğŸŒ Erkunde â€¢ ğŸ¤ Verbinde',
                                            style: TextStyle(
                                              color: AppTheme.primaryColor.withOpacity(0.9),
                                              fontSize: 14,
```

**uiStyleTextstyleColor** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:348:85`
- ğŸ“ Original: `',
                                                            style: TextStyle(
                                                              color: Colors.white,
                                                              fontSize: 18,
                                                              fontWeight: FontWeight.bold,
                                                            ),
                                                          ),
                                                          Text(
                                                            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
mainAxisAlignment: MainAxisAlignment.center,
                                                        children: [
                                                          const Text(
                                                            'Jetzt kostenlos starten',
                                                            style: TextStyle(
                                                              color: Colors.white,
                                                              fontSize: 18,
```

**uiStyleTextstyleColor** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:356:92`
- ğŸ“ Original: `',
                                                            style: TextStyle(
                                                              color: Colors.white.withOpacity(0.8),
                                                              fontSize: 12,
                                                            ),
                                                          ),
                                                        ],
                                                      ),
                                                    ],
                                                  ),
                                                ),
                                              ),
                                            ),
                                            
                                            const SizedBox(height: 16),
                                            
                                            // Secondary CTA - Login
                                            Container(
                                              width: double.infinity,
                                              height: 56,
                                              decoration: BoxDecoration(
                                                color: const Color(0xFF2D2D2D),
                                                borderRadius: BorderRadius.circular(16),
                                                border: Border.all(
                                                  color: AppTheme.primaryColor.withOpacity(0.5),
                                                  width: 2,
                                                ),
                                              ),
                                              child: ElevatedButton.icon(
                                                onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                                          ),
                                                          Text(
                                                            'Keine Kreditkarte erforderlich',
                                                            style: TextStyle(
                                                              color: Colors.white.withOpacity(0.8),
                                                              fontSize: 12,
```

**uiScrollIndicatorIf** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:428:75`
- ğŸ“ Original: `'),
                                          ],
                                        ),
                                      ],
                                    ),
                                  ),
                                ),
                              ),
                            ),
                          ),
                        ),
                      ),
                    ),
                  ),
                ),
                
                // Scroll indicator
                if (_showFeatures)
                  FadeTransition(
                    opacity: _featureAnimation,
                    child: Container(
                      padding: const EdgeInsets.only(bottom: 20),
                      child: Column(
                        children: [
                          Text(
                            '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
width: 1,
                                              color: Colors.grey[700],
                                            ),
                                            _buildStatItem('24/7', 'Online'),
                                          ],
                                        ),
                                      ],
```

**uiStyleTextstyleColor** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:453:43`
- ğŸ“ Original: `',
                            style: TextStyle(
                              color: Colors.grey[400],
                              fontSize: 14,
                            ),
                          ),
                          const SizedBox(height: 8),
                          const Icon(
                            Icons.expand_more,
                            color: AppTheme.primaryColor,
                            size: 30,
                          ),
                        ],
                      ),
                    ),
                  ),
                
                // Features Section
                if (_showFeatures)
                  FadeTransition(
                    opacity: _featureAnimation,
                    child: Container(
                      padding: const EdgeInsets.symmetric(horizontal: 24, vertical: 60),
                      child: Column(
                        children: [
                          const Text(
                            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Column(
                        children: [
                          Text(
                            'Entdecke mehr',
                            style: TextStyle(
                              color: Colors.grey[400],
                              fontSize: 14,
```

**uiStyleTextstyleFontsize** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:489:65`
- ğŸ“ Original: `',
                            style: TextStyle(
                              fontSize: 18,
                              color: Colors.grey[300],
                            ),
                            textAlign: TextAlign.center,
                          ),
                          const SizedBox(height: 60),
                          
                          // Feature Grid
                          LayoutBuilder(
                            builder: (context, constraints) {
                              final crossAxisCount = constraints.maxWidth > 800 ? 3 : 
                                                    constraints.maxWidth > 500 ? 2 : 1;
                              return GridView.count(
                                shrinkWrap: true,
                                physics: const NeverScrollableScrollPhysics(),
                                crossAxisCount: crossAxisCount,
                                mainAxisSpacing: 24,
                                crossAxisSpacing: 24,
                                childAspectRatio: 1.2,
                                children: [
                                  _buildFeatureCard(
                                    icon: Icons.public,
                                    title: '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                          const SizedBox(height: 16),
                          Text(
                            'Erlebe Gaming auf einem neuen Level',
                            style: TextStyle(
                              fontSize: 18,
                              color: Colors.grey[300],
```

**uiDescription** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:525:58`
- ğŸ“ Original: `',
                                    description: '`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
),
                                  _buildFeatureCard(
                                    icon: Icons.security,
                                    title: 'Sicher & Fair',
                                    description: 'Modernste Sicherheit und faire Spielregeln fÃ¼r alle',
                                    color: Colors.orange,
                                  ),
```

**uiDescription** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:531:57`
- ğŸ“ Original: `',
                                    description: '`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
),
                                  _buildFeatureCard(
                                    icon: Icons.speed,
                                    title: 'Blitzschnell',
                                    description: 'Optimierte Server fÃ¼r minimale Latenz',
                                    color: Colors.purple,
                                  ),
```

**uiColorColorspurple_buildfeaturecard** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:532:88`
- ğŸ“ Original: `',
                                    color: Colors.purple,
                                  ),
                                  _buildFeatureCard(
                                    icon: Icons.devices,
                                    title: '`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.speed,
                                    title: 'Blitzschnell',
                                    description: 'Optimierte Server fÃ¼r minimale Latenz',
                                    color: Colors.purple,
                                  ),
                                  _buildFeatureCard(
```

**uiDescription** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:537:60`
- ğŸ“ Original: `',
                                    description: '`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
),
                                  _buildFeatureCard(
                                    icon: Icons.devices,
                                    title: 'Ãœberall spielen',
                                    description: 'Auf PC, Tablet oder Smartphone - immer dabei',
                                    color: Colors.red,
                                  ),
```

**uiSammleErfolgeUnd** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:544:50`
- ğŸ“ Original: `'Sammle Erfolge und exklusive Belohnungen'`
- ğŸ¯ Widget: Widget: Card
- ğŸ”§ Context:
```dart
_buildFeatureCard(
                                    icon: Icons.star,
                                    title: 'Belohnungen',
                                    description: 'Sammle Erfolge und exklusive Belohnungen',
                                    color: Colors.amber,
                                  ),
                                ],
```

**uiBereitFÃ¼rDein** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:572:35`
- ğŸ“ Original: `'Bereit fÃ¼r dein Abenteuer?'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Column(
                              children: [
                                const Text(
                                  'Bereit fÃ¼r dein Abenteuer?',
                                  style: TextStyle(
                                    fontSize: 28,
                                    fontWeight: FontWeight.bold,
```

**uiVersucheAndereFiltereinstellungen** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\world\world_list_page.dart:731:41`
- ğŸ“ Original: `'Versuche andere Filter-Einstellungen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                      const SizedBox(height: 8),
                                      Text(
                                        'Versuche andere Filter-Einstellungen.',
                                        style: Theme.of(context).textTheme.bodyMedium?.copyWith(
                                          color: Colors.grey[400],
                                        ),
```

**uiPackagefluttermaterialdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\main.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter/foundation.dart';
import 'app.dart';
```

**uiPackageflutterservicesdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\main.dart:2:8`
- ğŸ“ Original: `'package:flutter/services.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter/foundation.dart';
import 'app.dart';
import 'config/logger.dart';
```

**uiPackageflutterfoundationdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\main.dart:3:8`
- ğŸ“ Original: `'package:flutter/foundation.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter/foundation.dart';
import 'app.dart';
import 'config/logger.dart';
```

**uiConfigloggerdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\main.dart:5:8`
- ğŸ“ Original: `'config/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/services.dart';
import 'package:flutter/foundation.dart';
import 'app.dart';
import 'config/logger.dart';

// Service-Container fÃ¼r Dependency Injection
class ServiceLocator {
```

**uiReturnTrueHandled** â“ (Confidence: 0.5)
- ğŸ“ `lib\main.dart:66:25`
- ğŸ“ Original: `',
      },
    );
    return true; // Handled
  };

  // Set preferred orientations
  await SystemChrome.setPreferredOrientations([
    DeviceOrientation.portraitUp,
    DeviceOrientation.portraitDown,
  ]);

  AppLogger.app.i('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
stackTrace: stack,
      context: {
        'type': 'dart_unhandled',
        'isolate': 'main',
      },
    );
    return true; // Handled
```

**uiStyleThemeofcontexttextthemeheadlinemediumcopywithColor** â“ (Confidence: 0.5)
- ğŸ“ `lib\routing\app_router.dart:427:42`
- ğŸ“ Original: `',
                    style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                      color: AppTheme.textPrimary,
                      fontWeight: FontWeight.bold,
                    ),
                  ),
                  const SizedBox(height: 16),
                  Text(
                    '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 24),
                  Text(
                    'Seite nicht gefunden',
                    style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                      color: AppTheme.textPrimary,
                      fontWeight: FontWeight.bold,
```

**uiStyleThemeofcontexttextthemebodylargecopywithColor** â“ (Confidence: 0.5)
- ğŸ“ `lib\routing\app_router.dart:435:83`
- ğŸ“ Original: `',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
                    textAlign: TextAlign.center,
                  ),
                  const SizedBox(height: 32),
                  Row(
                    mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                    children: [
                      ElevatedButton.icon(
                        onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 16),
                  Text(
                    'Die angeforderte Seite existiert nicht oder wurde verschoben.',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
```

**uiStyleThemeofcontexttextthemeheadlinemediumcopywithColor** â“ (Confidence: 0.5)
- ğŸ“ `lib\routing\app_router.dart:510:40`
- ğŸ“ Original: `',
                    style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                      color: AppTheme.textPrimary,
                      fontWeight: FontWeight.bold,
                    ),
                  ),
                  const SizedBox(height: 16),
                  Text(
                    '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 24),
                  Text(
                    'Zugriff verweigert',
                    style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                      color: AppTheme.textPrimary,
                      fontWeight: FontWeight.bold,
```

**uiStyleThemeofcontexttextthemebodylargecopywithColor** â“ (Confidence: 0.5)
- ğŸ“ `lib\routing\app_router.dart:518:77`
- ğŸ“ Original: `',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
                    textAlign: TextAlign.center,
                  ),
                  const SizedBox(height: 32),
                  ElevatedButton.icon(
                    onPressed: () => context.goNamed('`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 16),
                  Text(
                    'Du musst dich anmelden, um auf diese Seite zuzugreifen.',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
```

**uiPackagefluttermaterialdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\loading_page.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';

class LoadingPage extends StatelessWidget {
  const LoadingPage({super.key});
```

**uiStyleTextstyleColor** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\navigation_widget.dart:210:31`
- ğŸ“ Original: `',
                  style: TextStyle(
                    color: Colors.grey[400],
                    fontSize: 12,
                  ),
                ),
              ],
            ),
            const SizedBox(width: 12),
            Icon(
              Icons.keyboard_arrow_down,
              color: Colors.grey[400],
              size: 24,
            ),
          ],
        ),
      ),
    );
  }
  
  Widget _buildExpandedView(List<NavigationItem> items) {
    return Column(
      mainAxisSize: MainAxisSize.min,
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        // Header
        InkWell(
          onTap: _toggleExpanded,
          borderRadius: const BorderRadius.only(
            topLeft: Radius.circular(16),
            topRight: Radius.circular(16),
          ),
          child: Padding(
            padding: const EdgeInsets.all(12.0),
            child: Row(
              mainAxisSize: MainAxisSize.min,
              children: [
                Container(
                  width: 36,
                  height: 36,
                  decoration: BoxDecoration(
                    color: AppTheme.primaryColor.withOpacity(0.2),
                    shape: BoxShape.circle,
                  ),
                  child: const Icon(
                    Icons.explore,
                    color: AppTheme.primaryColor,
                    size: 20,
                  ),
                ),
                const SizedBox(width: 12),
                const Text(
                  '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                ),
                Text(
                  'MenÃ¼ Ã¶ffnen',
                  style: TextStyle(
                    color: Colors.grey[400],
                    fontSize: 12,
```

**uiVorregistrierungErfolgreich** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\pre_register_dialog.dart:43:27`
- ğŸ“ Original: `'Vorregistrierung erfolgreich!'`
- ğŸ¯ Widget: Widget: Scaffold
- ğŸ”§ Context:
```dart
Navigator.of(context).pop(true);
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(
            content: Text('Vorregistrierung erfolgreich!'),
            backgroundColor: Colors.green,
          ),
        );
```

**uiPackagefluttermaterialdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../config/logger.dart';

class SplashScreen extends StatefulWidget {
```

**uiConfigloggerdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:2:8`
- ğŸ“ Original: `'../../config/logger.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import '../../config/logger.dart';

class SplashScreen extends StatefulWidget {
  final Future<void> Function() initializationFunction;
```

**uiSplashscreenInitialisierungTimeout** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:60:29`
- ğŸ“ Original: `'â° SplashScreen Initialisierung timeout'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final result = await Future.any([
          _runInitializationWithSteps().then((_) => 'success'),
          Future.delayed(timeout).then((_) {
            AppLogger.app.w('â° SplashScreen Initialisierung timeout');
            return 'timeout';
          }),
        ]);
```

**uiIfResult** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:61:28`
- ğŸ“ Original: `';
          }),
        ]);
        
        if (result == '`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
_runInitializationWithSteps().then((_) => 'success'),
          Future.delayed(timeout).then((_) {
            AppLogger.app.w('â° SplashScreen Initialisierung timeout');
            return 'timeout';
          }),
        ]);
```

**ui_timedoutTrueFinal** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:65:31`
- ğŸ“ Original: `') {
          _timedOut = true;
          final onTimeout = widget.onTimeout;
          if (onTimeout != null) {
            onTimeout();
          }
        }
      } else {
        await _runInitializationWithSteps();
      }
      
      if (mounted) {
        setState(() {
          _isInitialized = true;
        });
        
        // Kurze VerzÃ¶gerung fÃ¼r smooth Transition
        await Future.delayed(const Duration(milliseconds: 500));
        
        // KEIN reverse() mehr - das hat die App ausgeblendet!
        // _animationController.reverse(); // ENTFERNT
      }
    } catch (e) {
      AppLogger.logError('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}),
        ]);
        
        if (result == 'timeout') {
          _timedOut = true;
          final onTimeout = widget.onTimeout;
          if (onTimeout != null) {
```

**uiStyleConstTextstyle** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:174:37`
- ğŸ“ Original: `',
              style: const TextStyle(
                fontSize: 32,
                fontWeight: FontWeight.bold,
                color: Colors.white,
              ),
            ),
            
            const SizedBox(height: 20),
            
            // Progress Indicator mit Steps
            if (initSteps != null && initSteps.isNotEmpty) ...[
              // Progress Bar
              Container(
                width: 200,
                height: 4,
                decoration: BoxDecoration(
                  color: Colors.white.withOpacity(0.3),
                  borderRadius: BorderRadius.circular(2),
                ),
                child: FractionallySizedBox(
                  alignment: Alignment.centerLeft,
                  widthFactor: (_currentStepIndex + 1) / initSteps.length,
                  child: Container(
                    decoration: BoxDecoration(
                      color: Colors.white,
                      borderRadius: BorderRadius.circular(2),
                    ),
                  ),
                ),
              ),
              
              const SizedBox(height: 10),
              
              // Current Step Text
              if (_currentStepName != null)
                Text(
                  _currentStepName ?? '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// App Name
            Text(
              widget.appName ?? 'App',
              style: const TextStyle(
                fontSize: 32,
                fontWeight: FontWeight.bold,
```

**uiStyleConstTextstyle** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:211:56`
- ğŸ“ Original: `',
                  style: const TextStyle(
                    fontSize: 14,
                    color: Colors.white70,
                  ),
                ),
              
              const SizedBox(height: 20),
            ] else ...[
              // Standard Loading Indicator
              const CircularProgressIndicator(
                valueColor: AlwaysStoppedAnimation<Color>(Colors.white),
              ),
            ],
            
            if (loadingText != null) ...[
              const SizedBox(height: 20),
              Text(
                loadingText,
                style: const TextStyle(
                  fontSize: 16,
                  color: Colors.white70,
                ),
              ),
            ],
            
            // Timeout Warning
            if (_timedOut) ...[
              const SizedBox(height: 20),
              Container(
                padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),
                decoration: BoxDecoration(
                  color: Colors.orange.withOpacity(0.2),
                  borderRadius: BorderRadius.circular(20),
                  border: Border.all(color: Colors.orange.withOpacity(0.5)),
                ),
                child: const Text(
                  '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Current Step Text
              if (_currentStepName != null)
                Text(
                  _currentStepName ?? 'Initialisiere...',
                  style: const TextStyle(
                    fontSize: 14,
                    color: Colors.white70,
```

**uiStyleTextstyleFontsize** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:248:65`
- ğŸ“ Original: `',
                  style: TextStyle(
                    fontSize: 12,
                    color: Colors.orange,
                  ),
                ),
              ),
            ],
          ],
        ),
      ),
    );
  }

  Widget _buildErrorScreen() {
    return Scaffold(
      backgroundColor: Colors.red.shade50,
      body: Center(
        child: Padding(
          padding: const EdgeInsets.all(20),
          child: Column(
            mainAxisAlignment: MainAxisAlignment.center,
            children: [
              Icon(
                Icons.error_outline,
                size: 80,
                color: Colors.red.shade400,
              ),
              
              const SizedBox(height: 20),
              
              const Text(
                '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
border: Border.all(color: Colors.orange.withOpacity(0.5)),
                ),
                child: const Text(
                  'Initialisierung dauert lÃ¤nger als erwartet...',
                  style: TextStyle(
                    fontSize: 12,
                    color: Colors.orange,
```

**uiStyleTextstyleColor** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:179:57`
- ğŸ“ Original: `',
                                    style: TextStyle(
                                      color: Colors.grey[400],
                                      fontSize: 12,
                                    ),
                                  ),
                              ],
                            ),
                          ),
                          // Expand/Collapse Icon
                          Icon(
                            _isExpanded ? Icons.expand_less : Icons.expand_more,
                            color: Colors.grey[400],
                            size: 20,
                          ),
                        ],
                      ),
                      
                      // Erweiterte Details
                      if (_isExpanded) ...[
                        const SizedBox(height: 12),
                        const Divider(color: Colors.grey, height: 1),
                        const SizedBox(height: 12),
                        
                        // Email
                        Row(
                          children: [
                            Icon(Icons.email_outlined, size: 16, color: Colors.grey[400]),
                            const SizedBox(width: 8),
                            Expanded(
                              child: Text(
                                user.email,
                                style: TextStyle(
                                  color: Colors.grey[300],
                                  fontSize: 14,
                                ),
                                overflow: TextOverflow.ellipsis,
                              ),
                            ),
                          ],
                        ),
                        
                        const SizedBox(height: 8),
                        
                                            // Rollen
                    if (user.roles != null && user.roles!.isNotEmpty) ...[
                      Row(
                        children: [
                          Icon(Icons.security, size: 16, color: Colors.grey[400]),
                          const SizedBox(width: 8),
                          Text(
                            '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                if (!_isExpanded)
                                  Text(
                                    'Klicken fÃ¼r Details',
                                    style: TextStyle(
                                      color: Colors.grey[400],
                                      fontSize: 12,
```

**uiStyleTextstyleColor** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:230:37`
- ğŸ“ Original: `',
                            style: TextStyle(
                              color: Colors.grey[400],
                              fontSize: 14,
                            ),
                          ),
                        ],
                      ),
                      const SizedBox(height: 6),
                      Wrap(
                        spacing: 6,
                        runSpacing: 6,
                        children: (user.roles ?? []).map((userRole) {
                              final roleName = userRole.role.name;
                              final scopeInfo = userRole.scopeType == '`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
Icon(Icons.security, size: 16, color: Colors.grey[400]),
                          const SizedBox(width: 8),
                          Text(
                            'Rollen:',
                            style: TextStyle(
                              color: Colors.grey[400],
                              fontSize: 14,
```

**uiUserrolescopetype** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:246:37`
- ğŸ“ Original: `' (${userRole.scopeType})'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
final roleName = userRole.role.name;
                              final scopeInfo = userRole.scopeType == 'global' 
                                  ? '' 
                                  : ' (${userRole.scopeType})';
                              
                              return Container(
                                padding: const EdgeInsets.symmetric(
```

**uiRolenamescopeinfo** â“ (Confidence: 0.5)
- ğŸ“ `lib\shared\widgets\user_info_widget.dart:271:39`
- ğŸ“ Original: `'$roleName$scopeInfo'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                    const SizedBox(width: 4),
                                    Text(
                                      '$roleName$scopeInfo',
                                      style: TextStyle(
                                        color: _getRoleColor(roleName),
                                        fontSize: 12,
```

**uiPackagefluttermaterialdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\theme\app_theme.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';

class AppTheme {
  // Primary Colors
```

**uiPackagefluttermaterialdart** â“ (Confidence: 0.5)
- ğŸ“ `lib\theme\background_widget.dart:1:8`
- ğŸ“ Original: `'package:flutter/material.dart'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'app_theme.dart';

class BackgroundWidget extends StatelessWidget {
```

**uiClassBackgroundwidgetExtends** â“ (Confidence: 0.5)
- ğŸ“ `lib\theme\background_widget.dart:2:23`
- ğŸ“ Original: `';

class BackgroundWidget extends StatelessWidget {
  final Widget child;
  final bool showOverlay;

  const BackgroundWidget({
    super.key,
    required this.child,
    this.showOverlay = false, // Changed default to false
  });

  @override
  Widget build(BuildContext context) {
    return Container(
      decoration: const BoxDecoration(
        image: DecorationImage(
          image: AssetImage('`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
import 'package:flutter/material.dart';
import 'app_theme.dart';

class BackgroundWidget extends StatelessWidget {
  final Widget child;
```

### ğŸ·ï¸ WORLD

**worldWeltenwindappWirdGebaut** â“ (Confidence: 0.5)
- ğŸ“ `lib\app.dart:42:21`
- ğŸ“ Original: `'ğŸ—ï¸ WeltenwindApp wird gebaut...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
@override
  Widget build(BuildContext context) {
    AppLogger.app.d('ğŸ—ï¸ WeltenwindApp wird gebaut...');
    
    return SplashScreen(
      initializationFunction: _initializeApp,
```

**worldWasMachtWeltenwind** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:479:29`
- ğŸ“ Original: `'Was macht Weltenwind besonders?'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Column(
                        children: [
                          const Text(
                            'Was macht Weltenwind besonders?',
                            style: TextStyle(
                              fontSize: 32,
                              fontWeight: FontWeight.bold,
```

**worldSchlieÃŸeDichTausenden** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:581:35`
- ğŸ“ Original: `'SchlieÃŸe dich tausenden Spielern an und starte noch heute!'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                                const SizedBox(height: 16),
                                Text(
                                  'SchlieÃŸe dich tausenden Spielern an und starte noch heute!',
                                  style: TextStyle(
                                    fontSize: 16,
                                    color: Colors.grey[300],
```

**world2024WeltenwindAlle** â“ (Confidence: 0.5)
- ğŸ“ `lib\features\landing\landing_page.dart:633:25`
- ğŸ“ Original: `'Â© 2024 Weltenwind. Alle Rechte vorbehalten.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Column(
                    children: [
                      Text(
                        'Â© 2024 Weltenwind. Alle Rechte vorbehalten.',
                        style: TextStyle(
                          color: Colors.grey[600],
                          fontSize: 14,
```

**worldDieAngeforderteWelt** â“ (Confidence: 0.5)
- ğŸ“ `lib\routing\app_router.dart:591:21`
- ğŸ“ Original: `'Die angeforderte Welt existiert nicht oder wurde entfernt.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 16),
                  Text(
                    'Die angeforderte Welt existiert nicht oder wurde entfernt.',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
```

### ğŸ·ï¸ NAVIGATION

**navigationBereit** â“ (Confidence: 0.5)
- ğŸ“ `lib\app.dart:53:9`
- ğŸ“ Original: `'Bereit!'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
'Lade Konfiguration...',
        'Starte Services...',
        'PrÃ¼fe Authentifizierung...',
        'Bereit!',
      ],
      appName: Env.appName,
      child: MaterialApp.router(
```

**navigationRouterWirdInitialisiert** â“ (Confidence: 0.5)
- ğŸ“ `lib\routing\app_router.dart:85:30`
- ğŸ“ Original: `'ğŸš€ Router wird initialisiert...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Router nur einmal initialisieren
    if (!_isInitialized) {
      AppLogger.navigation.i('ğŸš€ Router wird initialisiert...');
      try {
        _routerInstance = GoRouter(
          initialLocation: '/go',
```

### ğŸ·ï¸ UI

**uiAppStartet** â“ (Confidence: 0.4)
- ğŸ“ `lib\app.dart:84:21`
- ğŸ“ Original: `'ğŸš€ App startet...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
// Korrekte Initialisierungsfunktion NACH App-Start
  Future<void> _initializeApp() async {
    AppLogger.app.i('ğŸš€ App startet...');
    
    // 1. Environment initialisieren
    await Env.initialize();
```

**uiBodysubstring0100** â“ (Confidence: 0.4)
- ğŸ“ `lib\core\services\api_service.dart:255:34`
- ğŸ“ Original: `'${body.substring(0, 100)}...'`
- ğŸ¯ Widget: Widget: unknown
- ğŸ”§ Context:
```dart
}
    } catch (e) {
      // If JSON parsing fails, return truncated body
      return body.length > 100 ? '${body.substring(0, 100)}...' : body;
    }
    return body;
  }
```

**uiDasDashboardBefindet** â“ (Confidence: 0.4)
- ğŸ“ `lib\features\dashboard\dashboard_page.dart:110:39`
- ğŸ“ Original: `'Das Dashboard befindet sich noch im Aufbau.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
const SizedBox(width: 12),
                                  Expanded(
                                    child: Text(
                                      'Das Dashboard befindet sich noch im Aufbau.',
                                      style: TextStyle(
                                        color: Colors.grey[300],
                                        fontSize: 16,
```

**uiBereitFÃ¼rDein** â“ (Confidence: 0.4)
- ğŸ“ `lib\features\landing\landing_page.dart:572:35`
- ğŸ“ Original: `'Bereit fÃ¼r dein Abenteuer?'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
child: Column(
                              children: [
                                const Text(
                                  'Bereit fÃ¼r dein Abenteuer?',
                                  style: TextStyle(
                                    fontSize: 28,
                                    fontWeight: FontWeight.bold,
```

**uiDieAngeforderteSeite** â“ (Confidence: 0.4)
- ğŸ“ `lib\routing\app_router.dart:435:21`
- ğŸ“ Original: `'Die angeforderte Seite existiert nicht oder wurde verschoben.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 16),
                  Text(
                    'Die angeforderte Seite existiert nicht oder wurde verschoben.',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
```

**uiDuMusstDich** â“ (Confidence: 0.4)
- ğŸ“ `lib\routing\app_router.dart:518:21`
- ğŸ“ Original: `'Du musst dich anmelden, um auf diese Seite zuzugreifen.'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
),
                  const SizedBox(height: 16),
                  Text(
                    'Du musst dich anmelden, um auf diese Seite zuzugreifen.',
                    style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                      color: AppTheme.textSecondary,
                    ),
```

**uiInitialisiere** â“ (Confidence: 0.4)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:211:39`
- ğŸ“ Original: `'Initialisiere...'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
// Current Step Text
              if (_currentStepName != null)
                Text(
                  _currentStepName ?? 'Initialisiere...',
                  style: const TextStyle(
                    fontSize: 14,
                    color: Colors.white70,
```

**uiInitialisierungDauertLÃ¤nger** â“ (Confidence: 0.4)
- ğŸ“ `lib\shared\widgets\splash_screen.dart:248:19`
- ğŸ“ Original: `'Initialisierung dauert lÃ¤nger als erwartet...'`
- ğŸ¯ Widget: Widget: Text
- ğŸ”§ Context:
```dart
border: Border.all(color: Colors.orange.withOpacity(0.5)),
                ),
                child: const Text(
                  'Initialisierung dauert lÃ¤nger als erwartet...',
                  style: TextStyle(
                    fontSize: 12,
                    color: Colors.orange,
```

