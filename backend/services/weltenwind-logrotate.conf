# Weltenwind Log Rotation Configuration
# Pfad: /etc/logrotate.d/weltenwind

/var/log/weltenwind/*.log {
    # TÃ¤glich rotieren
    daily
    
    # 30 Tage aufbewahren (30 x daily)
    rotate 30
    
    # Komprimieren nach der Rotation
    compress
    delaycompress
    
    # Nicht rotieren wenn leer
    notifempty
    
    # Log-Datei nach Rotation neu erstellen
    create 0644 weltenwind weltenwind
    
    # Verfehlende Dateien ignorieren
    missing_ok
    
    # Nach der Rotation systemd-Service neu laden (optional)
    postrotate
        /bin/systemctl reload-or-restart weltenwind-backend.service > /dev/null 2>&1 || true
    endscript
}